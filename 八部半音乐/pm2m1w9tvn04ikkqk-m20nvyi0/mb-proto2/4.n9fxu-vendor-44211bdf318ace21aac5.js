(self.webpackChunk_mb2023_mb_proto=self.webpackChunk_mb2023_mb_proto||[]).push([[908],{93839:(_e,de,n)=>{"use strict";n.d(de,{A:()=>Y});var o=n(74059),b=n(51044),j=n(86634),m=n.n(j),E=n(87822),re=n(57464);class Y extends b.PureComponent{constructor(){super(...arguments),(0,o.A)(this,"getClassName",()=>{const{className:R,type:te,size:Q,corner:ee,disabled:J}=this.props;return m()(R,"button-root",{["type-"+te]:te,["size-"+Q]:Q,["corner-"+ee]:ee,"is-disabled":J})}),(0,o.A)(this,"onButtonClick",R=>{if(this.props.disabled){R.preventDefault();return}const{onClick:te}=this.props;te&&te(R)}),(0,o.A)(this,"onButtonMouseDown",R=>{if(this.props.disabled){R.preventDefault();return}const{onMouseDown:te}=this.props;te&&te(R)}),(0,o.A)(this,"getChildrenNode",()=>(0,re.jsx)("span",{className:"btn-text",children:this.props.children}))}render(){const R=this.getClassName(),te=this.getChildrenNode();return(0,re.jsx)(E.O,{className:R,onClick:this.onButtonClick,onMouseDown:this.onButtonMouseDown,children:(0,re.jsx)("div",{className:"btn-icon-text-container",children:te})})}}(0,o.A)(Y,"defaultProps",{type:"linear",disabled:!1,size:"common",corner:"smooth"})},15388:(_e,de,n)=>{"use strict";n.d(de,{A:()=>R});var o=n(74059),b=n(51044),j=n(86634),m=n.n(j),E=n(57464);function re(te){let{className:Q,renderIconList:ee}=te;return(0,E.jsx)("span",{className:m()("btn-icon",Q),children:ee.map((J,F)=>(0,E.jsx)("span",{className:"btn-icon-container",children:(0,E.jsx)(E.Fragment,{children:J})},F))})}const Y=re;var U=n(87822);class R extends b.PureComponent{constructor(Q){super(Q),(0,o.A)(this,"getClassName",()=>{const{className:ee,type:J,size:F,corner:T,disabled:Z,icon:H,children:c}=this.props;return m()(ee,"button-root",{["type-"+J]:J,["size-"+F]:F,["corner-"+T]:T,"is-disabled":Z,"has-icon":H&&c,"only-icon":H&&c===void 0})}),(0,o.A)(this,"onButtonClick",ee=>{if(this.props.disabled){ee.preventDefault();return}const{onClick:J}=this.props;J&&J(ee)}),(0,o.A)(this,"getIconNode",()=>(0,E.jsx)(Y,{renderIconList:this.state.iconList,className:this.props.className})),(0,o.A)(this,"getChildrenNode",()=>(0,E.jsx)("span",{className:"btn-text",children:this.props.children})),this.state={iconList:this.props.icon?[this.props.icon]:[]}}componentDidUpdate(Q){let{icon:ee}=Q;const{icon:J}=this.props;ee!==J&&this.setState({iconList:J?[this.props.icon]:[]})}render(){const Q=this.getClassName(),ee=this.getIconNode(),J=this.getChildrenNode();return(0,E.jsx)(U.O,{className:Q,onClick:this.onButtonClick,children:(0,E.jsxs)("div",{className:m()("btn-icon-text-container"),children:[ee,J]})})}}(0,o.A)(R,"defaultProps",{type:"linear",disabled:!1,size:"common",corner:"smooth"})},87822:(_e,de,n)=>{"use strict";n.d(de,{O:()=>j});var o=n(21676),b=n(73542);const j=o.Ay.div.withConfig({displayName:"styles__StyledButton",componentId:"sc-166yiuz-0"})(["border-radius:6px;display:inline-block;justify-content:center;align-items:center;font-family:PingFang SC;font-size:14px;font-weight:500;line-height:18px;user-select:none;cursor:pointer;.btn-icon-text-container{display:flex;justify-content:center;align-items:center;}.btn-icon{display:flex;justify-content:center;align-items:center;.btn-icon-container{margin-right:4px;width:16px;height:16px;overflow:hidden;}}&[class*='is-disabled']{cursor:not-allowed;opacity:0.4;}&[class*='type-linear']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='type-primary']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='type-secondary']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";border:1px solid ",";}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}}&[class*='type-link']{border:1px solid transparent;padding:0;color:",";&:hover:not([class*='is-disabled']){color:",";}&:active:not([class*='is-disabled']){color:",";}&.link-gray{color:",";&:hover{color:",";}&:active{color:",";}}}&[class*='type-danger']{background:",";color:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='size-tiny']{padding:4px 8px;max-height:24px;font-size:12px;line-height:14px;.btn-icon-text-container{min-width:46px;}&[class*='type-link']{padding:0;}}&[class*='size-common']{padding:6px 12px;max-height:32px;.btn-icon-text-container{min-width:54px;}&[class*='type-link']{padding:0;}}&[class*='size-medium']{padding:6px 16px;max-height:32px;.btn-icon-text-container{min-width:60px;}&[class*='type-link']{padding:0;}}&[class*='size-large']{padding:8px 16px;max-height:36px;.btn-icon-text-container{min-width:76px;}&[class*='type-link']{padding:0;}.btn-icon-container{margin-right:6px;}}&[class*='corner-smooth']{border-radius:6px;}&[class*='corner-soft']{border-radius:4px;}&[class*='corner-round']{border-radius:calc(infinity * 1px);}&[class*='only-icon']{padding:0;border:none;background:transparent;.btn-icon-text-container{min-width:0;}.btn-icon-container{margin-right:0;svg > *{fill:",";}}&:hover:not([class*='is-disabled']){background:none;.btn-icon-container{svg > *{fill:",";}}}&:active:not([class*='is-disabled']){background:none;.btn-icon-container{svg > *{fill:",";}}}}"],b.q.color_text_L2,b.q.color_bg_normal,b.q.color_split_line,b.q.color_bg_btn_normal_hover,b.q.color_bg_btn_normal_active,b.q.color_text_white,b.q.color_btn_primary_normal,b.q.color_btn_primary_hover,b.q.color_btn_primary_click,b.q.color_text_L2,b.q.color_bg_secondary_btn,b.q.color_btn_secondary_border_normal,b.q.color_btn_secondary_hover,b.q.color_btn_secondary_border_hover,b.q.color_btn_secondary_click,b.q.color_btn_primary_normal,b.q.color_btn_primary_hover,b.q.color_btn_primary_click,b.q.color_text_L2,b.q.color_text_L3,b.q.color_text_L1,b.q.color_btn_danger_normal,b.q.color_text_white,b.q.color_btn_danger_hover,b.q.color_btn_danger_click,b.q.color_text_L2,b.q.color_text_L3,b.q.color_text_L1)},73542:(_e,de,n)=>{"use strict";n.d(de,{q:()=>b});const o={common_white:"#FFFFFF",common_black:"#000000",primary_blue_01:"#126ACA",primary_blue_02:"#1684FC",primary_blue_03:"#459DFD",primary_blue_04:"#8AC1FD",primary_blue_05:"#B9DAFE",primary_blue_06:"#D0E6FE",primary_blue_07:"#E8F3FF",primary_blue_08:"#F5F8FD",primary_gray_01:"#35445D",primary_gray_02:"#5D6F8F",primary_gray_03:"#7D8CA5",primary_gray_04:"#9EA9BC",primary_gray_05:"#BEC5D2",primary_gray_06:"#D2D9E4",primary_gray_07:"#E1E6EF",primary_gray_08:"#F0F2F7",primary_gray_09:"#F3F5F9",primary_red_01:"#DD4747",primary_red_02:"#F85050",primary_red_03:"#F97373",primary_red_04:"#FDC2C2",primary_red_05:"#FEE5E5"},b={color_btn_primary_normal:o.primary_blue_02,color_btn_primary_hover:o.primary_blue_03,color_btn_primary_click:o.primary_blue_01,color_btn_primary_disable:o.primary_blue_05,color_btn_secondary_click:o.primary_blue_06,color_btn_secondary_normal:o.primary_blue_08,color_btn_secondary_hover:o.primary_blue_07,color_btn_outline_click:o.primary_gray_07,color_btn_outline_normal:o.common_white,color_btn_outline_hover:o.primary_gray_08,color_bg_normal:o.common_white,color_bg_card:o.primary_blue_08,color_bg_menu_click:o.primary_blue_06,color_bg_card_hover:o.primary_gray_07,color_bg_menu_hover:o.primary_blue_07,color_bg_input_hover:o.primary_gray_08,color_bg_input_normal:o.primary_gray_09,color_bg_item_gray:o.primary_gray_08,color_bg_item_hover:o.primary_gray_09,color_bg_fill_common_blue:o.primary_blue_02,color_bg_menu_drag_border:o.primary_blue_06,color_bg_card_hover_fusion_gray:o.primary_gray_06,color_bg_card_hover_fusion_blue:o.primary_blue_05,color_bg_card_hover_fusion:o.primary_gray_06,color_bg_secondary_btn:o.primary_blue_08,color_bg_btn_normal_hover:o.primary_gray_08,color_bg_btn_normal_active:o.primary_gray_07,color_bg_icon_gray:o.primary_gray_04,color_bg_icon_hover:o.primary_gray_03,color_text_L1:o.primary_gray_01,color_text_L2:o.primary_gray_02,color_text_L3:o.primary_gray_03,color_text_L4:o.primary_gray_04,color_text_L5:o.primary_blue_02,color_text_white:o.common_white,color_text_blue:o.primary_blue_02,color_text_blue_hover:o.primary_blue_01,color_text_blue_active:o.primary_blue_03,color_text_disable_01:o.primary_gray_05,color_tab_line:o.primary_gray_06,color_split_line:o.primary_gray_07,color_border_blue_common:o.primary_blue_02,color_btn_border_normal:o.primary_blue_05,color_btn_border_disable:o.primary_blue_07,color_btn_secondary_border_normal:o.primary_blue_06,color_btn_secondary_border_hover:o.primary_blue_07,color_btn_danger_normal:o.primary_red_02,color_btn_danger_hover:o.primary_red_03,color_btn_danger_click:o.primary_red_01,color_btn_danger_disable:o.primary_red_04,color_bg_modal_item_header:o.primary_gray_09,color_bg_light_red:o.primary_red_05,color_alarm_common:o.primary_red_02}},46795:(_e,de,n)=>{"use strict";n.d(de,{B7:()=>J,DE:()=>b,DW:()=>Y,Ds:()=>te,HS:()=>ee,OD:()=>U,SN:()=>Z,Yo:()=>m,iv:()=>T,rh:()=>E,sM:()=>re,uP:()=>H,uz:()=>c,zi:()=>Q});const o=(f,h)=>{const u=new Error("[NO SENTRY] "+f);return Object.assign(u,h),u},b=async f=>{const h=await fetch(f,{credentials:"same-origin"});let u;try{u=await h.json()}catch(p){u={}}if(!h.ok)throw o("[fetchGetJSON] failed with "+h.status+": "+f,{...u,status:h.status,url:f});return u},j=async(f,h)=>{const u=await fetch(f,{credentials:"same-origin",body:JSON.stringify(h)});let p;try{p=await u.json()}catch(S){p={}}if(!u.ok)throw o("[fetchGetJSON] failed with "+u.status+": "+f,{...p,status:u.status,url:f});return p},m=async f=>{const h=await fetch(f,{credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"}});let u;try{u=await h.json()}catch(p){u={}}if(!h.ok)throw o("[fetchGetJSON] failed with "+h.status+": "+f,{...u,status:h.status,url:f});return u},E=async f=>{let h=await fetch(f,{credentials:"same-origin"});const u=h.headers;if(!h.ok)throw o("[fetchGetJSON] failed with "+h.status+": "+f,{...await h.json(),status:h.status,url:f});return h=await h.json(),{result:h,headers:u}},re=async f=>{const h=await fetch(f,{method:"DELETE",credentials:"same-origin"});if(!h.ok)throw o("[fetchDeleteHead] failed with "+h.status+": "+f,{status:h.status,url:f})},Y=async f=>{const h=await fetch(f,{method:"DELETE",credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"}});if(!h.ok)throw o("[fetchDeleteHead] failed with "+h.status+": "+f,{status:h.status,url:f})},U=async f=>{const h=await fetch(f,{method:"DELETE",credentials:"same-origin"});if(!h.ok)throw o("[fetchDeleteJSON] failed with "+h.status+": "+f,{...await h.json(),status:h.status,url:f});return h.json()},R=async(f,h)=>fetch(f,{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(h)}),te=async(f,h)=>{const u=await R(f,h);if(!u.ok)throw o("[fetchPostHead] failed with "+u.status+": "+f,{status:u.status,url:f})},Q=async(f,h)=>{const u=await fetch(f,{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(h)});if(!u.ok)throw o("[fetchPostJSON] failed with "+u.status+": "+f,{...await u.json(),status:u.status,url:f});return u.json()},ee=async(f,h)=>{const u=await fetch(f,{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(h)});if(!u.ok)throw o("[fetchPostText] failed with "+u.status+": "+f,{status:u.status,url:f});return u.json()},J=async(f,h)=>{const u=await fetch(f,{method:"POST",credentials:"same-origin",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify(h)});if(!u.ok)throw o("[fetchPostJSON] failed with "+u.status+": "+f,{...await u.json(),status:u.status,url:f});return u.json()},F=async(f,h)=>{const u=await fetch(f,{method:"POST",headers:{"content-type":"application/json"},credentials:"same-origin",body:h});if(!u.ok)throw o("[fetchDeleteJSON] failed with "+u.status+": "+f,{url:f,status:u.status});return u.json()},T=async(f,h)=>{const u=await fetch(f,{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(h)});if(!u.ok)throw o("[fetchPutHead] failed with "+u.status+": "+f,{status:u.status,url:f})},Z=async(f,h)=>{const u=await fetch(f,{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(h)});if(!u.ok)throw o("[fetchPutJSON] failed with "+u.status+": "+f,{...await u.json(),status:u.status,url:f});return u.json()},H=async(f,h)=>{const u=await fetch(f,{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(h)});if(!u.ok)throw o("[fetchPutJSON] failed with "+u.status+": "+f,{...await u.json(),status:u.status,url:f});return u.json()},c=async(f,h)=>{const u=await fetch(f,{method:"DELETE",headers:{"content-type":"application/json"},body:JSON.stringify(h)});if(!u.ok)throw o("[fetchDeleteBodyHead] failed with "+u.status+": "+f,{url:f})}},56511:(_e,de,n)=>{"use strict";n.d(de,{N:()=>j,l:()=>m});var o=n(85782),b=n(35236);const j=async(E,re,Y)=>{const[U,R]=await(0,o.Vz)(b.r,E),te="/flpak/w-paknewft?"+new URLSearchParams({upperType:"project-basic",type:"proto2",teamCid:re,treLen:String(R.byteLength),treRawLen:String(U)}),Q=await fetch(te,{method:"POST",body:R,headers:{"mb-client-opt":encodeURIComponent(JSON.stringify(Y))}});if(!Q.ok)throw Object.assign(new Error("failed to create new flpak: "+te),{message:await Q.text(),status:Q.status});return Q.json()},m=async(E,re,Y)=>{const[U,R]=await(0,o.Vz)(b.r,E),te="/flpak/w-pakfcgmkt?"+new URLSearchParams({upperType:"combo-group",upperAction:"create-reviewable-project",type:"proto2",teamCid:re,treLen:String(R.byteLength),treRawLen:String(U)}),Q=await fetch(te,{method:"POST",body:R,headers:{"mb-client-opt":encodeURIComponent(JSON.stringify(Y))}});if(!Q.ok)throw Object.assign(new Error("failed to create new fcgmkt: "+te),{message:await Q.text(),status:Q.status});return Q.json()}},81811:(_e,de,n)=>{"use strict";n.d(de,{pX:()=>Kn,O3:()=>Co,ur:()=>vn});var o={};if(n.r(o),n.d(o,{Decoder:()=>Xn,Encoder:()=>ps,PacketType:()=>rt,protocol:()=>Ks}),n.j!=15)var b=n(25506);if(n.j!=15)var j=n(16515);const m=Object.create(null);m.open="0",m.close="1",m.ping="2",m.pong="3",m.message="4",m.upgrade="5",m.noop="6";const E=Object.create(null);Object.keys(m).forEach(r=>{E[m[r]]=r});const re={type:"error",data:"parser error"},Y=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",U=typeof ArrayBuffer=="function",R=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,te=(r,t,s)=>{let{type:g,data:A}=r;return Y&&A instanceof Blob?t?s(A):Q(A,s):U&&(A instanceof ArrayBuffer||R(A))?t?s(A):Q(new Blob([A]),s):s(m[g]+(A||""))},Q=(r,t)=>{const s=new FileReader;return s.onload=function(){const g=s.result.split(",")[1];t("b"+(g||""))},s.readAsDataURL(r)};function ee(r){return r instanceof Uint8Array?r:r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}let J;function F(r,t){if(Y&&r.data instanceof Blob)return r.data.arrayBuffer().then(ee).then(t);if(U&&(r.data instanceof ArrayBuffer||R(r.data)))return t(ee(r.data));te(r,!1,s=>{J||(J=new TextEncoder),t(J.encode(s))})}const T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Z=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<T.length;r++)Z[T.charCodeAt(r)]=r;const H=r=>{let t=new Uint8Array(r),s,g=t.length,A="";for(s=0;s<g;s+=3)A+=T[t[s]>>2],A+=T[(t[s]&3)<<4|t[s+1]>>4],A+=T[(t[s+1]&15)<<2|t[s+2]>>6],A+=T[t[s+2]&63];return g%3===2?A=A.substring(0,A.length-1)+"=":g%3===1&&(A=A.substring(0,A.length-2)+"=="),A},c=r=>{let t=r.length*.75,s=r.length,g,A=0,oe,Se,Ce,Ne;r[r.length-1]==="="&&(t--,r[r.length-2]==="="&&t--);const Re=new ArrayBuffer(t),Te=new Uint8Array(Re);for(g=0;g<s;g+=4)oe=Z[r.charCodeAt(g)],Se=Z[r.charCodeAt(g+1)],Ce=Z[r.charCodeAt(g+2)],Ne=Z[r.charCodeAt(g+3)],Te[A++]=oe<<2|Se>>4,Te[A++]=(Se&15)<<4|Ce>>2,Te[A++]=(Ce&3)<<6|Ne&63;return Re},f=typeof ArrayBuffer=="function",h=(r,t)=>{if(typeof r!="string")return{type:"message",data:p(r,t)};const s=r.charAt(0);return s==="b"?{type:"message",data:u(r.substring(1),t)}:E[s]?r.length>1?{type:E[s],data:r.substring(1)}:{type:E[s]}:re},u=(r,t)=>{if(f){const s=c(r);return p(s,t)}else return{base64:!0,data:r}},p=(r,t)=>{switch(t){case"blob":return r instanceof Blob?r:new Blob([r]);case"arraybuffer":default:return r instanceof ArrayBuffer?r:r.buffer}},S="",x=(r,t)=>{const s=r.length,g=new Array(s);let A=0;r.forEach((oe,Se)=>{te(oe,!1,Ce=>{g[Se]=Ce,++A===s&&t(g.join(S))})})},N=(r,t)=>{const s=r.split(S),g=[];for(let A=0;A<s.length;A++){const oe=h(s[A],t);if(g.push(oe),oe.type==="error")break}return g};function O(){return new TransformStream({transform(r,t){F(r,s=>{const g=s.length;let A;if(g<126)A=new Uint8Array(1),new DataView(A.buffer).setUint8(0,g);else if(g<65536){A=new Uint8Array(3);const oe=new DataView(A.buffer);oe.setUint8(0,126),oe.setUint16(1,g)}else{A=new Uint8Array(9);const oe=new DataView(A.buffer);oe.setUint8(0,127),oe.setBigUint64(1,BigInt(g))}r.data&&typeof r.data!="string"&&(A[0]|=128),t.enqueue(A),t.enqueue(s)})}})}let w;function K(r){return r.reduce((t,s)=>t+s.length,0)}function D(r,t){if(r[0].length===t)return r.shift();const s=new Uint8Array(t);let g=0;for(let A=0;A<t;A++)s[A]=r[0][g++],g===r[0].length&&(r.shift(),g=0);return r.length&&g<r[0].length&&(r[0]=r[0].slice(g)),s}function ne(r,t){w||(w=new TextDecoder);const s=[];let g=0,A=-1,oe=!1;return new TransformStream({transform(Se,Ce){for(s.push(Se);;){if(g===0){if(K(s)<1)break;const Ne=D(s,1);oe=(Ne[0]&128)===128,A=Ne[0]&127,A<126?g=3:A===126?g=1:g=2}else if(g===1){if(K(s)<2)break;const Ne=D(s,2);A=new DataView(Ne.buffer,Ne.byteOffset,Ne.length).getUint16(0),g=3}else if(g===2){if(K(s)<8)break;const Ne=D(s,8),Re=new DataView(Ne.buffer,Ne.byteOffset,Ne.length),Te=Re.getUint32(0);if(Te>Math.pow(2,21)-1){Ce.enqueue(re);break}A=Te*Math.pow(2,32)+Re.getUint32(4),g=3}else{if(K(s)<A)break;const Ne=D(s,A);Ce.enqueue(h(oe?Ne:w.decode(Ne),t)),g=0}if(A===0||A>r){Ce.enqueue(re);break}}}})}const k=4;function V(r){if(r)return z(r)}function z(r){for(var t in V.prototype)r[t]=V.prototype[t];return r}V.prototype.on=V.prototype.addEventListener=function(r,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(t),this},V.prototype.once=function(r,t){function s(){this.off(r,s),t.apply(this,arguments)}return s.fn=t,this.on(r,s),this},V.prototype.off=V.prototype.removeListener=V.prototype.removeAllListeners=V.prototype.removeEventListener=function(r,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+r];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var g,A=0;A<s.length;A++)if(g=s[A],g===t||g.fn===t){s.splice(A,1);break}return s.length===0&&delete this._callbacks["$"+r],this},V.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+r],g=1;g<arguments.length;g++)t[g-1]=arguments[g];if(s){s=s.slice(0);for(var g=0,A=s.length;g<A;++g)s[g].apply(this,t)}return this},V.prototype.emitReserved=V.prototype.emit,V.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},V.prototype.hasListeners=function(r){return!!this.listeners(r).length};const I=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function P(r){for(var t=arguments.length,s=new Array(t>1?t-1:0),g=1;g<t;g++)s[g-1]=arguments[g];return s.reduce((A,oe)=>(r.hasOwnProperty(oe)&&(A[oe]=r[oe]),A),{})}const q=I.setTimeout,pe=I.clearTimeout;function ge(r,t){t.useNativeTimers?(r.setTimeoutFn=q.bind(I),r.clearTimeoutFn=pe.bind(I)):(r.setTimeoutFn=I.setTimeout.bind(I),r.clearTimeoutFn=I.clearTimeout.bind(I))}const we=1.33;function ke(r){return typeof r=="string"?Me(r):Math.ceil((r.byteLength||r.size)*we)}function Me(r){let t=0,s=0;for(let g=0,A=r.length;g<A;g++)t=r.charCodeAt(g),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(g++,s+=4);return s}function ze(r){let t="";for(let s in r)r.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(r[s]));return t}function Ze(r){let t={},s=r.split("&");for(let g=0,A=s.length;g<A;g++){let oe=s[g].split("=");t[decodeURIComponent(oe[0])]=decodeURIComponent(oe[1])}return t}class Oe extends Error{constructor(t,s,g){super(t),this.description=s,this.context=g,this.type="TransportError"}}class be extends V{constructor(t){super(),this.writable=!1,ge(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,s,g){return super.emitReserved("error",new Oe(t,s,g)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=h(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s){return s===void 0&&(s={}),t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=ze(t);return s.length?"?"+s:""}}const Ue="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Ye=64,et={};let Qe=0,i=0,ct;function ut(r){let t="";do t=Ue[r%Ye]+t,r=Math.floor(r/Ye);while(r>0);return t}function jt(r){let t=0;for(i=0;i<r.length;i++)t=t*Ye+et[r.charAt(i)];return t}function vt(){const r=ut(+new Date);return r!==ct?(Qe=0,ct=r):r+"."+ut(Qe++)}for(;i<Ye;i++)et[Ue[i]]=i;let gt=!1;try{gt=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(r){}const at=gt;function yt(r){const t=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||at))return new XMLHttpRequest}catch(s){}if(!t)try{return new I[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(s){}}function $t(){}function Bt(){}const Jt=function(){return new yt({xdomain:!1}).responseType!=null}();class nn extends be{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const g=location.protocol==="https:";let A=location.port;A||(A=g?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||A!==t.port}const s=t&&t.forceBase64;this.supportsBinary=Jt&&!s,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let g=0;this.polling&&(g++,this.once("pollComplete",function(){--g||s()})),this.writable||(g++,this.once("drain",function(){--g||s()}))}else s()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=g=>{if(this.readyState==="opening"&&g.type==="open"&&this.onOpen(),g.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(g)};N(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,x(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=vt()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}request(t){return t===void 0&&(t={}),Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new It(this.uri(),t)}doWrite(t,s){const g=this.request({method:"POST",data:t});g.on("success",s),g.on("error",(A,oe)=>{this.onError("xhr post error",A,oe)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,g)=>{this.onError("xhr poll error",s,g)}),this.pollXhr=t}}class It extends V{constructor(t,s){super(),ge(this,s),this.opts=s,this.method=s.method||"GET",this.uri=t,this.data=s.data!==void 0?s.data:null,this.create()}create(){var t;const s=P(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this.opts.xd;const g=this.xhr=new yt(s);try{g.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){g.setDisableHeaderCheck&&g.setDisableHeaderCheck(!0);for(let A in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(A)&&g.setRequestHeader(A,this.opts.extraHeaders[A])}}catch(A){}if(this.method==="POST")try{g.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(A){}try{g.setRequestHeader("Accept","*/*")}catch(A){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(g),"withCredentials"in g&&(g.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(g.timeout=this.opts.requestTimeout),g.onreadystatechange=()=>{var A;g.readyState===3&&((A=this.opts.cookieJar)===null||A===void 0||A.parseCookies(g)),g.readyState===4&&(g.status===200||g.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof g.status=="number"?g.status:0)},0))},g.send(this.data)}catch(A){this.setTimeoutFn(()=>{this.onError(A)},0);return}typeof document<"u"&&(this.index=It.requestsCount++,It.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Bt,t)try{this.xhr.abort()}catch(s){}typeof document<"u"&&delete It.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(It.requestsCount=0,It.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",sn);else if(typeof addEventListener=="function"){const r="onpagehide"in I?"pagehide":"unload";addEventListener(r,sn,!1)}}function sn(){for(let r in It.requests)It.requests.hasOwnProperty(r)&&It.requests[r].abort()}const en=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,s)=>s(t,0),Ft=I.WebSocket||I.MozWebSocket,on=!0,_n="arraybuffer",Sn=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Cn extends be{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),s=this.opts.protocols,g=Sn?{}:P(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(g.headers=this.opts.extraHeaders);try{this.ws=on&&!Sn?s?new Ft(t,s):new Ft(t):new Ft(t,s,g)}catch(A){return this.emitReserved("error",A)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const g=t[s],A=s===t.length-1;te(g,this.supportsBinary,oe=>{const Se={};on||(g.options&&(Se.compress=g.options.compress),this.opts.perMessageDeflate&&(typeof oe=="string"?Buffer.byteLength(oe):oe.length)<this.opts.perMessageDeflate.threshold&&(Se.compress=!1));try{on?this.ws.send(oe):this.ws.send(oe,Se)}catch(Ce){}A&&en(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=vt()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}check(){return!!Ft}}class xt extends be{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const s=ne(Number.MAX_SAFE_INTEGER,this.socket.binaryType),g=t.readable.pipeThrough(s).getReader(),A=O();A.readable.pipeTo(t.writable),this.writer=A.writable.getWriter();const oe=()=>{g.read().then(Ce=>{let{done:Ne,value:Re}=Ce;Ne||(this.onPacket(Re),oe())}).catch(Ce=>{})};oe();const Se={type:"open"};this.query.sid&&(Se.data='{"sid":"'+this.query.sid+'"}'),this.writer.write(Se).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const g=t[s],A=s===t.length-1;this.writer.write(g).then(()=>{A&&en(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const $n={websocket:Cn,webtransport:xt,polling:nn},Lt=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Nn=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function hn(r){if(r.length>2e3)throw"URI too long";const t=r,s=r.indexOf("["),g=r.indexOf("]");s!=-1&&g!=-1&&(r=r.substring(0,s)+r.substring(s,g).replace(/:/g,";")+r.substring(g,r.length));let A=Lt.exec(r||""),oe={},Se=14;for(;Se--;)oe[Nn[Se]]=A[Se]||"";return s!=-1&&g!=-1&&(oe.source=t,oe.host=oe.host.substring(1,oe.host.length-1).replace(/;/g,":"),oe.authority=oe.authority.replace("[","").replace("]","").replace(/;/g,":"),oe.ipv6uri=!0),oe.pathNames=Ln(oe,oe.path),oe.queryKey=Qt(oe,oe.query),oe}function Ln(r,t){const s=/\/{2,9}/g,g=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&g.splice(0,1),t.slice(-1)=="/"&&g.splice(g.length-1,1),g}function Qt(r,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(g,A,oe){A&&(s[A]=oe)}),s}class Ut extends V{constructor(t,s){s===void 0&&(s={}),super(),this.binaryType=_n,this.writeBuffer=[],t&&typeof t=="object"&&(s=t,t=null),t?(t=hn(t),s.hostname=t.host,s.secure=t.protocol==="https"||t.protocol==="wss",s.port=t.port,t.query&&(s.query=t.query)):s.host&&(s.hostname=hn(s.host).host),ge(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=s.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Ze(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=k,s.transport=t,this.id&&(s.sid=this.id);const g=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new $n[t](g)}open(){let t;if(this.opts.rememberUpgrade&&Ut.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(s){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",s=>this.onClose("transport close",s))}probe(t){let s=this.createTransport(t),g=!1;Ut.priorWebsocketSuccess=!1;const A=()=>{g||(s.send([{type:"ping",data:"probe"}]),s.once("packet",He=>{if(!g)if(He.type==="pong"&&He.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;Ut.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{g||this.readyState!=="closed"&&(Te(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const me=new Error("probe error");me.transport=s.name,this.emitReserved("upgradeError",me)}}))};function oe(){g||(g=!0,Te(),s.close(),s=null)}const Se=He=>{const me=new Error("probe error: "+He);me.transport=s.name,oe(),this.emitReserved("upgradeError",me)};function Ce(){Se("transport closed")}function Ne(){Se("socket closed")}function Re(He){s&&He.name!==s.name&&oe()}const Te=()=>{s.removeListener("open",A),s.removeListener("error",Se),s.removeListener("close",Ce),this.off("close",Ne),this.off("upgrading",Re)};s.once("open",A),s.once("error",Se),s.once("close",Ce),this.once("close",Ne),this.once("upgrading",Re),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{g||s.open()},200):s.open()}onOpen(){if(this.readyState="open",Ut.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const s=this.upgrades.length;for(;t<s;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const s=new Error("server error");s.code=t.data,this.onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let g=0;g<this.writeBuffer.length;g++){const A=this.writeBuffer[g].data;if(A&&(s+=ke(A)),g>0&&s>this.maxPayload)return this.writeBuffer.slice(0,g);s+=2}return this.writeBuffer}write(t,s,g){return this.sendPacket("message",t,s,g),this}send(t,s,g){return this.sendPacket("message",t,s,g),this}sendPacket(t,s,g,A){if(typeof s=="function"&&(A=s,s=void 0),typeof g=="function"&&(A=g,g=null),this.readyState==="closing"||this.readyState==="closed")return;g=g||{},g.compress=g.compress!==!1;const oe={type:t,data:s,options:g};this.emitReserved("packetCreate",oe),this.writeBuffer.push(oe),A&&this.once("flush",A),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},g=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?g():t()}):this.upgrading?g():t()),this}onError(t){Ut.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,s){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const s=[];let g=0;const A=t.length;for(;g<A;g++)~this.transports.indexOf(t[g])&&s.push(t[g]);return s}}Ut.protocol=k;const us=Ut.protocol;function zs(r,t,s){t===void 0&&(t="");let g=r;s=s||typeof location<"u"&&location,r==null&&(r=s.protocol+"//"+s.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=s.protocol+r:r=s.host+r),/^(https?|wss?):\/\//.test(r)||(typeof s<"u"?r=s.protocol+"//"+r:r="https://"+r),g=hn(r)),g.port||(/^(http|ws)$/.test(g.protocol)?g.port="80":/^(http|ws)s$/.test(g.protocol)&&(g.port="443")),g.path=g.path||"/";const oe=g.host.indexOf(":")!==-1?"["+g.host+"]":g.host;return g.id=g.protocol+"://"+oe+":"+g.port+t,g.href=g.protocol+"://"+oe+(s&&s.port===g.port?"":":"+g.port),g}const Us=typeof ArrayBuffer=="function",rn=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,Mn=Object.prototype.toString,Gn=typeof Blob=="function"||typeof Blob<"u"&&Mn.call(Blob)==="[object BlobConstructor]",jn=typeof File=="function"||typeof File<"u"&&Mn.call(File)==="[object FileConstructor]";function In(r){return Us&&(r instanceof ArrayBuffer||rn(r))||Gn&&r instanceof Blob||jn&&r instanceof File}function an(r,t){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let s=0,g=r.length;s<g;s++)if(an(r[s]))return!0;return!1}if(In(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return an(r.toJSON(),!0);for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&an(r[s]))return!0;return!1}function Ws(r){const t=[],s=r.data,g=r;return g.data=Jn(s,t),g.attachments=t.length,{packet:g,buffers:t}}function Jn(r,t){if(!r)return r;if(In(r)){const s={_placeholder:!0,num:t.length};return t.push(r),s}else if(Array.isArray(r)){const s=new Array(r.length);for(let g=0;g<r.length;g++)s[g]=Jn(r[g],t);return s}else if(typeof r=="object"&&!(r instanceof Date)){const s={};for(const g in r)Object.prototype.hasOwnProperty.call(r,g)&&(s[g]=Jn(r[g],t));return s}return r}function Hs(r,t){return r.data=Qn(r.data,t),delete r.attachments,r}function Qn(r,t){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<t.length)return t[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let s=0;s<r.length;s++)r[s]=Qn(r[s],t);else if(typeof r=="object")for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&(r[s]=Qn(r[s],t));return r}const Vs=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ks=5;var rt;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(rt||(rt={}));class ps{constructor(t){this.replacer=t}encode(t){return(t.type===rt.EVENT||t.type===rt.ACK)&&an(t)?this.encodeAsBinary({type:t.type===rt.EVENT?rt.BINARY_EVENT:rt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===rt.BINARY_EVENT||t.type===rt.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=Ws(t),g=this.encodeAsString(s.packet),A=s.buffers;return A.unshift(g),A}}function Gt(r){return Object.prototype.toString.call(r)==="[object Object]"}class Xn extends V{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const g=s.type===rt.BINARY_EVENT;g||s.type===rt.BINARY_ACK?(s.type=g?rt.EVENT:rt.ACK,this.reconstructor=new Zs(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(In(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const g={type:Number(t.charAt(0))};if(rt[g.type]===void 0)throw new Error("unknown packet type "+g.type);if(g.type===rt.BINARY_EVENT||g.type===rt.BINARY_ACK){const oe=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const Se=t.substring(oe,s);if(Se!=Number(Se)||t.charAt(s)!=="-")throw new Error("Illegal attachments");g.attachments=Number(Se)}if(t.charAt(s+1)==="/"){const oe=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););g.nsp=t.substring(oe,s)}else g.nsp="/";const A=t.charAt(s+1);if(A!==""&&Number(A)==A){const oe=s+1;for(;++s;){const Se=t.charAt(s);if(Se==null||Number(Se)!=Se){--s;break}if(s===t.length)break}g.id=Number(t.substring(oe,s+1))}if(t.charAt(++s)){const oe=this.tryParse(t.substr(s));if(Xn.isPayloadValid(g.type,oe))g.data=oe;else throw new Error("invalid payload")}return g}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(s){return!1}}static isPayloadValid(t,s){switch(t){case rt.CONNECT:return Gt(s);case rt.DISCONNECT:return s===void 0;case rt.CONNECT_ERROR:return typeof s=="string"||Gt(s);case rt.EVENT:case rt.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&Vs.indexOf(s[0])===-1);case rt.ACK:case rt.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Zs{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=Hs(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Wt(r,t,s){return r.on(t,s),function(){r.off(t,s)}}const Ys=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class hs extends V{constructor(t,s,g){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,g&&g.auth&&(this.auth=g.auth),this._opts=Object.assign({},g),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Wt(t,"open",this.onopen.bind(this)),Wt(t,"packet",this.onpacket.bind(this)),Wt(t,"error",this.onerror.bind(this)),Wt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(){for(var t=arguments.length,s=new Array(t),g=0;g<t;g++)s[g]=arguments[g];return s.unshift("message"),this.emit.apply(this,s),this}emit(t){if(Ys.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');for(var s=arguments.length,g=new Array(s>1?s-1:0),A=1;A<s;A++)g[A-1]=arguments[A];if(g.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(g),this;const oe={type:rt.EVENT,data:g};if(oe.options={},oe.options.compress=this.flags.compress!==!1,typeof g[g.length-1]=="function"){const Ne=this.ids++,Re=g.pop();this._registerAckCallback(Ne,Re),oe.id=Ne}const Se=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!Se||!this.connected)||(this.connected?(this.notifyOutgoingListeners(oe),this.packet(oe)):this.sendBuffer.push(oe)),this.flags={},this}_registerAckCallback(t,s){var g=this,A;const oe=(A=this.flags.timeout)!==null&&A!==void 0?A:this._opts.ackTimeout;if(oe===void 0){this.acks[t]=s;return}const Se=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let Ne=0;Ne<this.sendBuffer.length;Ne++)this.sendBuffer[Ne].id===t&&this.sendBuffer.splice(Ne,1);s.call(this,new Error("operation has timed out"))},oe),Ce=function(){g.io.clearTimeoutFn(Se);for(var Ne=arguments.length,Re=new Array(Ne),Te=0;Te<Ne;Te++)Re[Te]=arguments[Te];s.apply(g,Re)};Ce.withError=!0,this.acks[t]=Ce}emitWithAck(t){for(var s=arguments.length,g=new Array(s>1?s-1:0),A=1;A<s;A++)g[A-1]=arguments[A];return new Promise((oe,Se)=>{const Ce=(Ne,Re)=>Ne?Se(Ne):oe(Re);Ce.withError=!0,g.push(Ce),this.emit(t,...g)})}_addToQueue(t){var s=this;let g;typeof t[t.length-1]=="function"&&(g=t.pop());const A={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push(function(oe){if(A!==s._queue[0])return;if(oe!==null)A.tryCount>s._opts.retries&&(s._queue.shift(),g&&g(oe));else if(s._queue.shift(),g){for(var Ce=arguments.length,Ne=new Array(Ce>1?Ce-1:0),Re=1;Re<Ce;Re++)Ne[Re-1]=arguments[Re];g(null,...Ne)}return A.pending=!1,s._drainQueue()}),this._queue.push(A),this._drainQueue()}_drainQueue(t){if(t===void 0&&(t=!1),!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:rt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(g=>String(g.id)===t)){const g=this.acks[t];delete this.acks[t],g.withError&&g.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case rt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case rt.EVENT:case rt.BINARY_EVENT:this.onevent(t);break;case rt.ACK:case rt.BINARY_ACK:this.onack(t);break;case rt.DISCONNECT:this.ondisconnect();break;case rt.CONNECT_ERROR:this.destroy();const g=new Error(t.data.message);g.data=t.data.data,this.emitReserved("connect_error",g);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const g of s)g.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let g=!1;return function(){if(!g){g=!0;for(var A=arguments.length,oe=new Array(A),Se=0;Se<A;Se++)oe[Se]=arguments[Se];s.packet({type:rt.ACK,id:t,data:oe})}}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(delete this.acks[t.id],s.withError&&t.data.unshift(null),s.apply(this,t.data))}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:rt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let g=0;g<s.length;g++)if(t===s[g])return s.splice(g,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let g=0;g<s.length;g++)if(t===s[g])return s.splice(g,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const g of s)g.apply(this,t.data)}}}function mn(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}mn.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*r);r=Math.floor(t*10)&1?r+s:r-s}return Math.min(r,this.max)|0},mn.prototype.reset=function(){this.attempts=0},mn.prototype.setMin=function(r){this.ms=r},mn.prototype.setMax=function(r){this.max=r},mn.prototype.setJitter=function(r){this.jitter=r};class cn extends V{constructor(t,s){var g;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,ge(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((g=s.randomizationFactor)!==null&&g!==void 0?g:.5),this.backoff=new mn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const A=s.parser||o;this.encoder=new A.Encoder,this.decoder=new A.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Ut(this.uri,this.opts);const s=this.engine,g=this;this._readyState="opening",this.skipReconnect=!1;const A=Wt(s,"open",function(){g.onopen(),t&&t()}),oe=Ce=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",Ce),t?t(Ce):this.maybeReconnectOnOpen()},Se=Wt(s,"error",oe);if(this._timeout!==!1){const Ce=this._timeout,Ne=this.setTimeoutFn(()=>{A(),oe(new Error("timeout")),s.close()},Ce);this.opts.autoUnref&&Ne.unref(),this.subs.push(()=>{this.clearTimeoutFn(Ne)})}return this.subs.push(A),this.subs.push(Se),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Wt(t,"ping",this.onping.bind(this)),Wt(t,"data",this.ondata.bind(this)),Wt(t,"error",this.onerror.bind(this)),Wt(t,"close",this.onclose.bind(this)),Wt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){en(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let g=this.nsps[t];return g?this._autoConnect&&!g.active&&g.connect():(g=new hs(this,t,s),this.nsps[t]=g),g}_destroy(t){const s=Object.keys(this.nsps);for(const g of s)if(this.nsps[g].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let g=0;g<s.length;g++)this.engine.write(s[g],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,s){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const g=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(A=>{A?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",A)):t.onreconnect()}))},s);this.opts.autoUnref&&g.unref(),this.subs.push(()=>{this.clearTimeoutFn(g)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const En={};function qn(r,t){typeof r=="object"&&(t=r,r=void 0),t=t||{};const s=zs(r,t.path||"/socket.io"),g=s.source,A=s.id,oe=s.path,Se=En[A]&&oe in En[A].nsps,Ce=t.forceNew||t["force new connection"]||t.multiplex===!1||Se;let Ne;return Ce?Ne=new cn(g,t):(En[A]||(En[A]=new cn(g,t)),Ne=En[A]),s.query&&!t.query&&(t.query=s.queryKey),Ne.socket(s.path,t)}if(Object.assign(qn,{Manager:cn,Socket:hs,io:qn,connect:qn}),n.j!=15)var Pn=n(89509);if(n.j!=15)var wt=n(17255);if(n.j!=15)var Ht=n(33386);if(n.j!=15)var $s=n(22122);const es=n.j!=15?2*1e3:null,kn=n.j!=15?24*1e3:null,ms=n.j!=15?48*1e3:null,gn=()=>{},gs=()=>({destroy:gn,reset:gn,emitAsync:Gs,emitLossy:gn,getIsConnected:()=>!0,getSocketId:()=>"",getReadyPromise:()=>Promise.resolve(),getOffsetMsec:()=>0,DUMMY:!0}),Gs=async(r,t)=>({type:r,payload:t,isDummy:!0}),Js=r=>{let{query:{uId:t,fURL:s=globalThis.location.href.slice(0,128),uTag:g=wt.CH,vTag:A=$s.r,rKey:oe},lossyListenerMap:Se={},queueListenerMap:Ce={},socketUrl:Ne=globalThis.location.origin,socketPath:Re=wt.$r,usePolling:Te=!1}=r;if(!t||!oe)throw new Error("SKT bad query");const He=(0,Pn.I6)();let me,ye=(0,b.wT)(),Le=0,Fe=null;const qe=()=>{me!==void 0&&(me.close(),me=void 0,ye=(0,b.wT)(),dt=!1,Fe&&clearTimeout(Fe),Fe=null)},bt=()=>{qe();const Je=new cn(Ne,{path:Re,query:{uId:t,fURL:s,uTag:g,vTag:A,rKey:oe},transports:Te?["polling","websocket"]:["websocket"],timeout:ms,reconnectionDelay:Math.round((es+kn)/2),reconnectionDelayMax:ms,randomizationFactor:(kn-es)/(kn+es),closeOnBeforeunload:!1}).socket(wt.I4);Je.on("connect_error",De=>{console.log("[socket] connect_error",De),De.message.includes(wt.uB)&&(qe(),He.dispatchEvent({type:wt.VU,payload:{error:De}})),He.dispatchEvent({type:wt.Ei,payload:{error:De}})}),Je.on("connect",async()=>{console.log("[socket] connect");{const De=Date.now(),$e=await(0,b.hq)(At(wt.Ip),10*1e3,wt.Ip).catch(async tt=>{throw(0,j.et)(bt,2*1e3),console.warn(wt.Ip,tt),ye.reject(tt),tt}),Ke=Date.now();Le=$e-(De+Ke)*.5}Fe=(0,j.et)(()=>{!me||!me.connected||dt||bt()},(1+Math.random())*30*60*1e3),console.log("[socket] ready"),He.dispatchEvent({type:wt.zS}),ye.resolve()});{let De=Promise.resolve();const $e=(Ke,tt)=>{const nt=De.then(Ke);return De=nt.then(gn,kt=>{(0,Ht.p)("SKT-QA-"+tt,kt)}),nt};He.clear();for(const[Ke,tt]of Object.entries(Se))Je.on(Ke,nt=>tt({type:Ke,payload:nt})),He.addEventListener(Ke,nt=>{let{payload:kt}=nt;return tt({type:Ke,payload:kt})});for(const[Ke,tt]of Object.entries(Ce))Je.on(Ke,nt=>$e(()=>tt({type:Ke,payload:nt}),Ke)),He.addEventListener(Ke,nt=>{let{payload:kt}=nt;return $e(()=>tt({type:Ke,payload:kt}),Ke)})}me=Je};let dt=!1;const At=async(Nt,Je)=>{dt=!0;const{error:De,result:$e}=await(0,b.hq)(new Promise(Ke=>me.emit(Nt,Je,Ke)),42*1e3,"SKT-USR "+Nt).finally(()=>{dt=!1});if(De!==void 0)throw Object.assign(new Error(typeof De=="object"&&De.message||"SKT-USR "+Nt),De);return $e},Et=(Nt,Je)=>{me.volatile.emit(Nt,Je)};return bt(),{destroy:qe,reset:bt,emitAsync:At,emitLossy:Et,getIsConnected:()=>me&&me.connected||!1,getSocketId:()=>me&&me.id||"",getReadyPromise:()=>ye.promise,getOffsetMsec:()=>Le}};var ln=n(77885),Dt=n(96828),fs=n(78463),St=n(83053);if(n.j!=15)var mt=n(833);if(n.j!=15)var Pt=n(60307);var fn=n(49950);const Dn=0,ys={cDebugMin:Dn,cCmtPack:Dn+1,cCmtThread:Dn+2,cCmtContent:Dn+3,cDebugMax:35},yn=(0,fn.W)("cmt-type",ys),xs=yn.pack("cCmtPack"),Vt=yn.pack("cCmtThread"),bs=yn.pack("cCmtContent"),lt=new Set(["cCmtPack","cCmtThread","cCmtContent"]),Io=new Set([xs,Vt,bs]);if(n.j!=15)var Rn=n(45043);const Qs={unstyled:0,"header-one":1,"header-two":2,"header-three":3,"ordered-list-item":4,"unordered-list-item":5,atomic:6},vs=(0,fn.W)("DraftBlockType",Qs),ws={left:0,center:1,right:2,justify:3},Bn=(0,fn.W)("DraftAlignment",ws),_s={LINK:0,IMAGE:1},ts=(0,fn.W)("DraftEntityMapType",_s),Fn={MUTABLE:0,IMMUTABLE:1,SEGMENTED:2},ns=(0,fn.W)("DraftEntityMapMutability",Fn),Xs={_blank:0,_self:1},Ss=(0,fn.W)("DraftLinkTargetOption",Xs),qs=r=>{const t={};return Object.keys(r).forEach(s=>{const{type:g,mutability:A,data:oe}=r[s],Se=[ts.pack(g),ns.pack(A)],Ce=[];g==="LINK"?(Se.push(Ss.pack(oe.targetOption)),Ce.push(oe.url||"")):g==="IMAGE"&&(Se.push((0,mt.c5)(oe.width),Bn.pack(oe.alignment)),Ce.push(oe.src||"",oe.alt||"")),t["e/"+s]=[Se.join(Pt.xi),...Ce]}),t},eo=r=>{const t={};for(const s of Object.keys(r)){if(!s.startsWith("e/"))continue;const g=s.split("e/")[1],[A,...oe]=r[s],[Se,Ce,Ne,Re]=A.split(Pt.xi),Te=ts.parse(Se),He=ns.parse(Ce);t[g]=Te==="LINK"?{type:Te,mutability:He,data:{url:oe[0],targetOption:Ss.parse(Ne)}}:{type:Te,mutability:He,data:{src:oe[0],alt:oe[1],width:(0,mt._3)(Ne),alignment:Bn.parse(Re)}}}return t},to=r=>{const t={};return Object.keys(r).forEach(s=>{const{text:g,type:A,depth:oe,inlineStyleRanges:Se,entityRanges:Ce,data:{textAlign:Ne,textIndent:Re,paraSpacing:Te}}=r[s],He=[vs.packDef(A,"unstyled"),(0,mt.c5)(oe),Ne?Bn.pack(Ne):"",Re!==void 0?(0,mt.c5)(Re):"",Te!==void 0?(0,St.ZI)(Te):""];t["b/"+s]=[He.join(Pt.xi),g,Se.map(me=>{let{offset:ye,length:Le,style:Fe}=me;return oo(ye,Le,Fe)}),Ce.map(me=>{let{offset:ye,length:Le,key:Fe}=me;return no(ye,Le,Fe)})]}),t},no=(r,t,s)=>""+(0,mt.c5)(r)+Pt.xi+(0,mt.c5)(t)+Pt.xi+(0,mt.c5)(s),so=r=>{const t=r.indexOf(Pt.xi),s=r.indexOf(Pt.xi,t+1);return[(0,mt._3)(r.slice(0,t)),(0,mt._3)(r.slice(t+1,s)),(0,mt._3)(r.slice(s+1))]},oo=(r,t,s)=>""+(0,mt.c5)(r)+Pt.xi+(0,mt.c5)(t)+Pt.xi+s,io=r=>{const t=r.indexOf(Pt.xi),s=r.indexOf(Pt.xi,t+1);return[(0,mt._3)(r.slice(0,t)),(0,mt._3)(r.slice(t+1,s)),r.slice(s+1)]},ro=r=>{const t={};for(const s of Object.keys(r)){if(!s.startsWith("b/"))continue;const g=s.split("b/")[1],[A,oe,Se,Ce]=r[s],[Ne,Re,Te,He,me]=A.split(Pt.xi),ye={};Te!==""&&(ye.textAlign=Bn.parse(Te)),He!==""&&(ye.textIndent=(0,mt._3)(He)),me!==""&&me!==void 0&&(ye.paraSpacing=(0,St.bp)(me)),t[g]={text:oe,type:vs.parse(Ne),depth:(0,mt._3)(Re),inlineStyleRanges:Se.map(Le=>{const[Fe,qe,bt]=io(Le);return{offset:Fe,length:qe,style:bt}}),entityRanges:Ce.map(Le=>{const[Fe,qe,bt]=so(Le);return{offset:Fe,length:qe,key:bt}}),data:ye}}return t},Cs=r=>{let{message:t}=r;const{blocks:s={},entityMap:g={}}=t;return{...to(s),...qs(g)}},Ns=r=>({message:{blocks:ro(r),entityMap:eo(r)}}),ss=r=>({T:yn.pack(r.type),IC:[(0,mt.c5)(r.index),(0,mt.vH)(r.ctime)].join(Pt.xi)}),os=r=>{const[t,s]=r.IC.split(Pt.xi);return{type:yn.parse(r.T),index:(0,mt._3)(t),ctime:(0,mt.TT)(s)}},ao=r=>({...ss(r),R:r.refKey}),co=r=>({...os(r),refKey:r.R}),lo=r=>({...ss(r),...Cs(r),xy:(0,St.x3)(r.x,r.y),wh:(0,St.x3)(r.w,r.h),z:(0,St.ZI)(r.z),userInfo:r.userInfo,userId:(0,St.ZI)(r.userId),mtime:(0,mt.vH)(r.mtime),isCompleted:(0,Rn.rK)(r.isCompleted),canvasVec2:r.canvasVec2?{x:(0,St.ZI)(r.canvasVec2.x),y:(0,St.ZI)(r.canvasVec2.y)}:r.canvasVec2,canvasCid:r.canvasCid,threadType:r.threadType}),uo=r=>{const[t,s]=(0,St.fm)(r.xy),[g,A]=(0,St.fm)(r.wh),oe=r.canvasVec2?(0,St.bp)(r.canvasVec2.x):void 0,Se=r.canvasVec2?(0,St.bp)(r.canvasVec2.y):void 0,Ce=(0,St.bp)(r.z);return{...os(r),...Ns(r),x:t,y:s,w:g,h:A,z:Ce,mtime:(0,mt.TT)(r.mtime),userInfo:r.userInfo,userId:(0,St.bp)(r.userId),isCompleted:(0,Rn.Vf)(r.isCompleted),canvasCid:r.canvasCid,threadType:r.threadType,canvasVec2:oe&&Se?{x:oe,y:Se}:void 0}},po=r=>({...ss(r),...Cs(r),mtime:(0,mt.vH)(r.mtime),userInfo:r.userInfo}),ho=r=>({...os(r),...Ns(r),mtime:(0,mt.TT)(r.mtime),userInfo:r.userInfo}),mo=r=>{try{switch(r.T){case void 0:return r;case xs:return co(r);case Vt:return uo(r);case bs:return ho(r);default:throw new Error("invalid attr: "+r.T+" -> "+yn.parse(r.T))}}catch(t){throw(0,Ht.p)("toP2CHA badDat",t,r),t}},zn=r=>{try{switch(r.type){case void 0:return r;case"cCmtPack":return ao(r);case"cCmtThread":return lo(r);case"cCmtContent":return po(r);default:throw new Error("invalid attr: "+r.type)}}catch(t){throw(0,Ht.p)("toP2CCA badDat",t,r),t}};if(n.j!=15)var Ms=n(40349);const Un=(r,t)=>{const s=Ce=>{const Ne=r(Ce);return Ne===void 0?[]:Ne.sub.map(Re=>r(Re))},g=(0,Ms.MX)(Ce=>Ce.sub.map(Ne=>r(Ne))),A=(Ce,Ne)=>{const Re=r(Ce);Re!==void 0&&(Ne(Re)||Re.sub.length!==0&&g(Re,Ne))};return{getHotItem:r,getSubHotItemList:s,walkHotItemSubtree:A,isTrashed:Ce=>(0,Dt.DM)(Ce,t.getFlatTree()),__devHotTree:function(Ce){Ce===void 0&&(Ce=Dt.gT);const Ne=new Map,Re=Te=>{let He=Ne.get(Te);return He===void 0&&Ne.set(Te,He={}),He};return A(Ce,Te=>{Re(Te.sup)[Te.key]=Te.hotAttr,Te.sub.length!==0&&(Re(Te.sup)[Te.key+" SUB"]=Re(Te.key))}),Re(r(Ce).sup)}}};if(n.j!=15)var js=n(25684);if(n.j!=15)var is=n(97188);var Tn=n(99142),Kt=n(56927);if(n.j!=15)var go=n(19371);const fo=(r,t,s)=>{const g=me=>{if(me===void 0||me.length===0)return;const ye=new Set;for(const Fe of me)ye.add(Fe.key),Fe.type==="I"&&ye.add(Fe.keySup);const Le=(0,Dt.CF)([...ye].filter(Dt.xe),s.getFlatTree());r({type:go.a,payload:Le})},A=me=>{const ye=[],Le=me(ye);return g(s.applyDiff(ye)),Le},oe=me=>A(ye=>{const Le=[],Fe=me(Le);for(const qe of Le)qe.type==="update"?Re(qe.hotItem,ye):qe.type==="delete"&&Te(qe.key,ye);return Fe}),Se=function(){const me=[],ye=[];let Le,Fe=!1;for(var qe=arguments.length,bt=new Array(qe),dt=0;dt<qe;dt++)bt[dt]=arguments[dt];for(const At of bt){Le=At(me);const Et=s.applyDiff(me);Et!==void 0&&(ye.push(...Et),Fe?s.combineLastUndo():Fe=!0)}return g(ye),Le},Ce=function(){for(var me=arguments.length,ye=new Array(me),Le=0;Le<me;Le++)ye[Le]=arguments[Le];const Fe=ye.map(qe=>bt=>{const dt=[],At=qe(dt);for(const Et of dt)Et.type==="update"?Re(Et.hotItem,bt):Et.type==="delete"&&Te(Et.key,bt);return At});return Se(...Fe)},Ne=(me,ye)=>{for(const Le of Object.keys(me)){const Fe=me[Le],qe=ye[Le];Fe!==qe&&(0,js.sw)(Fe)&&(0,js.sw)(qe)&&JSON.stringify(Fe)===JSON.stringify(qe)&&(me[Le]=qe)}},Re=(me,ye)=>{const Le=(0,Dt.PV)(me.key,s.getFlatTree());if(Le===void 0)ye.push({type:Kt.UF,key:me.key,keySup:me.sup}),ye.push({type:Kt.qC,key:me.key,attrDiff:zn(me.hotAttr)});else{Le.sup!==me.sup&&ye.push({type:Kt.UF,key:me.key,keySup:me.sup});const Fe=zn(me.hotAttr);Ne(Fe,Le.attr);const qe=(0,Tn.m)(Fe,Le.attr);qe!==void 0&&ye.push({type:Kt.qC,key:me.key,attrDiff:qe})}},Te=(me,ye)=>{s.getFlatItem(me)&&ye.push({type:Kt.UF,key:me,keySup:Dt.Ri})},He=(me,ye,Le)=>{s.getFlatItem(me)&&s.getFlatItem(ye)&&Le.push({type:Kt.UF,key:me,keySup:ye})};return{_edit:A,_editAction:oe,_editBatch:Se,_editActionBatch:Ce,onRemotePatchList:me=>{const ye=[];for(const Le of me){const Fe=s.applyDiffRemote(Le.diffList,Le.clock);Fe!==void 0&&ye.push(...Fe)}g(ye)},updateHotItem:me=>A(ye=>{Re(me,ye)}),updateHotItemBatch:me=>A(ye=>{for(const Le of me)Re(Le,ye)}),deleteHotItem:me=>A(ye=>{Te(me,ye)}),deleteHotItemBatch:me=>A(ye=>{for(const Le of me)Te(Le,ye)}),moveHotItem:(me,ye)=>A(Le=>{He(me,ye,Le)}),moveHotItemBatch:me=>A(ye=>{for(const[Le,Fe]of me)He(Le,Fe,ye)}),editHotItemBatch:me=>A(ye=>{for(const Le of me)Le.type==="update"?Re(Le.hotItem,ye):Le.type==="delete"&&Te(Le.key,ye)}),updateHotAttrMerge:(me,ye)=>A(Le=>{const Fe=t(me);if(Fe===void 0)throw new Error("no item: "+me);Re((0,is.MK)(Fe,"hotAttr",{...Fe.hotAttr,...ye}),Le)}),updateHotAttrKV:(me,ye,Le)=>A(Fe=>{const qe=t(me);if(qe===void 0)throw new Error("no item: "+me);Re((0,is.MK)(qe,"hotAttr",(0,is.MK)(qe.hotAttr,ye,Le)),Fe)}),canUndo:s.canUndo,canRedo:s.canRedo,combineMergeMark:s.combineMergeMark,combineMerge:s.combineMerge,undo:()=>{g(s.undo())},redo:()=>{g(s.redo())}}};var Wn=n(66451);const Is=r=>{const t=(0,Pn.wz)(),s=t.subscribe,g=t.unsubscribe,A=Es(r),oe=Un(A,r),Se=()=>yo(r.getFlatTree),Ce=fo(t.send,A,r),{_edit:Ne,_editAction:Re,_editBatch:Te,_editActionBatch:He,...me}=Ce;return{subscribe:s,unsubscribe:g,...oe,createRoCmtStore:Se,...me}},Es=r=>t=>{const s=r.getFlatTree().get(t);if(s===void 0)return;const g=r.getOCI(s);return g.hotItem===void 0&&(g.hotItem={key:s.key,sup:s.sup,sub:s.sub,hotAttr:mo(s.attr)}),g.hotItem},yo=r=>{const t=(0,Wn.b$)(r(),(0,ln.aF)({})),s=()=>t.getFlatTree()!==r(),g=()=>t.sync(r()),A=Es(t),oe=Un(A,t);return{hasUpdate:s,syncUpdate:g,...oe}};var xo=n(56511),ks=n(99611);if(n.j!=15)var bo=n(6185);if(n.j!=15)var vo=n(13573);var dn=n(73051),Hn=n(85782),On=n(35236);const wo=r=>{const[t,s,g]=r,A=async()=>(0,Hn.BT)(On.r,t.tre),oe=async function(Te){Te===void 0&&(Te=-1);const He=[];for(const{pbx:me,t10s:ye}of s){if(ye<Te)continue;const Le=(0,vo.CE)(await On.r.gunzipU8AAsync(new Uint8Array(me)));for(const Fe of(0,dn.Pb)(Le))He.push(Fe)}for(const{pch:me,t10s:ye}of g)ye<Te||He.push(me);return He},Se=async function(Te){Te===void 0&&(Te=-1);const He=[];for(const me of await oe(Te))He.push((0,Kt.iz)(me));return He},Ce=async function(Te){Te===void 0&&(Te=-1);const He=[];for(const me of await oe(Te)){const{clock:ye,diffList:Le}=(0,Kt.iz)(me);He.push([(0,ln._r)(ye).slice(5),Le,me])}return He};return{getParsedTre:A,getPchList:oe,getPatchList:Se,getReadablePatchList:Ce,filterReadablePatchList:async function(Te,He){return He===void 0&&(He=-1),(await Ce(He)).filter(me=>{let[,,ye]=me;return ye.includes(Te)})},getMergedReadablePatchList:async function(Te,He){Te===void 0&&(Te=-1),He===void 0&&(He=16);const me=[];let ye={timePrefix:"",countDI:0,countDA:0,userIdSet:new Set};const Le=Fe=>{ye.timePrefix!==Fe&&(ye.timePrefix!==""&&me.push(ye.timePrefix.slice(5)+"..Z I*"+(ye.countDI||"-")+" A*"+(ye.countDA||"-")+" ["+[...ye.userIdSet].join(",")+"]"),ye={timePrefix:Fe,countDI:0,countDA:0,userIdSet:new Set})};for(const{clock:[Fe,qe],diffList:bt}of await Se(Te)){const dt=new Date(Fe).toISOString().slice(0,He);Le(dt),ye.userIdSet.add(qe);for(const{type:At}of bt)At===Kt.UF?ye.countDI++:ye.countDA++}return Le(""),me},flpak:r}},Ts=r=>Math.floor(r/10/1e3),Os=r=>{const[t]=(0,Kt.cx)(r);return Ts(t)},rs=r=>{let[t,s,g]=r;return g.length!==0?g[g.length-1].t10s:s.length!==0?s[s.length-1].t10s:t.t10s};if(n.j!=15)var Vn=n(45300);const xn=(r,t,s)=>{let g=!1,A=0,oe=0;const Se=new Map;let Ce=[],Ne,Re,Te,He;const me=De=>{let[$e,,Ke]=De;if($e!==r)return!1;const tt=(0,dn.vZ)(Ke);for(const nt of tt)Ce.push([nt,Os(nt),!1]);return Te!==void 0&&Te(tt.map(nt=>(0,Kt.iz)(nt))),!0},ye=async(De,$e)=>{if(Re!==void 0)throw new Error("no re-init flatStore");Ne=De,He=$e;const Ke=await He(r);{const Ct="INSP-INIT-FLPAK";location.hash.includes(Ct)&&Object.assign(globalThis,{[Ct+"/"+r]:{...wo(Ke),__flpakKey:r,__name:t}})}A=rs(Ke);const tt=(0,Wn.OR)(),nt=await(0,Hn.TN)(On.r,Ke,(Ct,je)=>(0,dn.qG)(Ct,je,tt.mutateTFAAFNB));let kt=Dt.xL;{const Ct="BYPASS-FLPAK";location.hash.includes(Ct)&&(kt=je=>console.warn("["+Ct+"|vFT]",je))}for(const[Ct,je,Xe]of Ce)!Xe&&A>=je||(0,dn.qG)(nt,Ct,tt.mutateTFAAFNB);Re=(0,Wn.b$)(nt,De,(Ct,je,Xe)=>{if(g&&console.log("flat|onPatch",{diffList:Ct,clock:je,isLocal:Xe}),Ce.push([(0,Kt.AO)({diffList:Ct,clock:je}),Ts(je[0]),Xe]),Xe)return;const[Rt,ft,tn,Xt]=je;oe=Math.max(oe,Rt);const Zt=(0,ln.au)(ft,tn);if(Ne.selfCCK===Zt)throw new Error("unexpected selfCck: "+Zt);const un=Se.get(Zt)||-1;un>Xt&&console.warn("bad editId for cck: "+Zt+", last: "+un+", new: "+Xt),Se.set(Zt,Xt)},(Ct,je)=>{console.warn("flat|requestResync",{error:Ct,message:je})}),Te=Ct=>{for(const je of Ct)Re.applyDiffRemote(je.diffList,je.clock)};const Tt=tt.getFixDiffList(nt);Tt.length&&(Re.applyDiff(Tt),Re.resetUndo()),s===!0&&kt(nt)},Le=De=>{Te=De},Fe=()=>Ne,qe=()=>Re,bt=async function(De){if(De===void 0&&(De=""),s===!0)try{if(!Re||!A||!Et())return;const $e=Re.getFlatTree(),[Ke,tt]=await(0,Hn.Vz)(On.r,$e);await(0,Vn.hp)("//FSS/"+t+"/"+r,new Blob([tt],{type:"application/octet-stream"}),{message:De,treRawSize:Ke,treSize:tt.byteLength})}catch($e){console.warn("saveSOS",De,$e)}},dt=async()=>{if(s===!0)try{const De=await(0,Vn.Ey)("//FSS/"+t+"/"+r);if(De.length){console.warn("[loadSOS] found "+De.length+" record");const{data:$e,extra:Ke}=De[0];console.warn("[loadSOS] load record from "+new Date(Ke.time).toISOString());const tt=await(0,bo.WL)($e),nt=await(0,Hn.BT)(On.r,tt);return console.warn("[loadSOS] record tree: "+nt.slowSize()),{tree:nt,...Ke}}}catch(De){console.warn("loadSOS",De)}},At=async()=>{if(s===!0)try{return await(0,Vn.EP)("//FSS/"+t+"/"+r)}catch(De){console.warn("freeSOS",De)}},Et=()=>{if(s!==!0)return!1;for(const[,,De]of Ce)if(De)return!0;return!1};return{flpakKey:r,name:t,__setIsDev:De=>{g=De},onRemotePayloadSave:me,bind:ye,useExtORPL:Le,getClockStore:Fe,getFlatStore:qe,saveSOS:bt,loadSOS:dt,freeSOS:At,hasPatch:Et,preSettlePatch:()=>{if(s!==!0)return[];const De=[];for(const[$e,,Ke]of Ce)Ke&&De.push($e);return De},postSettlePatch:De=>{s===!0&&(Ce=Ce.filter($e=>{let[Ke,tt,nt]=$e;return!nt||!De.includes(Ke)}))}}},As=(r,t,s)=>{let g,A;return{flpakKey:r,name:"[DUMMY]"+t,__setIsDev:oe=>{},onRemotePayloadSave:oe=>{let[Se,,Ce]=oe;return!1},bind:async(oe,Se)=>{if(A!==void 0)throw new Error("no re-init flatStore");g=oe,A=(0,Wn.b$)((0,Dt.Id)(),oe)},useExtORPL:oe=>{},getClockStore:()=>g,getFlatStore:()=>A,saveSOS:async oe=>{},loadSOS:async()=>{},freeSOS:async()=>0,hasPatch:()=>!1,preSettlePatch:()=>[],postSettlePatch:oe=>{}}};if(n.j!=15)var Ls=n(54704);const Ps=n.j!=15?St.x3:null,_o=n.j!=15?St.fm:null,So=r=>{const t=new Map;let s=!1,g=!1,A,oe,Se=()=>"";const Ce=()=>{t.clear(),Te()};let Ne=0;const Re=Je=>{const De={socketId:Je,index:Ne++,lastCurAt:0,cur:void 0,lastStatAt:0,stat:void 0};return t.set(Je,De),s=!0,De},Te=(0,b.Ds)(async()=>{if(await(0,j.Y_)(2*1e3),A===void 0)return;const Je=[];for(const{socketId:tt,lastStatAt:nt}of t.values())nt!==0&&Je.push(tt);for(const[tt,nt,kt]of await A([r,Je])){const Tt=t.get(tt)||Re(tt);Tt.lastStatAt=Date.now(),Tt.stat=[nt,kt]}const[De,$e,Ke]=ye;De&&oe&&oe([r,De,Ps($e,Ke)])},Je=>{console.warn("_tPS",Je)}).trigger,He=Je=>{let[De,$e,Ke]=Je;const[tt,nt]=_o(Ke),kt=[tt,nt,$e],Tt=t.get(De)||Re(De);Tt.lastCurAt=Date.now(),Tt.cur=kt,Tt.lastStatAt===0?Te():g=!0},me=Je=>{let[De,$e]=Je;const Ke=t.has($e);De===0&&Ke&&(t.delete($e),s=!0)};let ye=["",NaN,NaN],Le=0;const Fe=function(Je){Je===void 0&&(Je=ye[0]);const De=Se();if(De==="")return!1;for(const{socketId:$e,cur:Ke}of t.values())if(Ke&&Ke[2]===Je&&$e!==De)return!0;return!1},qe=function(Je,De,$e){De===void 0&&(De=St.Ni),$e===void 0&&($e=St.Ni),!(ye[0]===Je&&ye[1]===De&&ye[2]===$e)&&(ye[0]!==Je&&(Le=1),!(!Le&&(t.size<2||!Fe(Je)))&&(ye=[Je,De,$e],Le&&Le--,oe&&oe([r,Je,Ps(De,$e)])))},bt=async(Je,De,$e)=>{if(A!==void 0)throw new Error("no re-init fetchCurStat");A=Je,oe=De,Se=$e},dt=()=>{const Je=Se(),De=[];if(Je==="")return De;for(const{socketId:$e,stat:Ke}of t.values()){if(Ke===void 0)continue;const[tt,nt]=Ke;Je===$e?De.unshift([$e,tt,nt]):De.push([$e,tt,nt])}return De},At=Je=>{const De=Se(),$e=[];if(De==="")return $e;for(const{socketId:Ke,index:tt,cur:nt,stat:kt}of t.values()){if(De===Ke||nt===void 0||kt===void 0)continue;const[Tt,Ct,je]=nt;if(je!==Je||Tt===St.Ni)continue;const[Xe,Rt]=kt;$e.push([tt,Tt,Ct,Xe,Rt])}return $e},Et=()=>s?(s=!1,!0):!1,Nt=()=>g?(g=!1,!0):!1;return{flpakKey:r,__curStatMap:t,onSocketConnect:Ce,onRemoteCur:He,onRemoteSocket:me,hasOtherUser:Fe,tryPackCur:qe,bind:bt,getRoomStat:dt,getSocketStat:dt,getCurStat:At,pollRoomChg:Et,pollCurChg:Nt,pollChange:Nt}},bn=r=>{const t=()=>{},s=Te=>{let[He,me,ye]=Te},g=Te=>{let[He,me]=Te},A=Te=>!1,oe=(Te,He,me)=>{},Se=async(Te,He,me)=>{},Ce=()=>[],Ne=Te=>[],Re=()=>!1;return{flpakKey:r,onSocketConnect:t,onRemoteCur:s,onRemoteSocket:g,hasOtherUser:A,tryPackCur:oe,bind:Se,getRoomStat:Ce,getSocketStat:Ce,getCurStat:Ne,pollRoomChg:Re,pollCurChg:Re,pollChange:Re}},Ds=()=>{};let as=!1;const Kn=r=>{as=r},Rs="dat",cs="cmt",ls="mkt:dat",vn=async r=>{let{flpakKey:t,userId:s,uTag:g,token:A,passwd:oe,isDummyCmt:Se=!1,isAllowDat:Ce=!1,isAllowCmt:Ne=!1,isAllowCur:Re=!1,afterStoreCreate:Te=Ds,__fetchFlpakAsync:He=ks.T,onTransferError:me=Ds}=r;const ye=xn(t,Rs,Ce),Le=(Se?As:xn)((0,Ls.J6)(t),cs,Ne),Fe=(Re?So:bn)(t);await Te({fssDat:ye});const qe=async(je,Xe)=>{await ye.saveSOS("OTE|"+je+"|"+Xe),await me(je,Xe)},bt=(0,wt.LZ)({flpakKey:t,needDat:!!Ce,needCmt:!!Ne,needCur:!!Re}),dt=!s||!bt?gs():Js({query:{uId:String(s),uTag:g,rKey:bt},usePolling:as,lossyListenerMap:{[wt.NX]:je=>{const{payload:Xe}=je;Fe.onRemoteCur(Xe)}},queueListenerMap:{[wt.VU]:je=>{const{error:Xe}=je;console.log("flat-ws drop-client",Xe),qe("4XX",Xe)},[wt.Ei]:je=>{const{error:Xe}=je;console.log("flat-ws error",Xe),qe("5XX",Xe)},[wt.zS]:()=>{console.log("flat-ws (re)connected"),Fe.onSocketConnect()},[wt.sP]:je=>{const{payload:Xe}=je;ye.onRemotePayloadSave(Xe)||Le.onRemotePayloadSave(Xe)||console.warn("drop save payload:",Xe)},[wt.$7]:je=>{const{payload:Xe}=je;console.log("flat-ws room cursor:",Xe),Fe.onRemoteSocket(Xe)}}});await dt.getReadyPromise();const At=async(je,Xe,Rt)=>{try{return await He(je,{token:A,passwd:oe,skipTTre:String(Xe||""),skipTPbxList:(Rt||[]).join("")})}catch(ft){const tn=wn(ft);throw Zn(ft)!=="Fch"&&(0,Ht.p)("fFS "+Zn(ft),ft),await qe(tn,ft),ft}};await Promise.all([ye.bind((0,ln.aF)({userId:s,mtimeOffset:dt.getOffsetMsec()}),At).catch(je=>{throw(0,Ht.p)("bindDat",je),je}),Le.bind((0,ln.aF)({userId:s,mtimeOffset:dt.getOffsetMsec()}),At).catch(je=>{throw(0,Ht.p)("bindCmt",je),je}),Fe.bind(async je=>{try{if(dt.getIsConnected())return await dt.emitAsync(wt.Am,je)}catch(Xe){await(0,j.Y_)(42*1e3)}return[]},je=>dt.getIsConnected()&&dt.emitLossy(wt.pL,je),dt.getSocketId).catch(je=>{throw(0,Ht.p)("bindCur",je),je})]);const Et=new Error("[tracked-error]"),Nt=async je=>{if(!je.hasPatch())return;const Xe=je.preSettlePatch(),Rt=(0,dn.ok)((0,dn.oG)(Xe));for(let ft=0,tn=Rt.length;ft<tn;ft++){const Xt=Rt[ft];try{await dt.emitAsync(wt.s5,[je.flpakKey,Xt.length,(0,dn.iM)(Xt)])}catch(Zt){const un=wn(Zt);throw un==="5XX"&&(0,Ht.p)("saveFss "+Zn(Zt),Zt,je.name,je.flpakKey,ft+1+"/"+tn,Xt),await qe(un,Zt),Et}}je.postSettlePatch(Xe)},Je=(0,b.Ds)(async()=>(0,b.g7)(async()=>{await Nt(ye),await Nt(Le),await ye.freeSOS()},5*60*1e3,"lFFss.lA"),je=>{if(je===Et)return;const Xe=wn(je);(0,Ht.p)("lFFss "+Zn(je),je),Promise.resolve(qe(Xe,je)).catch(Rt=>{(0,Ht.p)("lFFss "+Xe+" Err",Rt)})}),De=(0,b.Ds)(async()=>{Je.trigger(),await Je.getRunningPromise();for(let je=0;je++<16;)!Fe.hasOtherUser()&&await(0,j.Y_)(1e3)});setInterval(De.trigger,2*1e3),Re&&setInterval(()=>Fe.onSocketConnect(),20*60*1e3);const $e=ye.getFlatStore(),Ke=(0,fs.uq)(ye.getFlatStore());ye.useExtORPL(Ke.onRemotePatchList);const tt=Is(Le.getFlatStore());Le.useExtORPL(tt.onRemotePatchList);const nt=()=>ye.hasPatch()||Le.hasPatch(),kt=(0,b.B1)(async()=>(0,b.JN)(async()=>{let je=0;for(;nt();)await(0,j.Y_)(Math.min(je,5)*1e3),Je.trigger(),await Je.getRunningPromise(),je++})),Tt=()=>globalThis.MB.getSelectionItems()[0].key,Ct=(0,b.J9)(Fe.tryPackCur,125);return{fssDat:ye,fssCmt:Le,cssCur:Fe,flatSocket:dt,flatStore:$e,sdkStore:Ke,cmtStore:tt,sendCur:Ct,hasSave:nt,saveAsync:kt,theTree:function(je){return je===void 0&&(je=Dt.gT),console.log((0,Dt.Wr)($e.getFlatTree(),je))},hotTree:function(je){return je===void 0&&(je=Dt.gT),console.log(Ke.__devHotTree(je))},slctTree:function(je){return je===void 0&&(je=Tt()),console.log(Ke.__devHotTree(je))},upTree:function(je,Xe){return je===void 0&&(je=Tt()),Xe===void 0&&(Xe=Dt.gT),console.log(Ke.findUpHotItemList(je,Xe))},newFFT:async function(je,Xe,Rt){return Rt===void 0&&(Rt=Xe.name+"-\u4FEE\u590D\u6570\u636E"),(0,xo.N)(je,Xe.team_cid,{...Xe,name:Rt})},cmtTree:function(je){return je===void 0&&(je=Dt.gT),console.log(tt.__devHotTree(je))}}},wn=r=>{const t=r&&r.status;return t>=400&&t<500?"4XX":String(r).toLowerCase().includes("timeout")?"Tot":"5XX"},Zn=r=>{const t=r&&r.status,s=[];t>=400&&s.push(String(t));const g=String(r).toLowerCase();return g.includes("timeout")&&s.push("Tot"),g.includes("fetch")&&s.push("Fch"),s.join("")||"Err"},Co=async r=>{let{flpakKey:t}=r;const s=xn(t,ls,!1),g=async(oe,Se,Ce)=>(0,ks.T)(oe,{skipTTre:String(Se||""),skipTPbxList:(Ce||[]).join("")});return await s.bind((0,ln.aF)({}),g),{sdkStore:(0,fs.uq)(s.getFlatStore())}}},52781:(_e,de,n)=>{"use strict";if(n.d(de,{$r:()=>Q,$z:()=>Y,Aq:()=>ee,Cp:()=>T,Jv:()=>c,PJ:()=>h,Uy:()=>te,Wu:()=>E,X:()=>R,Yk:()=>U,ZF:()=>H,a3:()=>re,je:()=>f,rd:()=>Z}),n.j!=15)var o=n(46795);var b=n(72907),j=n(81811);const m=300,E=async function(u){u===void 0&&(u="");const p=1;let S=[];try{const x=await(0,o.Yo)("/api/community/v1/workspace/my_star?page="+p+(u&&"&category="+u)+"&page_size="+m);x&&(S=x==null?void 0:x.market_templates.filter(N=>(N==null?void 0:N.version)!=="v1"))}catch(x){(0,b.$r)()}return S.map(x=>({...x,is_star:!0}))},re=async u=>{await(0,o.Ds)("/api/community/v1/market_template/star/"+u)},Y=async u=>{await(0,o.DW)("/api/community/v1/market_template/star/"+u)},U=async function(u,p){p===void 0&&(p=!0);let S;try{S=await(0,o.DE)("/api/community/v1/market_template/"+u)}catch(x){p&&(0,b.ai)(x)}return S},R=function(u){return u===void 0&&(u=""),(0,o.rh)("/api/community/v1/market_template?is_from_workspace=true&page="+1+u+"&page_size="+m)},te=async()=>{let u;try{u=await(0,o.DE)("/flpak/ww-p2recent")}catch(p){(0,b.$r)()}return u},Q=async()=>{try{return await(0,o.DE)("/api/community/v1/hot_icons")}catch(u){(0,b.$r)()}},ee=async()=>{try{return await(0,o.DE)("/api/community/v1/hot_color_icons")}catch(u){(0,b.$r)()}},J=u=>{let{category:p="combo_group",keyword:S=""}=u;return fetchGetJSON("/api/community/v1/es/basic_resource/search_"+p+"?q="+encodeURIComponent(S))},F={screen_list:"screen",combo_group:"combo",icon_group:"icon",user_combo:"user_combo"},T=u=>{let{projectUpperType:p="",projectUpperCid:S="",itemCid:x=""}=u;return(0,o.Ds)("/api/community/v1/recent_template",{project_upper_type:F[p]||p,project_upper_cid:S,item_cid:x})},Z=async u=>{const{sdkStore:p}=await(0,j.O3)({flpakKey:u});return p},H=async function(u){u===void 0&&(u="mobile");try{return(await(0,o.DE)("/api/market_template/v4/workspace/new_page_types?platform="+u)).types}catch(p){return console.error(p),[]}},c=async function(u){u===void 0&&(u="mobile");try{return await(0,o.DE)("/api/community/v1/workspace/recommend_page?platform="+u)}catch(p){return(0,b.$r)({onClick:S=>S({type:"entry:resources:set:pagePanel:find:update:data",payload:{platformType:u,isReRequest:!0}})}),{}}},f=async u=>{let{platform:p,firstTypeCid:S,secondTypeCid:x=null}=u;const N={first_type_cid:S,second_type_cid:x,platform:p};let O=new URLSearchParams;O=Object.assign(O,N);for(const[w,K]of Object.entries(O))K?K==="default"?O.delete(w):O.set(w,K):O.delete(w);try{return await(0,o.DE)("/flpak/ww-p2pagemkt?"+O.toString())}catch(w){return(0,b.$r)({onClick:K=>K({type:"entry:resources:set:pagePanel:find:update:data",payload:{platformType:p,isReRequest:!0}})}),{}}},h=async()=>{try{const{color_icon_groups:u}=await(0,o.DE)("/api/community/v1/color_icon_groups");return u&&u.length>0?u.reduce((p,S)=>(p[S.source_upper_cid]=S,p),{}):{}}catch(u){return(0,b.$r)(),{}}}},15668:(_e,de,n)=>{"use strict";n.d(de,{Oc:()=>E,Qi:()=>R,R1:()=>ee,jf:()=>re,jn:()=>Y,lV:()=>T,tA:()=>U});var o=n(51044),b=n(82152),j=n(7758),m=n(57464);const E=(0,o.memo)(Z=>{let{type:H="linear",className:c,disabled:f=!1,size:h="common",corner:u="smooth",forceTheme:p,children:S,onClick:x}=Z;return(0,m.jsx)(b.Yr,{type:H,className:c,disabled:f,size:h,corner:u,forceTheme:p,onClick:x,children:S})}),re=n.j!=15?(0,o.memo)(Z=>{let{type:H="linear",className:c,disabled:f=!1,size:h="common",corner:u="smooth",icon:p,children:S,forceTheme:x,onClick:N}=Z;return(0,m.jsx)(b.hE,{type:H,className:c,disabled:f,size:h,corner:u,icon:p,forceTheme:x,onClick:N,children:S})}):null,Y=(0,o.memo)(Z=>{let{className:H,children:c,disabled:f=!1,onClick:h}=Z;return(0,m.jsx)(b.Yr,{type:"primary",size:"common",className:H,disabled:f,onClick:h,children:c})}),U=Z=>{let{className:H,children:c,disabled:f=!1,onClick:h}=Z;return(0,m.jsx)(b.Yr,{type:"secondary",size:"common",className:H,disabled:f,onClick:h,children:c})},R=(0,o.memo)(Z=>{let{className:H,children:c,disabled:f=!1,onClick:h}=Z;return(0,m.jsx)(b.Yr,{type:"danger",size:"common",className:H,disabled:f,onClick:h,children:c})}),te=null,Q=null,ee=n.j==467?(0,o.memo)(Z=>{let{className:H,children:c,disabled:f=!1,onClick:h}=Z;return(0,m.jsx)(b.Yr,{type:"primary",size:"tiny",corner:"soft",className:H,disabled:f,onClick:h,children:c})}):null,J=null,F=null,T=n.j!=15?(0,o.memo)(Z=>{let{className:H,isLoading:c=!1,children:f,disabled:h=!1,onClick:u}=Z;return(0,m.jsx)(b.hE,{type:"secondary",size:"tiny",corner:"soft",className:H,icon:c?(0,m.jsx)(j.C,{name:"general/loading",className:"btn-loading"}):null,disabled:h,onClick:u,children:f})}):null},82152:(_e,de,n)=>{"use strict";n.d(de,{Yr:()=>Y,hE:()=>U,in:()=>re});var o=n(21676),b=n(93839),j=n(15388),m=n(54909);const E=(R,te)=>{const Q=R.forceTheme;return Q?m.f[te]["value_"+Q]:R.theme[te]},re=(0,o.AH)(["line-height:18px;&[class*='type-primary']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:",";border:1px solid transparent;}}&[class*='type-secondary']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";border:1px solid ",";}&:active:not([class*='is-disabled']){background:",";border:1px solid ",";}&[class*='is-disabled']{color:",";background:",";border:1px solid ",";}}&[class*='type-danger']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:",";border:1px solid transparent;}}&[class*='type-text']{color:",";background:transparent;border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:transparent;border:1px solid transparent;}}&[class*='size-tiny']{max-height:28px;font-size:12px;line-height:14px;padding:6px 8px;.btn-icon-text-container{min-width:46px;}}&[class*='size-common']{max-height:32px;font-size:13px;padding:6px 10px;.btn-icon-text-container{min-width:58px;}}&[class*='size-medium']{max-height:32px;font-size:13px;padding:6px 12px;.btn-icon-text-container{min-width:70px;}}&[class*='is-disabled']{opacity:1;}"],R=>E(R,"color_text_btn"),R=>E(R,"color_btn_primary_normal"),R=>E(R,"color_btn_primary_hover"),R=>E(R,"color_btn_primary_clicked"),R=>E(R,"color_text_disabled02"),R=>E(R,"color_btn_primary_disabled"),R=>E(R,"color_text_L1"),R=>E(R,"color_bg_white"),R=>E(R,"color_bg_border_02"),R=>E(R,"color_btn_secondary_hover"),R=>E(R,"color_bg_border_02"),R=>E(R,"color_btn_secondary_active"),R=>E(R,"color_bg_border_02"),R=>E(R,"color_text_disabled01"),R=>E(R,"color_bg_white"),R=>E(R,"color_bg_border_02"),R=>E(R,"color_text_btn"),R=>E(R,"color_btn_danger_normal"),R=>E(R,"color_btn_danger_hover"),R=>E(R,"color_btn_danger_clicked"),R=>E(R,"color_text_disabled02"),R=>E(R,"color_btn_danger_disabled"),R=>E(R,"color_text_L1"),R=>E(R,"color_btn_secondary_hover"),R=>E(R,"color_btn_secondary_active"),R=>E(R,"color_text_disabled01")),Y=(0,o.Ay)(b.A).withConfig({displayName:"styles__StyledProtoButton",componentId:"sc-1w5kpr3-0"})(["",";"],re),U=(0,o.Ay)(j.A).withConfig({displayName:"styles__StyledProtoIconButton",componentId:"sc-1w5kpr3-1"})(["",";"],re)},60081:(_e,de,n)=>{"use strict";n.d(de,{s:()=>K,A:()=>O});var o=n(74059),b=n(51044),j=n(86634),m=n.n(j),E=n(67231),re=n.n(E),Y=n(11334),U=n(19418),R=n(7775),te=n(7758),Q=n(11777),ee=n(89535),J=n(73773),F=n(57465),T=n(21676),Z=n(17084);const H=(0,T.DU)([".no-pointer-events{pointer-events:none;user-select:none;&.col-resize{cursor:",";}&.row-resize{cursor:",";}}"],Z.M.ewResizeActive,Z.M.nsResizeActive),c=T.Ay.label.withConfig({displayName:"styles__StyledInputNumber",componentId:"sc-15aenl9-0"})(['position:relative;display:flex;justify-content:space-between;align-items:center;min-width:2em;border:1px solid transparent;font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;height:28px;font-size:12px;border-radius:6px;overflow:hidden;.title{display:flex;align-items:center;justify-content:center;padding:0 3px 0 5px;width:max-content;height:100%;user-select:none;color:',";&.title-cursor{&.col-resize{cursor:",";}&.row-resize{cursor:",";}}}.left-title{padding:0 13px 0 0;}.normal-right{margin-left:","px;}input{color:",";width:100%;height:100%;margin-left:8px;cursor:default;}.text-align-right{text-align:right;padding-right:2px;}.suffix{position:absolute;top:0;display:flex;align-items:center;height:100%;pointer-events:none;user-select:none;width:100%;color:",";&::before{content:attr(data-value);display:inline-block;margin-right:0.125em;width:fit-content;overflow:hidden;opacity:0;}}.action{position:absolute;top:0;right:0;width:14px;height:100%;text-align:center;visibility:hidden;svg{height:4px;fill:currentColor;fill-rule:evenodd;}button{display:block;margin:0;padding:0;width:100%;height:50%;line-height:0;color:",";&.no-transition{transition:none;}&:hover{color:",";}&:active{color:",";}&[data-action=up] svg{margin:5px 0 2px;}&[data-action=down] svg{margin:2px 0 5px;}}&.caret{width:26px;svg{width:26px;height:26px;margin-right:0;color:",";}button{height:100%;}&.active{visibility:visible;}}}&.is-disabled{> *{opacity:0.5;cursor:not-allowed;}}&.is-readOnly{pointer-events:none;.action{visibility:hidden;}}&:hover:not(.has-menu):not(.is-disabled){border:1px solid ",";.action{visibility:visible;color:#c8cdd0;}}&.is-active:not(.has-menu):not(.is-disabled){border:1px solid ",";outline:1px solid ",";outline-offset:-2px;.action{&:not(.caret){visibility:visible;}}}&.is-active-title{border:1px solid ",";outline:1px solid ",";outline-offset:-2px;cursor:pointer;}&.has-menu{border:1px solid transparent;input{width:calc(100% - 26px);border:1px solid transparent;border-radius:4px 0 0 4px;margin-left:0;padding-left:5px;}&:hover:not(.is-active):not(.is-disabled){border:1px solid ",";.action.caret{visibility:visible;background:",";svg.icon{color:",";}}}&:active:not(.is-active):not(.is-disabled){border:1px solid ",";.action.caret{visibility:visible;background:",";svg.icon{color:",";}}}&.is-active{overflow:visible;input{border:1px solid ",";outline:1px solid ",";position:relative;z-index:2;}.action.caret{visibility:visible;color:#c8cdd0;position:relative;z-index:1;svg.icon{color:",";}&:hover{background:",";border-radius:0 4px 4px 0;outline:1px solid ",";}}}}"],D=>D.theme.color_text_L3,Z.M.ewResize,Z.M.nsResize,D=>31-D.valueLength*6,D=>D.theme.color_text_L1,D=>D.theme.color_text_L2,D=>D.theme.color_text_L3,D=>D.theme.color_text_L2,D=>D.theme.color_text_L2,D=>D.theme.color_text_L3,D=>D.theme.color_bg_border_02,D=>D.theme.color_proto,D=>D.theme.color_proto,D=>D.theme.color_proto,D=>D.theme.color_proto,D=>D.theme.color_bg_border_02,D=>D.theme.color_btn_secondary_hover,D=>D.theme.color_text_L1,D=>D.theme.color_bg_border_02,D=>D.theme.color_btn_secondary_active,D=>D.theme.color_text_L1,D=>D.theme.color_proto,D=>D.theme.color_proto,D=>D.theme.color_text_L1,D=>D.theme.color_btn_secondary_hover,D=>D.theme.color_bg_border_02);var f=n(57464);const h=500,u=30,p=(D,ne)=>Number(Number(D).toFixed(ne));function S(D,ne,k){return k===void 0&&(k=0),ne?D:p(D!==""&&re()(Number(D))?Number(D):"",k)}const x=function(D,ne){let{shiftKey:k,metaKey:V}=D;return ne===void 0&&(ne=1),k?ne*10:V?ne*100:ne},N=D=>{let{currentTarget:ne}=D;return setTimeout(()=>ne.select(),50)};class O extends b.PureComponent{constructor(ne){super(ne),(0,o.A)(this,"setElemRef",k=>this.$title=k),(0,o.A)(this,"setLabelRef",k=>this.$label=k),(0,o.A)(this,"setInputRef",k=>this.$input=k),(0,o.A)(this,"onChange",k=>{const{target:{value:V}}=k,{isEditing:z}=this.state;!z&&this.setState({isEditing:!0});const I=V.trim();this.setValue(I,k)}),(0,o.A)(this,"correctNumber",k=>{const{value:V,min:z,max:I,precision:P,suffix:q,parser:pe}=this.props,ge=pe(k,q),we=p(Math.min(Math.max(ge,z),I),P);return isNaN(we)?V:we}),(0,o.A)(this,"checkValidity",k=>/^\+$/.test(k)?this.canBePositive:/^-$/.test(k)?this.canBeNegative:k===""||isFinite(k)&&this.correctNumber(k)===Number(k)),(0,o.A)(this,"setValue",(k,V,z)=>{V.persist&&V.persist(),this.setState({value:k},z)}),(0,o.A)(this,"setConfirmedValue",(k,V)=>this.setValue(k,V,()=>this.onConfirm(V))),(0,o.A)(this,"onConfirm",k=>{const{attr:V,value:z,precision:I,onConfirm:P,shouldCorrectOnConfirm:q,onlyPreview:pe,fontSize:ge,fontFamily:we,isWRichText:ke}=this.props,{value:Me}=this.state,ze=this.checkValidity(Me);if(this.props.isDisabled||this.props.disabled)return;k.persist&&k.persist();const Oe=this.correctNumber(Me),be=isNaN(Oe)?z:Oe;let Ue=Me===""?z:ze?/^[+-]$/.test(Me)?0:pe?Math.min(Math.max(Number(Me),20),400):Number(Me):Oe===p(Me,I)?Oe:q?be:z||be;(!ze||Me==="")&&ke&&(Ue=(0,F.qp)(we,ge));const Ye=Ue;return this.setState({value:Ue,isEditing:!1},()=>P(Ye,V,k,Me))}),(0,o.A)(this,"focusOnInput",k=>{try{const V=k.currentTarget.closest("label").querySelector("input");setTimeout(()=>{V.focus()})}catch(V){console.error(V)}}),(0,o.A)(this,"onStep",k=>{k.persist(),k.nativeEvent.stopPropagation(),this.handleBeforeChangeValue();const{parser:V,suffix:z}=this.props,{value:I}=this.state,P=V(I,z),{action:q}=k.currentTarget.dataset,pe=x(k,this.props.step)*(q==="up"?1:-1);this.setConfirmedValue(this.correctNumber(P+pe),k),this.focusOnInput(k),Object.assign(this,{longPressedTimeout:setTimeout(()=>Object.assign(this,{steppingInterval:setInterval(()=>{const{parser:ge,suffix:we}=this.props,{value:ke}=this.state,Me=ge(ke,we);this.setConfirmedValue(this.correctNumber(Me+pe),k)},u)}),h)})}),(0,o.A)(this,"onRelease",()=>{clearTimeout(this.longPressedTimeout),clearInterval(this.steppingInterval),this.handleAfterChangeValue()}),(0,o.A)(this,"onFocus",k=>{const{attr:V,dontSelectOnFocus:z,onFocus:I=z?void 0:N}=this.props;I(k,V)}),(0,o.A)(this,"onKeyDown",k=>{const{key:V,currentTarget:z}=k,{disableKeyboardEvents:I}=this.props;if(I&&(V===J._.ArrowUp||V===J._.ArrowDown)){k.preventDefault();return}const P=V===J._.ArrowUp?"up":V===J._.ArrowDown?"down":V===J._.Enter?"enter":V===J._.Tab?"tab":null,q=z instanceof Element&&z.matches("input");if(P){if(k.persist&&k.persist(),P!=="tab"&&k.preventDefault(),q&&P==="tab")return this.setInactive(),this.setState({isEditing:!1}),this.onConfirm(k);if(q&&P==="enter"){this.onConfirm(k),this.setInactive(),this.setState({isEditing:!1}),this.$input.blur();return}if(q){const{parser:pe,suffix:ge}=this.props,{value:we}=this.state,ke=pe(we,ge),Me=x(k,this.props.step)*(P==="up"?1:-1);this.handleBeforeChangeValue(),this.setState({isEditing:!1}),this.setConfirmedValue(this.correctNumber(ke+Me),k)}}}),(0,o.A)(this,"setActive",()=>{this.setState({isActive:!0}),MB&&MB.f&&(MB.f.isInSetting=!0);const{withToolTip:k,onChangeTooltipsHover:V}=this.props;k&&(this.setState({showTooltip:!1}),V&&V(!1))}),(0,o.A)(this,"setInactive",()=>{this.setState({isActive:!1,isEditing:!1}),MB&&MB.f&&(MB.f.isInSetting=!1)}),(0,o.A)(this,"toggleMenu",()=>this.setState({isMenuOpen:!this.state.isMenuOpen})),(0,o.A)(this,"closeMenu",()=>this.setState({isMenuOpen:!1})),(0,o.A)(this,"onSelect",k=>{k.persist();const{attr:V,onConfirm:z}=this.props,{currentTarget:I}=k,{value:P}=I.dataset;this.setState({value:P,isEditing:!1},()=>z(P,V,k)),this.setInactive(),this.closeMenu()}),(0,o.A)(this,"onClickOutside",k=>{const{target:V}=k;V.closest("label")&&this.$label.contains(V)||V.closest(".SelectOption")||(this.onConfirm(k),this.setInactive(),this.setState({isEditing:!1}))}),(0,o.A)(this,"onBlur",k=>{this.onConfirm(k),this.setState({isEditing:!1}),this.props.onBlur(k)}),(0,o.A)(this,"handleRectResize",k=>{k.stopPropagation();const{isDisabled:V,disabled:z,cursorSize:I,cursorDirection:P,onResizeMove:q,onResizeEnd:pe,attr:ge}=this.props;if(V||z)return;const{left:we,right:ke,top:Me,bottom:ze}=this.$title.getBoundingClientRect();this.lastRecordedClientX=I==="col-resize"?(we+ke)/2:(Me+ze)/2,this.lastRecordedValue=Number(this.state.value),this.setState({isTitleActive:!0}),document.querySelector("html").classList.add("no-pointer-events",I),sdkStore.combineMergeMark("input-number-"+ge),this.handleBeforeChangeValue();const Ze=be=>{q&&q();const Ue=(I==="col-resize"?be.pageX:be.pageY)-this.lastRecordedClientX,Ye=this.correctNumber(this.lastRecordedValue+(P?Number(Ue):-Number(Ue)));this.setConfirmedValue(Ye,be)},Oe=()=>{pe&&pe(),this.setState({isTitleActive:!1}),document.querySelector("html").classList.remove("no-pointer-events",I),this.handleAfterChangeValue(),sdkStore.combineMerge("input-number-"+ge),document.removeEventListener("mousemove",Ze),document.removeEventListener("mouseup",Oe)};document.addEventListener("mousemove",Ze),document.addEventListener("mouseup",Oe)}),(0,o.A)(this,"handleChangeCursor",()=>{const{isDisabled:k,disabled:V}=this.props;k||V||this.setState({isCursor:!this.state.isCursor})}),(0,o.A)(this,"handleAfterChangeValue",()=>{const{onAfterChangeValue:k}=this.props;k()}),(0,o.A)(this,"handleBeforeChangeValue",()=>{const{onBeforeChangeValue:k}=this.props;k()}),(0,o.A)(this,"onInputNumberMouseEnter",k=>{const{onMouseEnter:V,withToolTip:z,onChangeTooltipsHover:I}=this.props;V(k),this.setState({mouseEntered:!0});const P=()=>this.setState({showTooltip:!0});z&&(I?I(!0,P):P())}),(0,o.A)(this,"onInputNumberMouseLeave",k=>{const{onMouseLeave:V,withToolTip:z,onChangeTooltipsHover:I}=this.props;V(k),this.setState({mouseEntered:!1}),z&&(this.setState({showTooltip:!1}),I&&I(!1))}),this.state={prevProps:this.props,value:S(this.props.value,this.props.isNotVerify,this.props.precision),isActive:!1,isMenuOpen:!1,isTitleActive:!1,isCursor:!1,isEditing:!1,showTooltip:!1,mouseEntered:!1},this.lastRecordedClientX=null,this.lastRecordedValue=S(this.props.value,this.props.isNotVerify,this.props.precision),this.toolTipNode=document.getElementById("IBOT_TOOLTIP_ROOT")}static getDerivedStateFromProps(ne,k){let{prevProps:V}=k;return V.value!==ne.value||V.isNotVerify!==ne.isNotVerify||V.precision!==ne.precision?{prevProps:ne,value:S(ne.value,ne.isNotVerify,ne.precision)}:null}componentDidMount(){this.props.isSelect&&(this.$input.select(),this.setState({isActive:!0}))}componentDidUpdate(ne){!ne.isSelect&&this.props.isSelect&&this.$input.select()}get canBePositive(){return this.props.max>0}get canBeNegative(){return this.props.min<0}render(){const{inputClassName:ne,menuClassName:k,className:V="",placeholder:z,title:I,rightTitle:P,cursorSize:q,suffix:pe,actionButton:ge,formatter:we,optionList:ke,canSlidingAdjustment:Me,readOnly:ze,toolTipContent:Ze,showCaretIcon:Oe,normalRight:be,isLongTimeHoverForInput:Ue=!1}=this.props,{value:Ye,isActive:et,isMenuOpen:Qe,isTitleActive:i,isCursor:ct,isEditing:ut,showTooltip:jt,mouseEntered:vt}=this.state,gt=Ye,at=this.props.isDisabled||this.props.disabled,yt=ke&&ke.length>0,$t=m()(V,"WorkspaceInputNumber",{"is-disabled":at,"is-active":et&&!at,"is-menu-open":Qe,"is-active-title":i,"can-sliding-adjustment":Me,"has-menu":yt,"is-readOnly":ze}),Bt=z,Jt=String(Ye).split(".").join("").length-1,nn=Ue?Q.A:ee.A;return(0,f.jsx)(nn,{content:Ze,direction:"down",children:(0,f.jsxs)(c,{className:$t,ref:this.setLabelRef,onMouseDown:yt?void 0:this.setActive,onMouseEnter:this.onInputNumberMouseEnter,onMouseLeave:this.onInputNumberMouseLeave,valueLength:Jt,children:[I&&(0,f.jsx)("span",{className:m()("title",{"title-cursor":ct},q),ref:this.setElemRef,onMouseDown:this.handleRectResize,onMouseEnter:this.handleChangeCursor,onMouseLeave:this.handleChangeCursor,children:I}),(0,f.jsx)("input",{className:m()(ne,{"text-align-right":be&&!vt&&!et}),type:"text",value:ut?gt:we(gt,pe),placeholder:Bt,ref:this.setInputRef,disabled:at,onChange:this.onChange,onKeyDown:this.onKeyDown,onKeyUp:this.handleAfterChangeValue,onMouseDown:yt?this.setActive:void 0,onFocus:this.onFocus,onBlur:this.onBlur}),P&&(0,f.jsx)("span",{className:m()("title","left-title",{"title-cursor":ct},q),ref:this.setElemRef,onMouseDown:this.handleRectResize,onMouseEnter:this.handleChangeCursor,onMouseLeave:this.handleChangeCursor,children:P}),ge&&(0,f.jsx)(w,{hasMenu:yt,onToggleMenu:this.toggleMenu,onStep:this.onStep,onRelease:this.onRelease,showCaretIcon:Oe}),yt&&Qe&&(0,f.jsx)(R.V0,{isOpen:Qe,menuClassName:m()("SelectNumberMenu",k),$select:this.$label,optionList:ke,value:gt,onChange:this.onSelect,onClose:this.closeMenu}),et&&(0,f.jsx)(U.A,{target:document,onMouseDown:(0,U.t)(this.onClickOutside,{capture:!0})})]})})}}(0,o.A)(O,"defaultProps",{unstyled:!1,value:"",placeholder:"",cursorSize:"col-resize",inputClassName:"",menuClassName:"",cursorDirection:!0,step:1,isNotVerify:!1,formatter:(D,ne)=>""+D+(ne||""),parser:(D,ne)=>{const k=D.toString();return ne&&k.endsWith(ne)?Number(k.slice(0,k.length-ne.length)):Number(k)},min:0,max:1/0,isDisabled:!1,disabled:!1,readOnly:!1,actionButton:!0,isSelect:!1,onConfirm:()=>null,onMouseEnter:()=>null,onMouseLeave:()=>null,onAfterChangeValue:()=>null,onBeforeChangeValue:()=>null,onBlur:()=>null,shouldCorrectOnConfirm:!0,precision:0,dontSelectOnFocus:!1,canSlidingAdjustment:!0,isLineHeight:!1,disableKeyboardEvents:!1});const w=(0,b.memo)(D=>{let{hasMenu:ne,onToggleMenu:k,onStep:V,onRelease:z,showCaretIcon:I}=D;return(0,f.jsxs)(b.Fragment,{children:[ne?(0,f.jsx)("div",{className:m()("action caret",{active:I}),children:(0,f.jsx)(Y.Ay,{className:"no-transition",type:"text",tabIndex:"-1",onClick:k,children:(0,f.jsx)(te.C,{name:"common/expand@26"})})}):(0,f.jsxs)("div",{className:"action",children:[(0,f.jsx)(Y.Ay,{className:"no-transition",type:"text",tabIndex:"-1","data-action":"up",onMouseDown:V,onMouseLeave:z,onMouseUp:z,children:(0,f.jsx)(te.C,{name:"general/triangle_up"})}),(0,f.jsx)(Y.Ay,{className:"no-transition",type:"text",tabIndex:"-1","data-action":"down",onMouseDown:V,onMouseLeave:z,onMouseUp:z,children:(0,f.jsx)(te.C,{name:"general/triangle_down"})})]}),(0,f.jsx)(H,{})]})}),K=D=>(0,f.jsx)(O,{...D,isLongTimeHoverForInput:!0})},46479:(_e,de,n)=>{"use strict";n.d(de,{Tw:()=>Q,ft:()=>ee});var o=n(51044),b=n(57464);const j="/mb-static/2308/loading.gif",m="/mb-static/2308/loading-mo.gif",E=(J,F)=>F?"."+J:J,re=J=>_jsx("img",{className:J.className,alt:"Loading...",src:E(J.isMockitt?m:j,J.isHtmlZip)}),Y=J=>(0,b.jsx)("img",{className:J.className,alt:"Loading...",src:E(ENV.IS_WONDER_SHARE?m:j,J.isHtmlZip)}),U=J=>(0,b.jsx)("img",{className:J.className,alt:"Loading...",src:E(m,J.isHtmlZip)});var R=n(94947);const te=null,Q=n.j!=15?(0,o.memo)(J=>(0,b.jsx)(Y,{...J,isHtmlZip:(0,R.FM)()})):null,ee=(0,o.memo)(J=>(0,b.jsx)(U,{...J,isHtmlZip:(0,R.FM)()}))},54608:(_e,de,n)=>{"use strict";n.d(de,{n:()=>te,A:()=>Q});var o=n(51044),b=n(86634),j=n.n(b),m=n(7758),E=n(11777),re=n(21676);const Y=re.Ay.ol.withConfig({displayName:"styles__StyledNewSlideNav",componentId:"sc-1a6p3ca-0"})(["display:flex;height:100%;.nav-label{position:relative;height:100%;padding:0 3px;display:flex;align-items:center;justify-content:center;white-space:nowrap;}.nav-item{position:relative;display:flex;flex:1;justify-content:center;align-items:center;color:",";padding:0 3px;cursor:pointer;.nav-underline{position:absolute;display:none;bottom:0;width:70%;border-bottom:2px solid ",";}&:lang(ja){font-size:10px;}&.active{color:",";&:not(:first-child:nth-last-child(1)){.nav-underline{display:inline;}}&.background_active{background-color:",";}&.line_active::after{content:'';position:absolute;bottom:0;width:30px;height:2px;background:",";}}&.disabled{color:",";cursor:not-allowed;}&:not(:first-child){}.tabNewIcon{position:absolute;width:30px;top:0;right:3px;path:first-child{fill:#1684fc;}path:last-child{fill:#fff;}}}.nav-item-small:lang(en){font-size:10px;}&.isV9Layout{height:48px;min-height:48px;padding:0 6px;.nav-item{flex:none;font-size:13px;color:",";&.active{color:",";font-weight:bold;&.background_active{background-color:transparent;}}}}"],ee=>ee.theme.color_text_L2,ee=>ee.theme.color_text_L1,ee=>ee.theme.color_text_L1,ee=>ee.theme.color_bg_card,ee=>ee.theme.color_text_L1,ee=>ee.theme.color_text_disabled01,ee=>ee.theme.color_text_L3,ee=>ee.theme.color_text_L0);var U=n(57464);const R=(0,o.memo)(ee=>{let{activeIndex:J=0,className:F,layoutV9:T="old",children:Z,onTabChange:H}=ee;const c=T==="recommend";return(0,U.jsx)(Y,{className:j()(F,{isV9Layout:c}),children:o.Children.map(Z,(f,h)=>{const u={index:h,active:h===J,onClick:H};return o.cloneElement(f,u)})})}),te=(0,o.memo)(ee=>{let{className:J,index:F,active:T,onClick:Z,label:H,tooltip:c,isNew:f,disabled:h,tempDisabled:u}=ee;const p=()=>{if(h)return u&&MB.notice({text:I18N.Common.feature_is_not_available,type:"warning"}),null;Z(F)},S=(0,U.jsxs)("li",{className:j()("nav-item",{active:T},{disabled:h},J),onClick:p,children:[H&&(0,U.jsxs)("span",{className:"nav-label",children:[H,c&&c]}),f&&(0,U.jsx)(m.C,{name:"design/tab/new",className:"tabNewIcon"})]});return h?(0,U.jsx)(E.A,{content:"\u6682\u4E0D\u5F00\u653E",direction:"down",children:S}):S}),Q=R},39719:(_e,de,n)=>{"use strict";n.d(de,{eY:()=>p,At:()=>h,pU:()=>u,DV:()=>S,Ay:()=>f});var o=n(74059),b=n(51044);if(n.j!=15)var j=n(15336);var m=n(72605),E=n(21676);const re=(0,E.DU)(["div.notice-tips-container{.notice-tips{min-height:38px;p{color:",";}:not(.pure-svg-icon).svg-icon{fill:",";}&.success{.tip-svg{path:nth-child(1){fill:",";}}}&.warning{.tip-svg{path:nth-child(1){fill:",";}}}&.error{.tip-svg{circle{fill:",";}}.button-a{cursor:pointer;}.button-p{margin-left:0;}}&.super{background-color:",";p{margin:0 16px 0 4px;}.times-icon{path{fill:",";}}}}}"],x=>x.theme.color_text_btn,x=>x.theme.color_text_btn,x=>x.theme.color_success,x=>x.theme.color_warning,x=>x.theme.color_error,x=>x.theme.color_error,x=>x.theme.color_text_btn);var Y=n(43441),U=n(90503),R=n(37337);const te=E.Ay.div.withConfig({displayName:"styles__StyledNoticeTips",componentId:"sc-1ehf3rt-0"})([".notice-tips{width:100%;height:100%;min-height:38px;padding:8px 16px;display:flex;align-items:center;font-size:14px;color:",";box-shadow:0 2px 8px 0 rgba(0,0,0,0.05),0 4px 12px 0 rgba(0,0,0,0.15);border-radius:6px;p{margin:0 0 0 4px;}&.info{background-color:",";p{margin:0 4px;}a{margin-left:12px;color:#80BCFF;&:hover{color:#A6D2FF;}}}&.success{background:",";box-shadow:0 3px 6px -4px rgba(0,0,0,0.12),0 6px 16px rgba(0,0,0,0.08),0 9px 28px 8px rgba(0,0,0,0.05);border-radius:6px;}&.warning{background-color:",";}&.error{background-color:",";}&.super{background-color:",";}&.loading{background-color:",";.tip-svg{animation:design-ani-spinning 1s infinite linear;fill:rgb(69,70,71);}}@keyframes design-ani-spinning{0%{transform:rotate(0deg);}100%{transform:rotate(359deg);}}.times-icon{width:20px;display:flex;flex-shrink:0;opacity:1;cursor:pointer;transition:opacity 0.15s ease-out;margin-left:16px;align-self:center;&:hover{opacity:1;}}.tip-svg{width:20px;height:20px;}}a{text-decoration:underline;color:",";&:hover{color:",";}}.fade{&-enter{transform:translateY(-50%);opacity:0;}&-enter-active{opacity:1;transform:translateY(0);transition:all 0.15s ease-out;}&-exit{opacity:1;}&-exit-active{opacity:0;transition:opacity 0.25s ease-in-out;}&-exit-done{opacity:0;}}"],R.f.color_bg_white.value_light,R.f.color_btn_secondary_active.value_dark,R.f.color_btn_secondary_active.value_dark,R.f.color_btn_secondary_active.value_dark,R.f.color_btn_secondary_active.value_dark,R.f.color_error.value_light,R.f.color_btn_secondary_active.value_dark,R.f.color_text_link_normal.value_dark,R.f.color_text_link_hover.value_dark);var Q=n(57464);const ee={success:"design/toast/success",error:"design/toast/error",warning:"design/toast/warning",super:"design/toast/offline",loading:"design/toast/loading"};class J extends b.PureComponent{render(){const{isShow:N,type:O,text:w,showClose:K,isReactDom:D,CustomChildComponent:ne,svgName:k,onDisappear:V}=this.props;return(0,Q.jsx)(te,{children:(0,Q.jsx)(Y.A,{in:N,timeout:2500,classNames:"fade",unmountOnExit:!0,children:(0,Q.jsxs)("div",{className:"notice-tips "+O,children:[k&&(0,Q.jsx)(U.C,{name:k,className:"tip-svg",isColorPure:!0}),!k&&O&&ee[O]&&(0,Q.jsx)(U.C,{name:ee[O],className:"tip-svg",isColorPure:!0}),(0,Q.jsxs)(b.Fragment,{children:[D?w:(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("p",{dangerouslySetInnerHTML:{__html:w}}),(typeof ne=="function"||typeof ne=="object")&&(0,Q.jsx)(ne,{})]}),K&&(0,Q.jsx)(U.C,{className:"times-icon",name:"general/times",onClick:V})]})]})})})}}(0,o.A)(J,"defaultProps",{isShow:!1,type:"info",showClose:!1,isReactDom:!1,svgName:""});const F=E.Ay.div.withConfig({displayName:"styles__StyledNoticeTipsContainer",componentId:"sc-1ewb7bf-0"})(["position:fixed;left:50%;top:56px;max-width:480px;transform:translateX(-50%);z-index:1052;"]);var T=n(60185);class Z extends b.PureComponent{constructor(N){super(N),(0,o.A)(this,"timerId",null),(0,o.A)(this,"handleDisappear",()=>{typeof this.props.closeCallback=="function"&&this.props.closeCallback()}),this.el=document.createElement("div")}componentDidMount(){document.body.appendChild(this.el),this.props.isShow&&this.updateTimer()}componentDidUpdate(N,O,w){const{isShow:K,id:D}=this.props,{isShow:ne,id:k}=N;(D!==k&&K||K&&K!==ne)&&this.updateTimer()}updateTimer(){this.timerId&&clearTimeout(this.timerId);const{duration:N}=this.props;this.timerId=N&&setTimeout(this.handleDisappear,N)}componentWillUnmount(){document.body.removeChild(this.el),this.timerId&&clearTimeout(this.timerId)}render(){const{isShow:N,type:O,text:w,showClose:K,isReactDom:D,CustomChildComponent:ne,svgName:k,className:V}=this.props;return(0,T.createPortal)(N&&(0,Q.jsx)(F,{className:V,children:(0,Q.jsx)(J,{isShow:N,type:O,showClose:K,onDisappear:this.handleDisappear,isReactDom:D,text:w,CustomChildComponent:ne,svgName:k})}),this.el)}}(0,o.A)(Z,"defaultProps",{text:"",isShow:!1,type:"info",showClose:!1,isReactDom:!1,CustomChildComponent:void 0,svgName:"",id:"",duration:2e3,closeCallback:()=>null});const H=Z,c={isShow:!1,text:"",type:"info",showClose:!1,isReactDom:!1,CustomChildComponent:void 0,svgName:"",duration:2e3,id:""};class f extends b.PureComponent{constructor(N){super(N),(0,o.A)(this,"closeCallback",null),(0,o.A)(this,"handleDisappear",()=>{this.setState({isShow:!1}),typeof this.closeCallback=="function"&&this.closeCallback(),this.priority=0}),this.state=c,this.priority=0}componentDidMount(){MB.notice=N=>{let{text:O,type:w="info",CustomChildComponent:K=void 0,duration:D=2e3,showClose:ne=!1,isReactDom:k=!1,closeCallback:V=null,priority:z=0,svgName:I="",id:P=Math.random().toString(36).slice(2),isShow:q=!0}=N;this.priority>z||(clearTimeout(this.timer),this.setState({isShow:q,text:O,type:w,showClose:ne,id:P,isReactDom:k,CustomChildComponent:K,svgName:I,duration:D}),this.closeCallback=V,this.priority=z)}}componentWillUnmount(){this.setState({isShow:!1})}render(){const{isShow:N,type:O,duration:w,text:K,showClose:D,id:ne,isReactDom:k,CustomChildComponent:V,svgName:z}=this.state;return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(H,{className:"notice-tips-container",isShow:N,type:O,text:K,id:ne,duration:w,showClose:D,isReactDom:k,CustomChildComponent:V,svgName:z,closeCallback:this.handleDisappear}),(0,Q.jsx)(re,{})]})}}const h=x=>(0,b.memo)(()=>{const N=()=>(0,j.JW)("/hc/articles/393","_blank","noreferrer");return(0,Q.jsx)("a",{style:{cursor:"pointer"},onClick:N,children:x})}),u=n.j!=15?(0,b.memo)(()=>{const x=(0,m.wA)(),N=()=>x({type:"toolbar:sharingManager:open"});return(0,Q.jsx)("a",{onClick:N,children:I18N.ScreenPanel.share_panel})}):null,p=x=>(0,b.memo)(()=>{const N=()=>(0,j.JW)(I18N.link.link_article_business_font_state,"_blank","noreferrer");return(0,Q.jsx)("a",{className:"button-a",onClick:N,children:x})}),S=x=>{let{onClick:N}=x;return(0,b.memo)(()=>{const O=(0,m.wA)(),w=()=>{N&&N(O)};return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("a",{className:"button-a",onClick:w,children:I18N.dModule.network_api_error_2}),(0,Q.jsx)("p",{className:"button-p",children:I18N.dModule.network_api_error_3})]})})}},3895:(_e,de,n)=>{"use strict";n.d(de,{FU:()=>m,OO:()=>Y,Z8:()=>b,au:()=>re,lY:()=>E,p_:()=>j,zB:()=>o});const o={OWNER:1e4,SUPERMANAGER:9999,MANAGER:999,MEMBER:99,LIMITER:10,VIEWER:9,BANNED:1,UNKNOWN:0,UNJOINED:-1},b={space_owner:16,space_manager:15,space_member:14,space_viewer:13,space_limiter:12,team_owner:11,team_manager:10,team_member:9,team_viewer:8,project_owner:6,project_manager:5,project_member:4,project_viewer:3,project_ban_viewer:2,project_team_owner:1,team_ban_viewer:1},j={org_owner:o.OWNER,org_manager:o.SUPERMANAGER,org_admin:o.MANAGER,org_member:o.MEMBER,org_viewer:o.VIEWER},m={space_owner:o.MANAGER,space_manager:o.MANAGER,space_member:o.MEMBER,space_viewer:o.VIEWER,space_limiter:o.LIMITER},E={team_owner:o.MANAGER,team_manager:o.MANAGER,team_member:o.MEMBER,team_viewer:o.VIEWER,team_none:o.VIEWER,team_ban_viewer:o.BANNED},re=Object.assign({project_owner:o.MANAGER,project_team_owner:o.MANAGER,project_manager:o.MANAGER,project_member:o.MEMBER,project_viewer:o.VIEWER,project_none:o.VIEWER,project_ban_viewer:o.BANNED},E),Y={space_owner:"project_manager",space_manager:"project_manager",space_member:"project_member",space_viewer:"project_viewer",team_owner:"project_manager",team_manager:"project_manager",team_member:"project_member",team_viewer:"project_viewer",team_ban_viewer:"project_ban_viewer",team_none:"project_viewer",project_owner:"project_manager"},U={space_owner:"team_manager",space_manager:"team_manager",space_member:"team_member",space_viewer:"team_viewer",team_none:"team_viewer",team_owner:"team_manager"}},96510:(_e,de,n)=>{"use strict";n.d(de,{s:()=>Q});var o=n(46795);const b=async(ee,J)=>{const{project:F}=await(0,o.zi)("/api/dashboard/v5/projects/"+ee+"/invite",J);return F},j=async(ee,J)=>(0,o.SN)("/api/dashboard/v5/permissions/projects/"+ee,J),m=async(ee,J)=>{await(0,o.uz)("/api/dashboard/v5/permissions/projects/"+ee,J)};var E=n(15573),re=n(61654),Y=n(50378);const U=async(ee,J)=>await(0,o.DE)("/api/dashboard/v5/spaces/"+ee+"?org_cid="+J),R={project_manager:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u7BA1\u7406\u5458\u300D",project_member:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u53EF\u7F16\u8F91\u300D",project_viewer:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u4EC5\u67E5\u770B\u300D",project_ban_viewer:"\u7684\u6743\u9650\u53D8\u66F4\u4E3A\u300C\u7981\u6B62\u67E5\u770B\u300D"};let te=function(ee){return ee.Org="org",ee.OrgSpace="space",ee.Folder="folder",ee.Project="project",ee}({});const Q={"entry:projectAccess:initProjectData":async(ee,J)=>{let{getState:F,dispatch:T}=ee,{payload:Z}=J;try{const{initData:H,members:c}=Z,f=H==null?void 0:H.org,{user:h,space:u,project:p,team:S,top_parent_team:x,lang:N}=H||{},O=new Map,w=new Map;return O.set(S==null?void 0:S.cid,S),O.set(x==null?void 0:x.cid,x),S!=null&&S.parent_cid&&(S==null?void 0:S.parent_cid)!==x.cid&&O.set(S==null?void 0:S.parent_cid,x),w.set(p==null?void 0:p.cid,p),T({type:Y.X2.UpdateState,payload:{user:h,org:{...f,members:c},space:u,folderListMap:O,projectListMap:w,lang:N}}),!0}catch(H){return console.error(H.message),!1}},"entry:projectAccess:inviteOrgMemberToProject":async(ee,J)=>{let{getState:F,dispatch:T}=ee,{payload:Z}=J;const{projectCid:H,userCid:c,roleName:f,userName:h}=Z;if(!H||!c)return;const u=F(),p=(0,re.IE)(u),S=(0,re.M0)(u),x=(0,re._B)(u);try{const N=await b(H,{user_cid:c,role:f}),{space:O}=await U(S,p);x.set(N.cid,N),await T({type:Y.X2.UpdateProjectListMap,payload:new Map(x)}),await T({type:Y.X2.UpdateSpace,payload:O}),window.top.postMessage({type:"updateApp",data:{newApp:(0,E.A)(N)}},"*"),window.top.postMessage({type:"successMsg",data:{msg:{name:h,other:R[f]}}},"*")}catch(N){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}},"entry:projectAccess:updateMemberProjectPermission":async(ee,J)=>{let{getState:F,dispatch:T}=ee,{payload:Z}=J;const{projectCid:H,userId:c,roleName:f,userName:h}=Z,u=F();try{const{permission:p}=await j(H,{target_role:f,target_user_id:c}),S=(0,re._B)(u),x=S.get(H),N=(x==null?void 0:x.permissions)||[],O=N.find(D=>Number(D.user_id)===Number(c));let w=[];O?w=N.map(D=>Number(D.user_id)===Number(c)?p:D):w=[...N,p];const K={...x,permissions:w};S.set(H,K),await T({type:Y.X2.UpdateProjectListMap,payload:new Map(S)}),window.top.postMessage({type:"updateApp",data:{newApp:(0,E.A)(K)}},"*"),window.top.postMessage({type:"successMsg",data:{msg:{name:h,other:R[f]}}},"*")}catch(p){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}},"entry:projectAccess:removeProjectMemberPermission":async(ee,J)=>{let{getState:F,dispatch:T}=ee,{payload:Z}=J;const{projectCid:H,userId:c,roleName:f,userName:h}=Z,u=F();try{await m(H,{target_role:f,target_user_id:c});const p=(0,re._B)(u),S=p.get(H),x=(S==null?void 0:S.permissions)||[];if(x.find(O=>Number(O.user_id)===Number(c))){const O=x.filter(K=>Number(K.user_id)!==Number(c)),w={...S,permissions:O};p.set(H,w),await T({type:Y.X2.UpdateProjectListMap,payload:new Map(p)}),window.top.postMessage({type:"successMsg",data:{msg:{name:h,other:"\u7684\u6743\u9650\u5DF2\u79FB\u9664"}}},"*"),window.top.postMessage({type:"updateApp",data:{newApp:(0,E.A)(w)}},"*")}}catch(p){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}}}},50378:(_e,de,n)=>{"use strict";n.d(de,{Ay:()=>m,X2:()=>b});const o={user:{id:0,user_id:"",user_cid:"",email:"",is_viewer:!1,name:"",mobile:null,avatar:""},org:{name:"",cid:"",logo:null,spaces:[],plan:"",trial_end_on:null,next_billing_on:"",settings:{},permissions:[],limitation:{is_export_watermark:!1,is_org_quit_transfer:!0,is_org_recent:!0,max_mkt_count:0,max_org_log_days:0,max_pic_bytes:0,max_project_count:0,max_project_share_count:0,max_project_template_count:0,max_project_version_count:0,max_recycler_days:0,max_screen_count:0,storage:0},members:[]},space:{cid:"",created_at:"",deleted:!1,name:"",org_cid:"",permissions:[],space_type:"",updated_at:"",user_id:0,is_disable_banned_viewer:!0},folderListMap:new Map,projectListMap:new Map,lang:"zh-CN"};let b=function(E){return E.UpdateState="reducer:update:user",E.UpdateUser="reducer:update:user",E.UpdateOrg="reducer:update:org",E.UpdateSpace="reducer:update:space",E.UpdateFolderListMap="reducer:update:folderListMap",E.UpdateProjectListMap="reducer:update:projectListMap",E}({});const m=function(E,re){E===void 0&&(E=o);const{type:Y,payload:U}=re;switch(Y){case b.UpdateState:return{...E,...U};case b.UpdateUser:return{...E,user:{...E.user,...U}};case b.UpdateOrg:return{...E,org:{...E.org,...U}};case b.UpdateSpace:return{...E,space:{...E.space,...U}};case b.UpdateFolderListMap:return{...E,folderListMap:U};case b.UpdateProjectListMap:return{...E,projectListMap:U};default:return E}}},61654:(_e,de,n)=>{"use strict";n.d(de,{IE:()=>re,M0:()=>te,WR:()=>m,XW:()=>ee,_B:()=>J,cb:()=>F,hG:()=>H,iF:()=>Q,il:()=>R,kG:()=>U,q7:()=>f,wA:()=>E,yZ:()=>T});var o=n(63686),b=n(59318),j=n(37673);const m=h=>{var u;return(u=h.projectAccess.user)==null?void 0:u.user_id},E=h=>h.projectAccess.org,re=h=>{var u;return((u=h.projectAccess.org)==null?void 0:u.cid)||""},Y=h=>{var u;return((u=h.projectAccess.org)==null?void 0:u.members)||[]},U=h=>{var u;return((u=h.projectAccess.org)==null?void 0:u.permissions)||[]},R=h=>h.projectAccess.space,te=h=>h.projectAccess.space.cid,Q=h=>h.projectAccess.space.permissions||[],ee=h=>h.projectAccess.folderListMap||new Map,J=h=>h.projectAccess.projectListMap||new Map,F=(0,o.Mz)(m,U,(h,u)=>(0,b.oE)({userId:h,orgPermissions:u})),T=(0,o.Mz)(m,Q,(h,u)=>(0,b.sq)({userId:h,spacePermissions:u})),Z=(0,o.Mz)(Q,h=>{const u=(0,b.Rc)(h);return h.reduce((p,S)=>{const{user_id:x}=S,N=(0,b.CF)({userId:x,permissionsMap:u,permissionScope:j.W.OrgSpace});return p.set(Number(x),N)},new Map)}),H=(0,o.Mz)(Q,h=>h.filter(p=>p.role==="space_limiter").reduce((p,S)=>{const{user_id:x}=S;return p.set(Number(x),S)},new Map)),c=(0,o.Mz)(Y,h=>h.reduce((u,p)=>{const{user_id:S,user_cid:x,email:N,mobile:O}=p;return S&&x?u.set(Number(S)||S,{...p}):(N&&u.set(N,{...p}),O&&u.set(O,{...p}),u)},new Map)),f=(0,o.Mz)(U,c,(h,u)=>h.reduce((p,S)=>{const{user_id:x,unsign_remark:N}=S,O=x||N,w=u.get(O)||{},K=(0,b.Sc)(S);return p.set(O,{...w,permission:K})},new Map))},37673:(_e,de,n)=>{"use strict";n.d(de,{W:()=>o,p:()=>b});let o=function(j){return j.Org="org",j.OrgSpace="space",j.Folder="folder",j.Project="project",j}({}),b=function(j){return j.OrgSpace="orgspace-permission-tip",j.OrgSpaceLimiter="orgspace-limiter-permission-tip",j.RootFolder="root-folder-permission-tip",j.SubFolder="sub-folder-permission-tip",j.Project="project-permission-tip",j}({})},15573:(_e,de,n)=>{"use strict";n.d(de,{A:()=>m,u:()=>j});var o=n(63924),b=n.n(o);const j=(E,re)=>{if(!(E!=null&&E.cid))return-1;let Y=0,U="",R=E;for(;R&&!R.root_project&&(Y=Y+1,U=R.parent_cid,!!U);)R=re.get(U);return Y};function m(E){return E&&Object.entries(E).reduce((re,Y)=>{let[U,R]=Y;return Object.assign(re,{[b()(U)]:R})},{})}},59318:(_e,de,n)=>{"use strict";n.d(de,{CF:()=>H,CZ:()=>m,Cj:()=>te,Rc:()=>Z,Sc:()=>Y,oE:()=>Q,ox:()=>re,pf:()=>T,sq:()=>ee});var o=n(3895),b=n(37673);const j=function(c,f,h){return h===void 0&&(h=!1),{level:c,roleName:f,isInherited:h,isOwner:c>=o.zB.OWNER,isSuperManager:c>=o.zB.SUPERMANAGER,isManager:c>=o.zB.MANAGER,isMember:c>=o.zB.MEMBER,isViewer:c>=o.zB.VIEWER,isLimiter:c===o.zB.LIMITER,isBanned:c===o.zB.BANNED,isUnknown:c===o.zB.UNKNOWN}},m=j(o.zB.UNKNOWN),E=j(o.zB.UNJOINED),re=(c,f)=>{if(!f||f.length<=0)return null;const h=f.find(u=>{let{user_id:p,unsign_remark:S}=u;return Number(p)===Number(c)||S===c});return h||null},Y=c=>c?j(o.p_[c.role],c.role):j(o.zB.UNKNOWN),U=(c,f)=>{if(!c)return[];let h=[],u=c,p=f.get(u);for(;p&&!p.root_project;)h=h.concat(p.permissions),u=p.parent_cid,p=f.get(u);return h},R=(c,f,h)=>{let u=U(c,f);return u=u.concat(h).reverse(),u=u.filter(p=>p.role!=="space_limiter"),u.map(p=>{const S=folderInheritePermissionRoleFixMap[p.role];return S?{...p,role:S,inherited:!0}:{...p,inherited:!0}})},te=(c,f,h)=>{let u=U(c,f);return u=u.concat(h).reverse(),u=u.filter(p=>p.role!=="space_limiter"),u.map(p=>{const S=o.OO[p.role];return S?{...p,role:S,inherited:!0}:{...p,inherited:!0}})},Q=c=>{const{orgPermissions:f,userId:h}=c;if(!h||!f||f.length<1)return j(o.zB.UNKNOWN);const u=re(h,f);return u?j(o.p_[u.role],u.role):j(o.zB.UNKNOWN)},ee=c=>{const{spacePermissions:f,userId:h}=c;if(!h||!f||f.length<1)return j(o.zB.UNKNOWN);const u=re(h,f);return u?j(o.FU[u.role],u.role):j(o.zB.UNKNOWN)},J=c=>{const{userId:f,orgPermissions:h,spacePermissions:u,currentFolder:p,folderListMap:S}=c;if(!f||!p)return j(permissionLevels.UNKNOWN);const{org_cid:x,space_cid:N}=p;if(!x&&!N)return j(permissionLevels.OWNER,"team_owner");if(!u||u.length<1)return j(permissionLevels.UNKNOWN);const{isRoot:O,root_project:w}=p;if(O||w){const V=ee({spacePermissions:u,userId:f});return V.roleName==="space_limiter"?{...Q({orgPermissions:h,userId:f}),isLimiter:!0}:V}const K=p.permissions||[],D=R(p.parent_cid,S,u),ne=Object.values(Object.fromEntries([...D,...K].map(V=>[V.user_id,V]))),k=re(f,ne);return k?j(folderPermissionLevelsMap[k.role],k.role,k.inherited):j(permissionLevels.UNKNOWN)},F=c=>{const{userId:f,spacePermissions:h,currentProject:u,folderListMap:p}=c;if(!f||!u)return j(permissionLevels.UNKNOWN);const{space_cid:S}=u;if(!S)return j(permissionLevels.OWNER,"project_owner");if(!h||h.length<1)return j(permissionLevels.UNKNOWN);const x=u.permissions||[],N=te(u.team_cid,p,h),O=Object.values(Object.fromEntries([...N,...x].map(K=>[K.user_id,K]))),w=re(f,O);return w?j(projectPermissionLevelsMap[w.role],w.role,w.inherited):j(permissionLevels.UNKNOWN)},T=function(c,f,h){return h===void 0&&(h=!1),f?typeof f[c]<"u"?j(f[c],c,h):j(o.zB.UNJOINED):j(o.zB.UNKNOWN)},Z=c=>!c||c.length<1?new Map:c.reduce((f,h)=>f.set(Number(h.user_id),h),new Map),H=c=>{const{permissionsMap:f,userId:h,permissionScope:u}=c;if(!h||!f||f.size<1)return j(o.zB.UNKNOWN);const{role:p,inherited:S}=f.get(Number(h))||{};if(!p)return j(o.zB.UNKNOWN);let x=null;switch(u){case b.W.Org:x=o.p_;break;case b.W.OrgSpace:x=o.FU;break;case b.W.Folder:x=o.lY;break;case b.W.Project:x=o.au;break;default:break}return T(p,x,S)}},53159:(_e,de,n)=>{"use strict";n.d(de,{A:()=>c});var o=n(51044),b=n(21676),j=n(66748),m=n.n(j),E=n(98236),re=n.n(E),Y=n(28149);const U=b.Ay.label.withConfig({displayName:"styled__StyledLabel",componentId:"sc-1pwp3tx-0"})(["position:relative;display:inline-flex;align-items:baseline;line-height:1.5;cursor:pointer;color:#5b6b73;> input[type=radio]{position:absolute;opacity:0;}&.regular{font-size:14px;}&.small{font-size:12px;.Check-state{transform:translateY(2px);}}&.readonly{cursor:default;}&.is-disabled{cursor:not-allowed;&::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:rgba(255,255,255,0.5);}}.Check-state{position:relative;flex:0 0 1em;margin-right:0.33333em;width:1em;height:1em;transform:translateY(1px);font-size:12px;background-color:#f6f7f8;border:1px solid #8d9ea7;border-radius:2px;color:#fff;.svg-icon.check{position:absolute;top:-1px;left:-1px;opacity:0;}}&.small .Check-state{transform:translateY(2px);}&.CoreRadio,&.Radio{&.is-checked{.Check-state{background-color:#298df8;border-color:transparent;color:#fff;.svg-icon.check{transform:scale(0.833);}}}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}&.CoreRadio{.Check-state{background-color:#fff;border-color:#bacdd6;}&.is-checked .Check-state{background-color:#eb5648;}}"]),R=(0,b.Ay)(U).withConfig({displayName:"styled__StyledRadio",componentId:"sc-1pwp3tx-1"})([".Check-state{padding:1px;border-radius:50%;&:after{content:'';position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:block;width:4px;height:4px;background-color:#fff;border-radius:50%;}}.is-checked .Check-state{position:relative;}"]),te=b.Ay.span.withConfig({displayName:"styled__StyledRadioGroup",componentId:"sc-1pwp3tx-2"})(["position:relative;display:flex;flex-wrap:wrap;&.is-disabled{cursor:not-allowed;}.Radio,.CoreRadio{margin-right:.5em;min-height:2em;}"]);var Q=n(57464);function ee(f,h,u){return(h=J(h))in f?Object.defineProperty(f,h,{value:u,enumerable:!0,configurable:!0,writable:!0}):f[h]=u,f}function J(f){var h=F(f,"string");return typeof h=="symbol"?h:h+""}function F(f,h){if(typeof f!="object"||!f)return f;var u=f[Symbol.toPrimitive];if(u!==void 0){var p=u.call(f,h||"default");if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(f)}class T extends o.PureComponent{constructor(){super(...arguments),ee(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),ee(this,"onToggle",()=>{const{name:h,value:u,label:p,onToggle:S,onChange:x}=this.props,{isChecked:N}=this.state,{canToggle:O}=this,w=O?!0:N;this.setState({isChecked:w}),S(w,h,u||p),x(h,u||p,w)})}static getDerivedStateFromProps(h,u){let{prevProps:p,isChecked:S}=u;return re()(p,h)?null:{prevProps:h,isChecked:h.isChecked}}get isDisabled(){const{isDisabled:h,disabled:u}=this.props;return h||u}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:h,readOnly:u}=this;return!h&&!u}render(){const{size:h,theme:u,className:p,label:S,name:x}=this.props,{isChecked:N}=this.state,{isDisabled:O,readOnly:w}=this;return(0,Q.jsxs)(R,{className:(0,Y.Hn)([u==="core"?"CoreRadio":"Radio",h,p,N&&"is-checked",O&&"is-disabled",w&&"readonly"]),children:[(0,Q.jsx)("input",{type:"radio",defaultChecked:N,disabled:O,name:x,onClick:this.onToggle}),(0,Q.jsx)("span",{className:"Check-state"}),(0,Q.jsx)("span",{className:"Check-label",children:S})]})}}ee(T,"propTypes",{size:m().oneOf(["regular","small"]),theme:m().oneOf(["core","plain"]),className:m().string,label:m().any,name:m().string,value:m().any,isChecked:m().bool,isDisabled:m().bool,disabled:m().bool,readOnly:m().bool,onChange:m().func.isRequired,onToggle:m().func.isRequired}),ee(T,"defaultProps",{size:"regular",theme:"plain",isChecked:!1,label:"",className:"",onChange:()=>null,onToggle:()=>null});class Z extends o.PureComponent{constructor(){super(...arguments),ee(this,"name",this.props.name||Math.random().toString(36).substring(2,15)),ee(this,"state",{prevProps:this.props,value:this.props.value}),ee(this,"createOnChangeHandler",(h,u,p)=>()=>{const{onToggle:S,onChange:x}=this.props,{value:N}=this.state,{canToggle:O}=this,w=O?u:N;this.setState({value:w}),S(w,h),x({name:h,value:w,idx:p})})}static getDerivedStateFromProps(h,u){let{prevProps:p,value:S}=u;return re()(p,h)?null:{prevProps:h,value:h.value}}get isDisabled(){const{isDisabled:h,disabled:u}=this.props;return h||u}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:h,readOnly:u}=this;return!h&&!u}render(){const{size:h,theme:u,className:p,optionList:S}=this.props,{value:x}=this.state,{name:N,isDisabled:O,readOnly:w}=this,K=(0,Y.Hn)([u==="core"?"CoreRadioGroup":"RadioGroup",h,p,O&&"is-disabled",w&&"readonly"]);return(0,Q.jsx)(te,{className:K,children:S.map((D,ne)=>D&&(0,Q.jsx)(T,{name:N,size:h,theme:u,label:(0,Y.Oi)(D),type:"radio",isChecked:(0,Y.o3)(D,x),isDisabled:O||D.isDisabled,readOnly:w,onChange:O||D.isDisabled?void 0:this.createOnChangeHandler(N,(0,Y.nE)(D),ne)},ne))})}}ee(Z,"propTypes",{size:m().oneOf(["regular","small"]),theme:m().oneOf(["core","plain"]),className:m().string,name:m().string,optionList:m().arrayOf(m().oneOfType([m().string,m().number,m().shape({label:m().any,value:m().any,isDisabled:m().bool})])).isRequired,value:m().oneOfType([m().number,m().string]),isDisabled:m().bool,disabled:m().bool,readOnly:m().bool,onChange:m().func.isRequired,onToggle:m().func.isRequired}),ee(Z,"defaultProps",{size:"regular",theme:"plain",className:"",optionList:[],onChange:()=>null,onToggle:()=>null});const H=(0,b.Ay)(Z).withConfig({displayName:"styles__StyledRadioGroup",componentId:"sc-1mmciik-0"})([".Radio{color:",';input[type="radio"]{cursor:pointer;}&.is-checked{color:',";.Check-state{background:",";&::after{background:#fff;}}}&:not(.is-checked){.Check-state{background:",";border:1px solid ",";&::after{background:",";}}}&.is-disabled::after{background-color:",";opacity:0.5;}}"],f=>f.theme.color_text_L2,f=>f.theme.color_text_L1,f=>f.theme.color_proto,f=>f.theme.color_bg_white,f=>f.theme.color_text_disabled01,f=>f.theme.color_bg_white,f=>f.theme.color_bg_white);class c extends o.PureComponent{render(){return(0,Q.jsx)(H,{...this.props})}}},86778:(_e,de,n)=>{"use strict";n.d(de,{A:()=>T});var o=n(51044),b=n(21676),j=n(66748),m=n.n(j),E=n(98236),re=n.n(E),Y=n(28149);const U=b.Ay.label.withConfig({displayName:"styled__StyledSwitch",componentId:"sc-16h4tgy-0"})(["position:relative;display:inline-block;margin:0 10px;width:28px;height:10px;vertical-align:text-bottom;background:rgba(22,132,252,0.4);border-radius:100px;cursor:pointer;transform:matrix(-1,0,0,1,0,0);transition:all 0.2s ease-in;transition-delay:0.15s;&.readonly{cursor:default;}> button{position:absolute;top:-20%;left:0;display:flex;justify-content:center;align-items:center;width:14px;height:14px;font-size:14px;border-radius:50%;background:#1684FC;box-shadow:0px 1px 1px rgba(0,0,0,0.15),0px 0px 2px rgba(0,0,0,0.12);transform:matrix(-1,0,0,1,0,0);cursor:inherit;transition:all 0.2s cubic-bezier(0.55,0.06,0.68,0.19);}&.small{width:28px;height:10px;vertical-align:baseline;> button{width:14px;height:14px;border-width:1px;}}&.is-checked{background:#dbdbdb;> button{transform:translate(14px,0%);cursor:inherit;background-color:#fff;box-shadow:0px 1px 1px rgba(0,0,0,0.15),0px 0px 2px rgba(0,0,0,0.12);}&.small > button{transform:translate(14px,0);background-color:#999;}&.small{background-color:#59515c;}}&.is-disabled{background-color:#dedee4;cursor:not-allowed;&.is-checked{background-color:rgba(22,132,252,0.4);}button{background-color:#f6f7f8;}}&.Switch-IOS{background:#1684fc;transform:matrix(1,0,0,1,0,0);transition:all 0.2s ease-in;> button{top:1px;left:1px;background:#fff;transform:matrix(1,0,0,1,0,0);}&.small{width:24px;height:12px;border-radius:6px;> button{width:10px;height:10px;border-width:0;}}&.is-checked{&.small > button{transform:translate(12px,0);background-color:#fff;}&.small{background-color:#ccc;}}}&.Switch-IOS-NoTransform{background:#1684fc;transition:all 0.2s ease-in;> button{top:1px;left:1px;background:#fff;transform:matrix(1,0,0,1,0,0);}&.small{width:24px;height:12px;border-radius:6px;> button{width:10px;height:10px;border-width:0;}}&.is-checked{&.small > button{transform:translate(12px,0);background-color:#fff;}&.small{background-color:#ccc;}}}"]);var R=n(57464);function te(Z,H,c){return(H=Q(H))in Z?Object.defineProperty(Z,H,{value:c,enumerable:!0,configurable:!0,writable:!0}):Z[H]=c,Z}function Q(Z){var H=ee(Z,"string");return typeof H=="symbol"?H:H+""}function ee(Z,H){if(typeof Z!="object"||!Z)return Z;var c=Z[Symbol.toPrimitive];if(c!==void 0){var f=c.call(Z,H||"default");if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(H==="string"?String:Number)(Z)}class J extends o.PureComponent{constructor(){super(...arguments),te(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),te(this,"toggle",H=>{let{target:c}=H;const{onChange:f}=this.props,{isChecked:h}=this.state,{isDisabled:u,canToggle:p}=this,S=p?!h:h;return c.blur(),this.setState({isChecked:S}),!u&&f(S)})}static getDerivedStateFromProps(H,c){let{prevProps:f}=c;return re()(f,H)?null:{prevProps:H,isChecked:H.isChecked}}get isDisabled(){const{isDisabled:H,disabled:c}=this.props;return H||c}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:H,readOnly:c}=this;return!H&&!c}render(){const{size:H,readOnly:c,className:f,children:h,isIOS:u,isIOSReverse:p}=this.props,{isChecked:S}=this.state,{isDisabled:x}=this;return(0,R.jsxs)(U,{className:(0,Y.Hn)(["Switch",u&&"Switch-IOS",p&&"Switch-IOS-NoTransform",H,S?"is-checked":"isnt-checked",x&&"is-disabled",c&&"readonly",f]),children:[(0,R.jsx)("button",{type:"button",disabled:x,onClick:this.toggle}),h]})}}te(J,"propTypes",{className:m().string,size:m().oneOf(["regular","small"]),isChecked:m().bool,isDisabled:m().bool,disabled:m().bool,readOnly:m().bool,isIOS:m().bool,isIOSReverse:m().bool,onChange:m().func,children:m().any}),te(J,"defaultProps",{className:"",size:"regular",isChecked:!1,isDisabled:!1,disabled:!1,readOnly:!1,isIOS:!1,isIOSReverse:!1,onChange:()=>null});const F=(0,b.Ay)(J).withConfig({displayName:"styles__StyledSwitch",componentId:"sc-14ktgxw-0"})(["&.Switch-IOS{background:",";transform:matrix(1,0,0,-1,0,0);margin:0;button{border:unset;background:",";}&.is-checked{&.small{background:",";button{background:",";}}}}"],Z=>Z.theme.color_text_disabled01,Z=>Z.theme.color_text_btn,Z=>Z.theme.color_proto,Z=>Z.theme.color_text_btn);class T extends o.PureComponent{render(){return(0,R.jsx)(F,{...this.props})}}},7775:(_e,de,n)=>{"use strict";n.d(de,{it:()=>re,V0:()=>J,mq:()=>ee});var o=n(74059),b=n(51044),j=n(10481),m=n(21676);const E=(0,m.Ay)(j.Ay).withConfig({displayName:"styled__StyledWorkspaceSelectProto",componentId:"sc-15zctdm-0"})(["&.WorkspaceSelect{padding:0px;border-radius:4px;button{width:auto;display:flex;padding:0 6px;align-items:center;color:",";}.caret{flex-shrink:0;width:26px;display:flex;justify-content:center;align-items:center;padding:0;color:",";svg{width:26px;height:26px;}}&:not(.is-disabled):not(.readonly):hover{border-color:",";button{width:calc(100% - 26px);}.caret{padding:0;color:",";}}&.is-open{border-color:transparent;}}"],F=>F.theme.color_text_L1,F=>F.theme.color_text_L3,F=>F.theme.color_bg_border_02,F=>F.theme.color_text_L1),re="select-menu-width-108",Y=(0,m.DU)(["#IBOT_SELECT_MENU_ROOT{.SelectMenuPortal{.menu-animation-select{margin-left:-15px;}.WorkspaceSelectMenu.is-open{border:1px solid #454647;box-shadow:0 3px 6px -4px rgba(0,0,0,0.12),0 6px 16px rgba(0,0,0,0.08),0 9px 28px 8px rgba(0,0,0,0.05);.SelectOption{&:not(.empty-msg):not(.is-disabled):hover{background:#666;}}}}.autoFillPanelSelectScreenMenu{margin-left:-138px;margin-top:26px;width:175px;}.bdr-width-input-menu{width:88px;}.arrow-setting-menu{width:78px;}.","{width:108px;}}"],re),U=(0,m.DU)(["#IBOT_SELECT_MENU_ROOT{.SelectMenuPortal{.menu-animation-select{margin-left:-15px;}.WorkspaceSelectMenu{padding:8px;border-radius:8px;color:",";background:",";box-shadow:",";&.is-open{border:1px solid ",";border-radius:8px;width:176px;max-width:176px;padding:8px;background-color:",";box-shadow:",";.SelectOption{&:not(.empty-msg):not(.is-disabled):hover{background:",";}}}> .divider{border-bottom:1px solid ",";margin:5px;}.SelectOption{border-radius:4px;&.is-active{color:",";}&:not(.empty-msg):not(.is-disabled):not(.is-active):hover{background-color:",";color:",";}}}}.autoFillPanelSelectScreenMenu{margin-left:-138px;margin-top:26px;width:175px;}.bdr-width-input-menu{width:88px;}.arrow-setting-menu{width:78px;}.","{width:108px;}}"],F=>F.theme.color_text_L0,F=>F.theme.color_bg_white,F=>F.theme.shadow_m,F=>F.theme.color_bg_border_01,F=>F.theme.color_bg_white,F=>F.theme.shadow_m,F=>F.theme.color_btn_secondary_hover,F=>F.theme.color_bg_border_01,F=>F.theme.color_text_L0,F=>F.theme.color_btn_secondary_hover,F=>F.theme.color_text_L0,re);var R=n(7758),te=n(53955),Q=n(57464);class ee extends b.PureComponent{constructor(){super(...arguments),(0,o.A)(this,"isLayoutV9",(0,te.jB)())}render(){return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(E,{...this.props,arrowSvg:(0,Q.jsx)(R.C,{className:"triangle-icon",name:"common/expand@26"})}),this.isLayoutV9?(0,Q.jsx)(U,{}):(0,Q.jsx)(Y,{})]})}}class J extends b.PureComponent{constructor(){super(...arguments),(0,o.A)(this,"isLayoutV9",(0,te.jB)())}render(){return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(j.eB,{...this.props}),this.isLayoutV9?(0,Q.jsx)(U,{}):(0,Q.jsx)(Y,{})]})}}},24660:(_e,de,n)=>{"use strict";n.d(de,{l:()=>o});const o=function(b,j,m,E){m===void 0&&(m=""),E===void 0&&(E=!1);let re;return b?re={mode:"org",orgCid:b.cid,payEntrance:j,checkoutArea:"proto",checkoutPlace:m||"org_use_vip_mkt"}:re={mode:E?"org":"solo",isSelectOrg:!!E,payEntrance:j,checkoutArea:"proto",checkoutPlace:m||"solo_use_vip_mkt"},re}},10286:(_e,de,n)=>{"use strict";n.d(de,{ER:()=>c,J_:()=>F,Or:()=>R,QC:()=>p,X0:()=>Z,Y5:()=>T,aX:()=>u,dJ:()=>ee,g:()=>te,l1:()=>h,wi:()=>U,yq:()=>Q});var o=n(26114),b=n(29815),j=n(72907),m=n(46795),E=n(29601),re=n(36521),Y=n(57464);const U=async S=>{let{projectCid:x}=S;return(0,m.DE)("/api/upper/web_v1/sharing/initial?cid="+x)},R=async S=>{let{projectCid:x,sharing:N}=S;return(await(0,m.zi)("/api/flat/web_v1/project_share/"+x,{...N})).project_share},te=async S=>{let{projectCid:x,sharingCid:N}=S;try{return await(0,m.OD)("/api/flat/web_v1/project_share/"+N+"?project_cid="+x)}catch(O){await(0,j.FY)(O)}},Q=async S=>{let{sharing:x}=S;try{return await(0,m.SN)("/api/flat/web_v1/project_share/"+x.cid,{project_share:x})}catch(N){await(0,j.FY)(N)}},ee=async S=>{try{return await(0,m.DE)("/api/flat/web_v1/preview/visit_count/"+S)}catch(x){console.error(x)}},J=()=>{const S=document.getElementById("workspace");(0,o.H)(S).render((0,Y.jsx)(b.A,{locale:(0,E.w)(),errorType:404,customDes:I18N.ToolBar.ReEnter,isShowPrimaryBtn:!1}))},F=async S=>{try{if(!S.accessToken||S.project.access_token===S.accessToken)return T(S.project);{const{project:x,accessToken:N}=S,{project_share:O}=await(0,m.DE)("/api/flat/web_v1/project_share/"+x.cid+"?access_token="+N);return{sharing:{...O,type:"advanced",view_mode:O.device_model}}}}catch(x){await J()}},T=S=>{const{cid:x,access_token:N,access:O,building:w,comment_permission:K,password:D,visibility:ne,wechat:k}=S,V=new URLSearchParams(location.search),z=V.get("screen"),I=V.get("canvasId"),P=V.get("view_mode")||(0,re.Yt)(x+"_default_sharing_view_mode","read_only",re.qW.String),q=V.get("view_mode")||(0,re.Yt)(x+"_default_sharing_view_mode","read_only",re.qW.String),pe=!!V.get("selection"),ge=pe?V.get("selection").split(","):[];return{sharing:{type:"default",project_cid:x,access_token:N,view_access:O,view_sticky:w,comment_permission:K,password:D,visibility:ne,wechat:k,view_mode:P,screen_visible_switch:pe,screen_visible_list:ge,page_begin:z,canvas_begin:I,device_model:q}}},Z=async S=>{let{projectCid:x}=S;try{const{project_shares:N}=await(0,m.DE)("/api/flat/web_v1/project_share/"+x+"/all");return N.sort((O,w)=>new Date(w.created_at).getTime()-new Date(O.created_at).getTime())}catch(N){await(0,j.FY)(N)}},H=async S=>{try{const{result:x}=await fetchGetJSON("/api/accesses/v4/project/"+S+"/permission_check?permission=P:update");return x}catch(x){await apiErrorModals(x)}},c=async S=>{let x=null;try{x=await(0,m.DE)("/flpak/ww-p2meta/"+S)}catch(N){await(0,j.FY)(N)}return x},f={access_token:"",comment_permission:"",device_model:"",highlight:!0,password:"",project_cid:"",screen_visible_switch:!1,screen_visible_list:[],shell_type:"device",simulator_type:"device",sticky:!0,view_access:"private",view_count:0,view_prd:!1,wechat:!1,view_sticky:!0},h=()=>({sharing:f}),u=async S=>{let x,N;try{x=await(0,m.DE)("/api/upper/web_v1/basics/"+S+"/get_details"),x&&JSON.stringify(x)!=="{}"&&(N=!0)}catch(O){x=O,N=!1}return{result:x,statusOk:N}},p=async S=>{let x,N;try{x=await(0,m.DE)("/api/accesses/v4/project/"+S+"/permission_check?permission=P:update"),x&&JSON.stringify(x)!=="{}"&&(N=!0)}catch(O){x=O,N=!1}return{result:x,statusOk:N}}},77180:(_e,de,n)=>{"use strict";n.d(de,{gE:()=>b,nM:()=>o,nQ:()=>j});const o="local_sharing_copy_url_v8_1",b=50,j={public:"share_anyone_view",restricted:"org_members_only"}},82140:(_e,de,n)=>{"use strict";n.d(de,{n:()=>ui});var o=n(51044),b=n(28055),j=n(96510),m=n(82928),E=n(50378),re=n(30939);const Y={cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"read_only"},U=null,R="123",te={projectBasicToken:"BcHc8Xdrrwlnj5pdDxPloA",projectShares:[{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"},{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"},{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"}]},Q={owner_id:10,owner_name:"d9",owner_email:"d9@d.dd",owner_avatar:"/images/avatar.png",id:71,limitation:{storage:5e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:65535,screens:65535,commentable:!0},screens_count:0,cid:"pb2lje6hu9dax5akx",team_cid:"teuaroot",space_cid:null,name:"sharing",type:"proto2",attr:{},created_at:1687863747e3,updated_at:1688043155e3,timestamp:"1688043155",access:"public",access_token:"32vJ5gBXrwws03fxYV0OK2",version:"v3",icon:null,splash:null,width:390,height:844,device:"iphone",model:"iphone_13_pro",scale:100,archived:!1,parent_cid:null,source_upper_cid:null,clones:0,shell_type:"device",password:"",wechat:!1,highlight:!0,preview_option:1,expired:!1,deleted:!1,duplicating:!1,permissions:[{user_id:10,role:"project_owner"}],is_org_project:!1,is_sub_project:!1,runner_mode:"preview",comment_permission:"org_member",tabs:null,visibility:"open",building:"view_sticky"},ee={owner_id:10,owner_name:"d9",owner_email:"d9@d.dd",owner_avatar:"/images/avatar.png",id:71,limitation:{storage:5e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:65535,screens:65535,commentable:!0},screens_count:0,cid:"pb2lje6hu9dax5akx",team_cid:"teuaroot",space_cid:null,name:"sharing",type:"proto2",attr:{},created_at:1687863747e3,updated_at:1688043155e3,timestamp:"1688043155",access:"public",access_token:"32vJ5gBXrwws03fxYV0OK2",version:"v3",icon:null,splash:null,width:390,height:844,device:"iphone",model:"iphone_13_pro",scale:100,archived:!1,parent_cid:null,source_upper_cid:null,clones:0,shell_type:"device",password:"",wechat:!1,highlight:!0,preview_option:1,expired:!1,deleted:!1,duplicating:!1,permissions:[{user_id:10,role:"project_owner"}],is_org_project:!1,is_sub_project:!1,runner_mode:"preview",comment_permission:"org_member",tabs:null,visibility:"open",building:"view_sticky"};var J=n(10286),F=n(46664),T=n(60482),Z=n(15039);const c=(()=>{const e={project:void 0,flatKey:void 0,theme:"light",user:void 0,org:void 0,settingPageType:"create",subSettingPageType:"basic",currentSharing:Y,hostType:"proto",topPageIndex:"edit",advancedSharingList:[],canEditByUser:!1,mainPage:"share",tabIndex:0,members:[],isEditMode:location.pathname.includes("/design/"),screenMetaList:void 0,initData:{},loading:!0,hostSharingData:void 0,sharingToast:"",currentSelectSharing:void 0,isOnlyMemberManager:!1},a=function(_,y){_===void 0&&(_=e);let{type:C="sharing:state:update",payload:M=e}=y;switch(C){case"sharing:state:update":return{..._,...M};case"sharing:state:clear":return{...e};default:return _}},l={"sharing:init":(_,y)=>{let{dispatch:C}=_,{payload:M}=y;C({type:"sharing:state:update",payload:M})},"sharing:currentSharing:update":(_,y)=>{let{getState:C,dispatch:M}=_,{payload:{updatedKV:W}}=y;const $=C(),L={...d.getCurrentSharing($),...W};M({type:"sharing:state:update",payload:{currentSharing:L}})},"sharing:remote:sharing:update":async(_,y)=>{let{getState:C,dispatch:M}=_,{payload:{sharingData:W,updatedKV:$}}=y;const X=C(),L=d.getOrg(X),se=d.getProject(X);let le;if(W.type==="default"){var B,ie;le=async()=>(0,F.Yu)(se.cid,{...$}),await(0,T.eH)({updateType:"update",updateFn:le,org:L});const ce={...se,...$};M({type:"sharing:state:update",payload:{project:ce}}),(B=MB)!=null&&B.action&&((ie=MB)==null||ie.action("current:update:state",{currentProject:ce}))}else{const ce=d.getAdvancedSharingList(X),ae={...W,...$};le=async()=>(0,J.yq)({sharing:ae});const{expired_at:ue}=await(0,T.eH)({updateType:"update",updateFn:le,org:L,updatedKV:$});M({type:v["sharing:currentSharing:update"],payload:{updatedKV:{expired_at:ue}}});const he=ce.map(G=>G.cid===ae.cid?{...ae,expired_at:ue}:G);M({type:v["sharing:advancedSharingList:update"],payload:{sharingList:he}})}},"sharing:remote:sharing:delete":async(_,y)=>{let{getState:C,dispatch:M}=_,{payload:{sharingCid:W}}=y;const $=C(),X=d.getProject($),L=d.getAdvancedSharingList($);await(0,J.g)({projectCid:X.cid,sharingCid:W});const se=L.filter(le=>le.cid!==W);M({type:v["sharing:advancedSharingList:update"],payload:{sharingList:se}})},"sharing:settingPage:advanced:confirm":async(_,y)=>{let{getState:C,dispatch:M}=_,{payload:{updatedKV:W}}=y;const $=C(),X=d.getSettingPageType($),L=d.getCurrentSharing($),se=d.getOrg($),le=d.getProject($);if(X==="create"){const B=async()=>(0,J.Or)({projectCid:le.cid,sharing:L});await(0,T.eH)({updateType:"create",updateFn:B,org:se}),M({type:v["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})}else{const B=async()=>(0,J.yq)({sharing:L}),{expired_at:ie}=await(0,T.eH)({updateType:"update",updateFn:B,org:se,updatedKV:W});M({type:v["sharing:currentSharing:update"],payload:{updatedKV:{expired_at:ie}}})}M({type:"sharing:advance:click:track"})},"sharing:settingPage:default:confirm":async _=>{var y,C;let{getState:M,dispatch:W}=_;const $=M(),X=d.getCurrentSharing($),L=d.getProject($),se=d.getOrg($),le=async()=>(0,F.Yu)(L.cid,Object.assign({},X,{building:X.view_sticky}));await(0,T.eH)({updateType:"update",updateFn:le,org:se});const B=Object.assign({},L,X,{building:X.view_sticky});W({type:"sharing:state:update",payload:{project:B}}),(y=MB)!=null&&y.action&&((C=MB)==null||C.action("current:update:state",{currentProject:B}))},"sharing:go-settingPage":(_,y)=>{let{dispatch:C}=_,{payload:{currentSharing:M,settingPageType:W,subSettingPageType:$=e.subSettingPageType}}=y;C({type:"sharing:state:update",payload:{currentSharing:M,settingPageType:W,topPageIndex:"setting",subSettingPageType:$}})},"sharing:topPageIndex:jump":(_,y)=>{let{dispatch:C}=_,{payload:{topPageIndex:M=e.topPageIndex}}=y;C({type:"sharing:state:update",payload:{topPageIndex:M}})},"sharing:advancedSharingList:update":(_,y)=>{let{dispatch:C}=_,{payload:{sharingList:M}}=y;C({type:"sharing:state:update",payload:{advancedSharingList:M}})},"sharing:projectAccess:init":async _=>{let{dispatch:y,getState:C}=_;const M=C(),W=d.getMembers(M),$=d.getProject(M),X=$==null?void 0:$.cid,L=$==null?void 0:$.is_org_project;if(!X||!L){setTimeout(()=>{y({type:c.entryKey["sharing:init"],payload:{loading:!1}})},100);return}const{result:se,statusOk:le}=await(0,J.aX)(X);if(y({type:c.entryKey["sharing:init"],payload:{loading:!1}}),!!le&&se){var B,ie;const{project:ce,org:ae}=se;await y({type:"entry:projectAccess:initProjectData",payload:{initData:se,members:W}}),y({type:c.entryKey["sharing:init"],payload:{project:ce,org:ae,initData:se}}),(B=MB)!=null&&B.action&&((ie=MB)==null||ie.action("current:update:state",{currentProject:ce}))}},"sharing:function:track":(_,y)=>{let{getState:C}=_,{payload:{operation:M,viewMode:W,isDefault:$}}=y;const X=C(),L=d.getProject(X)||{},se=d.getCanEditByUser(X),le=d.getOrg(X)||{},B=d.getUser(X),ie=d.getInitData(X)||{},ce=(ie==null?void 0:ie.space)||{},ae=d.getIsEditMode(X),ue=d.getHostType(X),{cid:he,name:G}=L,fe={userCanEdit:se,userId:B==null?void 0:B.id,orgPermissions:le==null?void 0:le.permissions,spacePermissions:ce==null?void 0:ce.permissions,projectPermissions:L==null?void 0:L.permissions,isEditMode:ae,view_mode:W,optionType:M,share_type:$?"\u9ED8\u8BA4\u5206\u4EAB":"\u9AD8\u7EA7\u5206\u4EAB",isIframe:ue==="iframe",project_name:G,project_cid:he};(0,Z.Xc)(fe)},"sharing:advance:click:track":(_,y)=>{let{getState:C}=_,{}=y;const M=C(),W=d.getSettingPageType(M),$=d.getCurrentSharing(M),X=d.getProject(M),L=d.getAdvancedSharingList(M)||[],se=d.getScreenMetaList(M),le=d.getHostType(M),B=(0,T.RF)(se.pageAttrMap),ie=(0,T.Mj)(!$.screen_visible_switch,$.screen_visible_list,B);let ce="\u5168\u90E8";$.screen_visible_switch&&(ce=""+ie);const ae=L.length;(0,Z.nr)({link_name:$.link_name,links_number:W==="create"?ae+1:ae,share_type:$.device_model==="device"?"\u6F14\u793A\u6A21\u5F0F":"\u753B\u5E03\u6A21\u5F0F",page_number:ce,operation_type:W==="create"?"\u65B0\u5EFA":"\u7F16\u8F91",source:le==="iframe"?"\u5DE5\u4F5C\u53F0":"\u7F16\u8F91\u533A",project_name:X.name,project_cid:X.cid})}},d=re.B.genQuery(e,{getStateFn:_=>_.sharing}),v=re.B.genEntryKey(l);return{__initialState:e,__reducer:a,__entry:l,entryKey:v,query:d}})(),f=(0,b.HY)({sharing:c.__reducer,projectAccess:E.Ay}),h={...c.__entry,...j.s},u=()=>{const e=(0,m.RZ)(),a=(0,b.y$)(f,(0,b.Tw)(e.middleware));return e.setEntryMap(h),a};var p=n(72605),S=n(21676),x=n(21952),N=n(57716),O=n(86634),w=n.n(O),K=n(77180);const D=S.Ay.div.withConfig({displayName:"styles__StyledSharingToolBar",componentId:"sc-1ergmj0-0"})(["display:flex;align-items:center;justify-content:space-between;height:","px;padding-right:12px;border-bottom:1px solid ",";&.tool-upgrade{padding-right:24px;}.sharing-title{margin-left:24px;color:",";font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:500;line-height:24px;}.upgrade-team-business{padding:0 10px;height:26px;border-radius:13px;display:flex;align-items:center;justify-content:center;background:",";font-size:14px;font-weight:500;position:relative;cursor:pointer;z-index:1;&:hover{background:",";}.team-business{background:linear-gradient(265.2deg,"," -21.19%,"," 105.08%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-fill-color:transparent;flex:none;order:0;flex-grow:0;}.content{font-size:12px;font-family:PingFang SC;font-style:normal;font-weight:400;line-height:18px;position:absolute;background:#454647;top:36px;right:0;width:300px;padding:12px 16px;border-radius:6px;.learn-text{margin-left:8px;color:#80BCFF;&:hover{color:#A6D2FF;}}&::before{content:'';position:absolute;top:0px;right:30px;transform:translateY(-100%);display:inline-block;width:0;height:0;border:6px solid transparent;border-bottom:6px solid #454647;}.top-bar{position:absolute;width:100%;height:10px;top:-10px;right:0;}span{color:",";}a{cursor:pointer;color:",";&:hover{color:",";}}}}"],K.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1,e=>e.theme.color_background_AI_head_tag,e=>e.theme.color_background_AI_head_tag_hover,e=>e.theme.color_AI_switch_gradient_start,e=>e.theme.color_AI_switch_gradient_end,e=>e.theme.color_text_btn,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover),ne=S.Ay.div.withConfig({displayName:"styles__StyledShareHeadMembers",componentId:"sc-v93i5v-0"})(["height:36px;border-radius:18px;display:flex;align-items:center;padding:0 4px;cursor:pointer;&:hover{background:",";}.avatar{height:24px;width:24px;border-radius:12px;box-sizing:border-box;border:1px solid ",";&:not(:first-child){margin-left:-6px;}&.avater-name{text-align:center;background:rgb(22,133,252);justify-content:center;color:white;font-size:12px;text-align:center;display:flex;align-items:center;}}.item-line{margin-left:6px;width:1px;height:16px;background:",";}.remaining{box-sizing:border-box;border-radius:12px;border:1px solid ",";background:rgb(22,133,252);justify-content:center;display:flex;align-items:center;margin-left:-6px;width:24px;height:24px;svg{width:24px;height:24px;}}.arror{margin-left:6px;width:14px;height:14px;}"],e=>e.theme.color_btn_secondary_active,e=>e.theme.color_share_member__border_color,e=>e.theme.color_bg_border_02,e=>e.theme.color_share_member__border_color);var k=n(37673),V=n(7758),z=n(59318);const I="__mb_delete_permission",P=[{value:"org_owner",label:"permissions_org_owner"},{value:"org_manager",label:"permissions_org_super_administrator"},{value:"org_admin",label:"permissions_org_administrator"},{value:"org_member",label:"permissions_org_collaboration_member"},{value:"org_viewer",label:"permissions_org_review_member"}],q=[{value:"space_manager",label:"permissions_space_manager"},{value:"space_member",label:"permissions_space_collaboration_member"},{value:"space_viewer",label:"permissions_space_review_member"},{value:"space_limiter",label:"permissions_space_unregistered_member"}],pe=[{value:"team_manager",label:"permissions_manager"},{value:"team_member",label:"permissions_can_edit"},{value:"team_viewer",label:"permissions_only_view"},{value:"team_ban_viewer",label:"permissions_ban_view"}],ge=[{value:"project_manager",label:"permissions_manager"},{value:"project_member",label:"permissions_can_edit"},{value:"project_viewer",label:"permissions_only_view"},{value:"project_ban_viewer",label:"permissions_ban_view"}],we={space_owner:"project_manager",space_manager:"project_manager",space_member:"project_member",space_viewer:"project_viewer",team_owner:"project_manager",team_manager:"project_manager",team_member:"project_member",team_viewer:"project_viewer",team_ban_viewer:"project_ban_viewer",team_none:"project_viewer",project_owner:"project_manager"},ke={space_owner:"team_manager",space_manager:"team_manager",space_member:"team_member",space_viewer:"team_viewer",space_ban_viewer:"team_ban_viewer",team_none:"team_viewer",team_owner:"team_manager"},Me=Object.fromEntries([...P,...q,...pe,...ge].map(e=>[e.value,e.label]));var ze=n(3895),Ze=n(61654),Oe=n(15573);const be=e=>{const a=(0,p.d4)(Ze.XW),l=a.get(e);return(0,Oe.u)(l,a)},Ue=(e,a)=>{const l=(0,p.d4)(Ze.XW),d=(0,p.d4)(Ze._B),v=(0,p.d4)(Ze.kG),_=(0,p.d4)(Ze.iF),y=(0,p.d4)(Ze.yZ),M=(0,p.d4)(Ze.il).is_disable_banned_viewer||!1;let W=null,$=null;const X=e;let L=[],se=[],le=[];W=d.get(a),se=W.permissions,le=(0,z.Cj)(W.team_cid,l,_),$=k.W.Org,L=v,le=Object.values(Object.fromEntries(le.map(ue=>[ue.user_id,ue])));const B=Object.values(Object.fromEntries([...le,...se].map(ue=>[ue.user_id,ue]))),ie=(0,o.useMemo)(()=>{const ue=(0,z.Rc)(L);return L.reduce((he,G)=>{const{user_id:fe}=G,xe=(0,z.CF)({userId:fe,permissionsMap:ue,permissionScope:$});return he.set(Number(fe),xe)},new Map)},[L]),ce=(0,o.useMemo)(()=>{const ue=(0,z.Rc)(B);return L.reduce((he,G)=>{const{user_id:fe}=G,xe=(0,z.CF)({userId:fe,permissionsMap:ue,permissionScope:X});return he.set(Number(fe),xe)},new Map)},[B,L]),ae=(0,o.useMemo)(()=>{const ue=(0,z.Rc)(le);return le.reduce((he,G)=>{const{user_id:fe}=G,xe=(0,z.CF)({userId:fe,permissionsMap:ue,permissionScope:X});return he.set(Number(fe),xe)},new Map)},[le]);return{userCurrentSpacePermission:y,membersTopScopePermissonMap:ie,membersCurrentScopePermissonMap:ce,membersInheritedCurrentScopePermissonMap:ae,topScopePermissionMembers:L,currentScopePermissionMembers:se,inheritedPermissionMembers:le,combinedCurrentPermissionMembers:B,isDisableBannedViewer:M}},Ye=(e,a,l)=>{const d=(0,p.wA)();return(0,o.useCallback)(async(_,y)=>{const{name:C,email:M,mobile:W,permissionMap:$}=_,{memberCurrentScopePermisson:X,currentScopeRoleName:L}=$;if(!X)return;const se=C||M||W;let le=!1;y===I&&(le=!0),X.isUnknown?await d({type:"entry:projectAccess:inviteOrgMemberToProject",payload:{projectCid:a,userCid:_.user_cid,roleName:y,userName:se}}):le?await d({type:"entry:projectAccess:removeProjectMemberPermission",payload:{projectCid:a,userId:_.user_id,roleName:L,userName:se}}):await d({type:"entry:projectAccess:updateMemberProjectPermission",payload:{projectCid:a,userId:_.user_id,roleName:y,userName:se}})},[a,d])},et=(e,a)=>{const l=(0,p.d4)(Ze.WR),d=(0,p.d4)(Ze.q7),v=(0,p.d4)(Ze.hG),{userCurrentSpacePermission:_,membersTopScopePermissonMap:y,membersCurrentScopePermissonMap:C,membersInheritedCurrentScopePermissonMap:M,topScopePermissionMembers:W,inheritedPermissionMembers:$,currentScopePermissionMembers:X,combinedCurrentPermissionMembers:L,isDisableBannedViewer:se}=Ue(e,a),le=C.get(Number(l))||z.CZ,B=!!v.get(Number(l)),ie=(0,o.useMemo)(()=>{const ve=new Map;return W.forEach(Pe=>{let{user_id:Ee,role:Ie}=Pe;const Ve=y.get(Number(Ee))||z.CZ,Be=C.get(Number(Ee))||z.CZ,Ge=M.get(Number(Ee))||z.CZ,ot=!!v.get(Number(Ee)),it=d.get(Number(Ee));if(!it)return;const pt=it.permission,ht=Be.isUnknown?Ie:Be.roleName;ve.set(Number(Ee),{...it,permissionMap:{currentScopeRoleName:ht,userCurrentSpacePermission:_,userCurrentScopePermisson:le,memberTopScopePermisson:Ve,memberCurrentScopePermisson:Be,memberInheritedPermisson:Ge,memberOrgPermisson:pt,isSelf:Number(Ee)===Number(l),isDisableBannedViewer:se,userIsSpaceLimiter:B,memberIsSpaceLimiter:ot}})}),ve},[W,y,C,M,v]),ce=(0,o.useMemo)(()=>X.sort((ve,Pe)=>ze.Z8[Pe.role]-ze.Z8[ve.role]).map(ve=>ie.get(Number(ve.user_id))).filter(ve=>ve),[X,ie]),ae=(0,o.useMemo)(()=>$.sort((ve,Pe)=>ze.Z8[Pe.role]-ze.Z8[ve.role]).map(ve=>{const{user_id:Pe,role:Ee}=ve,Ie=M.get(Number(Pe))||z.CZ,Ve=ie.get(Number(ve.user_id));return Ve?{...Ve,permissionMap:{...Ve.permissionMap,currentScopeRoleName:Ee,memberCurrentScopePermisson:Ie}}:null}).filter(ve=>ve),[$,ie,M]),ue=(0,o.useMemo)(()=>L.sort((ve,Pe)=>ze.Z8[Pe.role]-ze.Z8[ve.role]).map(ve=>ie.get(Number(ve.user_id))).filter(ve=>ve),[L,ie]),he=(0,o.useMemo)(()=>{const ve=ue.map(Ee=>Number(Ee.user_id)),Pe=[];for(const[Ee,Ie]of ie.entries())ve.includes(Number(Ee))||Ie&&Pe.push(Ie);return Pe},[ie,ue]),G=(0,o.useMemo)(()=>{const ve=ae.filter(Ee=>{var Ie;return(Ie=Ee.permissionMap)==null||(Ie=Ie.memberCurrentScopePermisson)==null?void 0:Ie.isManager});return Object.values(Object.fromEntries([...ve,...ce].map(Ee=>[Ee.user_id,Ee])))},[ae,ce]),fe=(0,o.useMemo)(()=>{const ve=G.map(Ee=>Number(Ee.user_id)),Pe=[];for(const[Ee,Ie]of ie.entries())ve.includes(Number(Ee))||Ie&&Pe.push(Ie);return Pe},[ie,G]);return{isOnlyOneManager:(0,o.useMemo)(()=>ue.filter(ve=>{var Pe;return(Pe=ve.permissionMap)==null||(Pe=Pe.memberCurrentScopePermisson)==null?void 0:Pe.isManager}).length===1,[ue]),userCurrentScopePermisson:le,userCurrentSpacePermission:_,currentMembers:ce,inheritedMembers:ae,joinedMembers:ue,unjoinedMembers:he,assignedMembers:G,unassignedMembers:fe,currentOrgMembersMap:d}};var Qe=n(11777),i=n(57464);const ct=()=>{var e;const a=(0,p.d4)(c.query.getUser),l=(0,p.d4)(c.query.getProject),d=(0,p.d4)(c.query.getInitData),v=be(l==null?void 0:l.team_cid),_=l==null?void 0:l.cid,y=(0,p.wA)(),C=(0,o.useCallback)(B=>{B.stopPropagation(),y({type:c.entryKey["sharing:init"],payload:{mainPage:"access"}}),y({type:c.entryKey["sharing:function:track"],payload:{operation:"\u56E2\u961F\u534F\u4F5C"}})},[y]),{currentMembers:M,inheritedMembers:W,joinedMembers:$}=et(k.W.Project,_);let X=M;v>=1?W.forEach(B=>{X.find(ce=>ce.id===B.id)||X.push(B)}):X=$;const se=(e=X)==null?void 0:e.filter(B=>Number(B.user_id)!==Number(a==null?void 0:a.id));se&&(X=se.slice(0,2));const le=(0,o.useCallback)(B=>{var ie;const{avatar:ce,name:ae,id:ue}=B;return ce&&!ce.includes("/images/avatar.png")?(0,i.jsx)("img",{className:"avatar",src:B.avatar,alt:B.name},ue):(0,i.jsx)("div",{className:"avatar avater-name",children:ae==null||(ie=ae.slice(0,1))==null?void 0:ie.toUpperCase()},ue)},[]);return!d||JSON.stringify(d)==="{}"?null:(0,i.jsx)(Qe.A,{content:I18N.imockSharing.team_collaborator,direction:"down",distance:5,enterHoverTime:500,children:(0,i.jsxs)(ne,{onClick:C,children:[le(a),X.length>0&&X.map(B=>le(B)),(0,i.jsx)("div",{className:"remaining",children:(0,i.jsx)(V.C,{name:"sharing/add_member",isColorPure:!0})}),(0,i.jsx)(V.C,{name:"sharing/member_arror",isColorPure:!0,className:"arror"})]})})},ut=(0,o.memo)(ct),jt=S.Ay.div.withConfig({displayName:"styles__StyledSharingSliderBar",componentId:"sc-1u48ud6-0"})(["display:flex;height:100%;align-items:center;position:relative;padding-left:24px;.tab-item{color:",";font-size:14px;font-family:PingFang SC;cursor:pointer;height:100%;display:flex;align-items:center;&:not(:first-child){margin-left:14px;}&.tab-sel{color:",";font-weight:500;border-top:2px solid rgba(0,0,0,0);border-bottom:2px solid ",";box-sizing:border-box;}}"],e=>e.theme.color_share_switch_sel_color,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1),vt=e=>{let{tabs:a,handleChangeTabIndex:l,tabIndex:d,className:v}=e;return(0,i.jsx)(jt,{className:v,children:a.map((_,y)=>(0,i.jsx)("div",{className:w()("tab-item",d===y&&"tab-sel"),id:"tab-item-"+y,onClick:()=>l(y),children:_},y))})},gt=(0,o.memo)(vt);var at=n(15336),yt=n(47755);const $t=()=>{let e=null;const a=(0,p.wA)(),l=(0,p.d4)(c.query.getProject),d=(0,p.d4)(c.query.getCanEditByUser),v=(0,p.d4)(c.query.getHostType),_=(0,p.d4)(c.query.getIsEditMode),y=(0,p.d4)(c.query.getInitData),C=(0,p.d4)(c.query.getTabIndex),[M,W]=(0,o.useState)(!1),$=(l==null?void 0:l.is_org_project)||!1,X=v==="iframe"||_,se=new URLSearchParams(location.search).get("view_mode")||"read_only",le=X&&$&&y&&JSON.stringify(y)!=="{}",B=d&&!$,ie=(0,o.useCallback)(()=>{const he=v==="iframe",G=(he?"\u5DE5\u4F5C\u533A":"\u7F16\u8F91\u533A")+"-v8_\u4E2A\u4EBA_\u5206\u4EAB_\u56E2\u961F\u534F\u4F5C\u5347\u7EA7",fe=(he?"dashboard":"workspace")+"-v8_solo_share_upgrade",xe={payEntrance:G,checkoutPlace:fe,checkoutArea:he?"dashboard":"proto",mode:"org",isSelectOrg:!0};if(he){const ve="/workspace/''?payment_param="+(0,yt._)(xe);(0,at.JW)(ve,"_blank","noreferrer")}else MB.global.popupHelper.chargeAsync(xe)},[]),ce=()=>{e=setTimeout(()=>{W(!0)},1e3)},ae=()=>{e&&clearTimeout(e),W(!1)},ue=(0,o.useCallback)(he=>{a({type:c.entryKey["sharing:init"],payload:{tabIndex:he}})},[a]);return(0,i.jsx)(D,{className:w()(B&&"tool-upgrade"),children:X?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(gt,{tabIndex:C,tabs:[I18N.imockSharing.default_share,I18N.imockSharing.advanced_sharing],handleChangeTabIndex:ue}),B&&(0,i.jsxs)("div",{className:"upgrade-team-business",onClick:ie,onMouseEnter:ce,onMouseLeave:ae,children:[(0,i.jsx)("span",{className:"team-business",children:I18N.imockSharing.team_collaboration}),M&&(0,i.jsxs)("div",{className:"content",onClick:he=>he.stopPropagation(),children:[(0,i.jsx)("div",{className:"top-bar"}),(0,i.jsx)("span",{children:I18N.imockSharing.upgrade_to_team_business_plan}),(0,i.jsx)("a",{className:"learn-text",href:I18N.link.link_upgrade_enterprise,target:"_blank",rel:"noopener noreferrer",children:I18N.imockSharing.learn_more})]})]}),le&&(0,i.jsx)(ut,{})]}):(0,i.jsx)("div",{className:"sharing-title",children:se==="read_only"?I18N.pPreviewToolbar.share:I18N.pPreviewToolbar.share_preview})})},Bt=(0,o.memo)($t),Jt=S.Ay.div.withConfig({displayName:"styles__StyledSharingAdvancedPage",componentId:"sc-2ovkcx-0"})(["width:100%;height:calc(100% - ","px);padding:16px 20px 5px;overflow-y:auto;.create-item{display:flex;align-items:center;padding:6px 12px;height:32px;color:",";text-align:center;font-size:14px;font-family:PingFang SC;width:fit-content;border-radius:6px;cursor:pointer;svg{width:12px;margin-right:4px;svg path{fill:",";}}&:not(.no-edit):hover{background:",";}&:not(.no-edit):active{background:",";}&.no-edit{opacity:0.3;pointer-events:none;}}"],K.gE,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_btn_secondary_active),nn=S.Ay.div.withConfig({displayName:"styles__StyledSharingEmpty",componentId:"sc-2ovkcx-1"})(["width:100%;height:calc(100% - ","px);display:flex;justify-content:center;flex-direction:column;align-items:center;svg{width:254px;}.create-sharing{width:134px;margin-top:40px;}"],K.gE);var It=n(15668),sn=n(44057);const en=S.Ay.div.withConfig({displayName:"styles__StyledSharingNormalItem",componentId:"sc-15116kg-0"})(["margin-top:12px;padding:0px 13px;height:134px;display:flex;flex-direction:column;justify-content:center;background:",";border-radius:8px;.share-icon{width:24px;height:24px;border-radius:4px;margin-left:6px;cursor:pointer;&.tempDisabled{pointer-events:none;}svg{width:100%;height:100%;}}"],e=>e.theme.color_bg_canvas),Ft=S.Ay.div.withConfig({displayName:"styles__StyledCenterItem",componentId:"sc-15116kg-1"})(["display:flex;min-height:36px;width:100%;margin-top:12px;margin-bottom:16px;&.default-link{margin-bottom:0px;}&.advance-item{margin-bottom:12px;}&.userNoEdit{.left.normal-hover{cursor:not-allowed;.view-access-select{svg,path{fill:",";}}}}&.notView{cursor:not-allowed;.url-copy-button{background:",";border:"," solid 1px;color:",";pointer-events:none;}}.left{flex-grow:1;background-color:",";display:flex;align-items:center;border:"," solid 1px;border-right:none;border-radius:6px 0 0 6px;&.can-not-edit{pointer-events:none;}&.normal-hover{cursor:pointer;&:hover{background-color:",";}}.chore{margin-right:21px;color:",";}.view-access-select{margin-left:10px;display:flex;align-items:center;.access-name{color:",";}&.is-expired{","}.svg-icon{color:",";transition:all 0.2s;transform :",";}}.single-preview{width:100%;padding:0 6px;color:",";}}.url-copy-button{flex-grow:0;width:97px;}"],e=>e.theme.color_share_access__button_disable,e=>e.theme.color_share_copy__button_disable_bg,e=>e.theme.color_bg_border_02,e=>e.theme.color_share_copy__button_disable,e=>e.isViewActiveDropdown?e.theme.color_btn_secondary_hover:e.theme.color_bg_white,e=>e.theme.color_bg_border_02,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.isViewActiveDropdown?"rotate(-180deg)":"",e=>e.theme.color_text_L1),on=(0,S.Ay)(sn.Ay).withConfig({displayName:"styles__StyledMenuContent",componentId:"sc-15116kg-2"})(["ul{width:270px;li > a{padding-left:10px;svg{position:absolute;right:8px;}}}&.isV9Layout ul{width:270px;padding:8px;border-radius:8px;border:1px solid ",";color:",";background:",";box-shadow:",";li.MenuItem{a{border-radius:4px;background:",";color:",";svg path{fill:",";}.right-arrow svg > path{fill:",";}.shortfont kbd{color:",";}}&:not(.disabled).active{a{background:",";}}&.disabled{a{color:",";svg path{fill:",";}.shortfont kbd{color:",";}}}}}&.advance_menu ul{width:244px;}&.misc ul{width:80px;min-width:auto;}"],e=>e.theme.color_bg_border_01,e=>e.theme.color_text_L0,e=>e.theme.color_bg_white,e=>e.theme.shadow_m,e=>e.theme.color_bg_white,e=>e.theme.color_text_L0,e=>e.theme.color_text_L0,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01),_n=S.Ay.button.withConfig({displayName:"styles__StyledCopyButton",componentId:"sc-15116kg-3"})(["display:flex;position:relative;width:82px;font-size:12px;font-weight:500;border-top-right-radius:6px;border-bottom-right-radius:6px;background-color:",";&:hover{background-color:",";}&:active{background-color:",";}color:",";&.is-disabled{cursor:not-allowed;pointer-events:none;color:",";background-color:",";}.state{position:absolute;left:0;top:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;transition:all 0.15s ease-out;}.state-1{opacity:0;.copy-check{color:#ffffff;width:24px;}}&.is-state-1 .state-0{opacity:0;transform:translateY(50%);}&.is-state-1 .state-1{opacity:1;transform:none;}"],e=>e.theme.color_btn_primary_normal,e=>e.theme.color_btn_primary_hover,e=>e.theme.color_btn_primary_clicked,e=>e.theme.color_text_btn,e=>e.theme.color_text_disabled02,e=>e.theme.color_btn_primary_disabled),Sn=S.Ay.div.withConfig({displayName:"styles__StyledSharingItemHead",componentId:"sc-g4yrew-0"})(["display:flex;align-items:center;justify-content:space-between;color:",";font-size:12px;font-family:PingFang SC;.head-left{display:flex;font-size:14px;font-weight:500;align-items:center;color:",";.public-access{margin-right:8px;}.link-form{width:176px;input{width:176px;}}.link-name{width:176px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:text;&.link-name-not-edit{pointer-events:none;}&:not(.link-name-not-edit):hover{border-bottom:1px solid ",";}position:relative;height:24px;line-height:24px;}input{height:24px;line-height:24px;color:",";width:240px;border-bottom:1px solid ",";}.edit-name{width:20px;height:20px;margin-left:5px;}}.head-right{display:flex;justify-content:center;align-items:center;border-radius:4px;padding-left:4px;&:hover{background-color:",";}}.foot-right{display:flex;align-items:center;}.view-mode-icon{width:16px;height:16px;margin-right:6px;[stroke]{stroke:currentColor;fill:none;}}.share-icon{margin-left:5px;}&.canNotEdit{label{pointer-events:none;opacity:0.3;cursor:not-allowed;}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_proto,e=>e.theme.color_text_L1,e=>e.theme.color_proto,e=>e.theme.color_btn_secondary_active);function Cn(e){const{fBlur:a,name:l}=e,[d,v]=(0,o.useState)(!1),[_,y]=(0,o.useState)(l),C=(0,o.useRef)(null);(0,o.useEffect)(()=>{if(d){var L;(L=C.current)==null||L.focus()}},[d]);const M=()=>{a(),v(!1)};return{inputRef:C,isRenaming:d,setIsRenaming:v,inputName:_,setInputName:y,handleFocus:()=>{var L;(L=C.current)==null||L.select()},handleBlur:M,handleKeyDown:L=>{L.key==="Enter"&&M()},handleInput:L=>{let se=L.target.value;se.length>200&&(se=se.substring(0,200)),y(se)}}}const xt={embed:"embed",QRcode:"QRcode",setting:"setting",mkt:"mkt_icon",showPage:"showPage"},$n=S.Ay.div.withConfig({displayName:"styles__StyledIconBox",componentId:"sc-1gzmiv1-0"})(["display:flex;justify-content:center;align-items:center;width:20px;height:20px;color:",";cursor:pointer;border-radius:4px;position:relative;transition:background-color 0.2s ease-in-out;.Tooltip{display:flex;}&.tempDisabled{opacity:0.3;}&.isBorder{border-radius:50%;border:1px solid ",";}&.disabled{cursor:not-allowed;color:",";}&:not(.disabled):hover{background:",";}&:not(.disabled):active{background:",";}"],e=>e.theme.color_text_L2,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_disabled01,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active);function Lt(e){const{className:a,size:l=20,name:d,onClick:v,onMouseEnter:_,onMouseLeave:y,children:C,tempDisabled:M,direction:W,toolTipName:$,type:X,isColorPure:L,isBorder:se}=e,le=B=>{M||v(B,X)};return(0,i.jsx)($n,{className:w()(a,M&&"tempDisabled",se&&"isBorder"),onClick:le,onMouseEnter:_,onMouseLeave:y,children:(0,i.jsxs)(Qe.A,{content:$,direction:W||"up",distance:5,enterHoverTime:500,children:[(0,i.jsx)(V.C,{size:l,name:d,isColorPure:L}),C]})})}const Nn=e=>{let{sharingData:a,handleItemAction:l}=e;const{link_name:d}=a,v=(0,p.wA)(),_=a.device_model,[y,C]=(0,o.useState)(d),M=(0,p.d4)(c.query.getCanEditByUser),W=(0,p.d4)(c.query.getIsEditMode),$=(0,p.d4)(c.query.getHostType),X=(0,p.d4)(c.query.getScreenMetaList),L=(0,p.d4)(c.query.getAdvancedSharingList),se=$==="iframe"||W,le=se&&M,B=se&&M,ie=()=>{const Be=xe.current.value;if(Be==="")Pe(y),v({type:c.entryKey["sharing:init"],payload:{sharingToast:I18N.Common.name_cannot_be_empty}});else if((0,T.it)({value:Be,currentSharing:a,sharingList:L}))Pe(y),v({type:c.entryKey["sharing:init"],payload:{sharingToast:I18N.imockSharing.sharing_name_repeate_wran}});else{C(Be);const Ge={link_name:Be};v({type:c.entryKey["sharing:remote:sharing:update"],payload:{sharingData:a,updatedKV:Ge}})}},ce=(0,o.useMemo)(()=>a.type==="advanced"?(0,T.Sy)(X,a):null,[a,X]),{isRenaming:ae,setIsRenaming:ue,handleKeyDown:he,handleBlur:G,handleFocus:fe,inputRef:xe,handleInput:ve,setInputName:Pe,inputName:Ee}=Cn({name:y||"",fBlur:ie}),Ie=(0,o.useCallback)(()=>{ue(!0)},[ue]),Ve=(0,o.useMemo)(()=>[{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:xt.embed,tempDisabled:!1},ENV.IS_ON_PREMISES?null:{name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:xt.QRcode,tempDisabled:!1},{name:"sharing/more",toolTipName:I18N.LeftSidePanel.menu,className:xt.setting,tempDisabled:!B}].filter(Boolean),[B]);return(0,i.jsxs)(Sn,{className:w()(!le&&"canNotEdit"),children:[(0,i.jsxs)("div",{className:"head-left",children:[(0,i.jsx)(V.C,{className:"view-mode-icon",name:_==="device"?"sharing/mode_device":"sharing/mode_canvas"}),ae?(0,i.jsx)("form",{className:"link-form",children:(0,i.jsx)("input",{value:Ee,onFocus:fe,onChange:ve,ref:xe,onBlur:G,onKeyPress:he})}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:w()("link-name",!B&&"link-name-not-edit"),onClick:Ie,children:y})})]}),(0,i.jsx)(Qe.A,{content:I18N.imockSharing.tab_screen,direction:"up",distance:5,enterHoverTime:500,children:(0,i.jsxs)("div",{className:"head-right",children:[(0,i.jsx)("div",{children:ce}),(0,i.jsx)(Lt,{className:"share-icon",name:"sharing/page_visible",tempDisabled:!B,size:20,onClick:Be=>l(Be,xt.showPage)})]})}),(0,i.jsx)("div",{className:"foot-right",children:Ve.map((Be,Ge)=>Be&&(0,i.jsx)(Lt,{className:w()("share-icon",Be.className),name:Be.name,type:Be.className,toolTipName:Be.toolTipName,onClick:l,tempDisabled:Be.tempDisabled,isColorPure:Be.isColorPure,size:20},Ge))})]})},hn=(0,o.memo)(Nn),Ln=S.Ay.div.withConfig({displayName:"styles__StyledSharingItemFoot",componentId:"sc-11jw1u-0"})(["display:flex;align-items:center;justify-content:space-between;color:",";font-size:12px;font-family:PingFang SC;.visit_count{color:",";}.expiration-time{display:flex;align-items:center;color:",";.expire-text{margin:0 4px;cursor:pointer;.expired-desc{color:",";}.expired-no{color:",";}}.expire-icon{width:24px;height:24px;}&.is-expired{color:",";}svg{color:",";cursor:pointer;}.self-transform{svg{transition:all 0.4s;transform:rotate(360deg);}}}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1);var Qt=n(76713),Ut=n.n(Qt);function us(e,a,l){const d=(0,o.useMemo)(()=>{const y=Ut()(),C=Ut()(e.expired_at).subtract(2,"s");return C.isBefore(y)?0:C.diff(y,"days")+1},[e]),v=d<=0;let _;return a?_="\u5206\u4EAB\u8D85\u9650\uFF0C\u5347\u7EA7\u89E3\u9501":d>0&&d<=9999?_=d+" \u5929\u540E\u5931\u6548":d>9999?_=l===1?"\u6C38\u4E45\uFF08\u9650\u65F6\u514D\u8D39\uFF09":"\u6C38\u4E45\u6709\u6548":_="\u91CD\u65B0\u751F\u6548",{isExpired:v,remainTimeText:_}}const zs=e=>{let{sharingData:a,handleUpdateSharing:l}=e;const[d,v]=(0,o.useState)(!1),_=(0,p.wA)(),[y,C]=(0,o.useState)(null),M=a.device_model,W=a.expire_type==="forever",[$,X]=(0,o.useState)(1),L=()=>{W||B()},{remainTimeText:se,isExpired:le}=us(a,!1,999),B=()=>{l({expire_type:a.expire_type}),v(!0),setTimeout(()=>{v(!1)},500),_({type:c.entryKey["sharing:function:track"],payload:{operation:"\u91CD\u7F6E\u6709\u6548\u671F",viewMode:M,isDefault:!1}})};return(0,o.useEffect)(()=>{(async()=>{const ce=a.access_token;if(ce)try{const ae=await(0,J.dJ)(ce);C(ae.count)}catch(ae){console.error("Error fetching visit count:",ae)}})()},[a.access_token]),(0,o.useEffect)(()=>{X(se)},[a,se]),(0,i.jsxs)(Ln,{children:[(0,i.jsxs)("div",{className:"visit_count",children:[I18N.imockSharing.visit_count," ",y]}),(0,i.jsxs)("div",{className:w()("expiration-time",{"is-expired":!0}),children:[(0,i.jsx)("div",{className:"expire-text",children:(0,i.jsx)("span",{className:le?"expired-desc":"expired-no",children:$})}),!W&&(0,i.jsx)(Qe.A,{content:I18N.imockSharing.resetLink,direction:"up",children:(0,i.jsx)("div",{children:(0,i.jsx)(Lt,{onClick:L,className:w()("expire-icon",{"self-transform":d}),size:12,name:"sharing/refresh_24"})})})]})]})},Us=(0,o.memo)(zs);var rn=n(36521),Mn=n(36820);const Gn=e=>{const{project:a,sharing:l,user:d}=e,[v,_]=(0,o.useState)(!1),[y,C]=(0,o.useState)(void 0);return{isURLCopied:v,handleCopyURL:()=>{(0,T.kv)({project:a,action:l.password!==""?"\u590D\u5236\u94FE\u63A5\u548C\u5BC6\u7801":"\u590D\u5236\u94FE\u63A5",linkName:l.link_name}),_(!0),clearTimeout(y);const W=setTimeout(()=>_(!1),3e3);C(W);const $=Ut()().format("YYYY-MM-DD HH:mm:ss"),X=(0,T.EL)(d)&&!(0,rn.kV)(K.nM);(0,rn.cH)(K.nM,$),X&&(0,Mn.Sx)({prototype_activation_time:$})}}};var jn=n(93869);function In(e){const{password:a}=e;return{isHavePassword:(0,o.useMemo)(()=>a!==null&&a!=="",[a])}}var an=n(53955);const Ws=e=>{var a;let{sharingData:l,setShowDelConfirmModal:d,fromDefault:v}=e;const _=(0,p.wA)(),y=(0,o.useRef)(null),C=l.view_access,M=l.device_model,W=(0,p.d4)(c.query.getProject),$=(0,p.d4)(c.query.getCanEditByUser),X=(0,p.d4)(c.query.getIsEditMode),L=(0,p.d4)(c.query.getHostType),se=(0,p.d4)(c.query.getUser),le=(W==null?void 0:W.is_org_project)||!1,ie=(L==="iframe"||X)&&$,[ce,ae]=(0,o.useState)({top:0,left:0}),[ue,he]=(0,o.useState)(!1),{isURLCopied:G,handleCopyURL:fe}=Gn({project:W,sharing:l,user:se}),{isHavePassword:xe}=In(l),ve=(0,o.useCallback)(()=>{const Ae=(0,T.O8)(W,l);(0,jn.$)(Ae),fe(),_({type:c.entryKey["sharing:function:track"],payload:{operation:"\u9AD8\u7EA7\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:M,isDefault:!1}})},[_,l,fe,W,M]),Pe=(0,o.useCallback)(Ae=>{const st={view_access:Ae};_({type:c.entryKey["sharing:remote:sharing:update"],payload:{sharingData:l,updatedKV:st}}),_({type:c.entryKey["sharing:function:track"],payload:{operation:Ae==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:M,isDefault:!1}})},[l,_,M]),Ee=(0,o.useCallback)(()=>{d({isOpened:!0,item:l})},[d,l]),Ie=(0,o.useCallback)(()=>{_({type:c.entryKey["sharing:go-settingPage"],payload:{currentSharing:l,settingPageType:"edit"}}),_({type:c.entryKey["sharing:function:track"],payload:{operation:"\u8BBE\u7F6E",viewMode:M,isDefault:!1}})},[_,l,M]),Ve=(0,o.useCallback)(Ae=>{_({type:c.entryKey["sharing:remote:sharing:update"],payload:{sharingData:l,updatedKV:Ae}})},[_,l]),[Be,Ge]=(0,o.useState)(void 0),ot=(0,o.useMemo)(()=>{if(Be==="viewAccess"){const Ae=(0,i.jsx)(V.C,{name:"toolbar/selected",className:"selected-icon"});if(le){const st=C==="public";return[{label:I18N.imockSharing.share_anyone_view,onclick:()=>Pe("public"),icon:st?Ae:(0,i.jsx)("div",{style:{width:0}})},{label:I18N.imockSharing.org_members_only,onclick:()=>Pe("restricted"),icon:st?(0,i.jsx)("div",{style:{width:0}}):Ae}]}else return[]}else return[{label:I18N.imockSharing.setting,onclick:Ie},{label:I18N.imockSharing.delete,onclick:Ee}]},[Be,Pe,Ee,Ie,C,le]),it=(0,o.useCallback)(Ae=>{if(!le||!ie)return;Ge("viewAccess");const st=Ae.currentTarget.getBoundingClientRect();ae({top:st.y+st.height+3,left:st.x-1}),he(!ue)},[le,ie,ue,Ge,ae]),pt=(0,o.useCallback)((Ae,st)=>{if(Ae!=null&&Ae.currentTarget)switch(st){case xt.QRcode:Ae.stopPropagation(),_({type:c.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:l}}),_({type:c.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:M,isDefault:!1}});break;case xt.embed:_({type:c.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:l}}),_({type:c.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:M,isDefault:!1}});break;case xt.mkt:(0,at.JW)("/community/upload?project_cid="+(W==null?void 0:W.cid),"_blank","noreferrer");break;case xt.setting:{Ge("misc");const Ot=Ae.currentTarget.getBoundingClientRect(),_t=document.getElementById("v8-share-page").getBoundingClientRect().bottom-Ot.bottom<120?Ot.y-75:Ot.bottom+5;ae({top:_t,left:L==="iframe"?Ot.x+20:Ot.x-60}),he(!ue)}break;case xt.showPage:_({type:c.entryKey["sharing:go-settingPage"],payload:{currentSharing:l,settingPageType:"edit",subSettingPageType:"visible"}});break;default:break}},[ue,Ge,ae,he,_,W,l,M,L]),ht=(0,o.useCallback)(()=>{var Ae;ae({...ce,left:((Ae=y.current)==null?void 0:Ae.getBoundingClientRect().x)-1})},[ce]);(0,o.useEffect)(()=>(window.addEventListener("resize",ht),()=>window.removeEventListener("resize",ht)));const Mt=(0,an.jB)(),{isExpired:We}=us(l,!1,999);return(0,i.jsxs)(en,{className:w()(v&&"from-default"),children:[(0,i.jsx)(hn,{sharingData:l,handleItemAction:pt}),(0,i.jsxs)(Ft,{className:w()("item-center",!ie&&"userNoEdit","advance-item"),isViewActiveDropdown:ue&&Be==="viewAccess",children:[(0,i.jsx)("div",{ref:y,className:w()("left","sharingV2-click-visible",{"normal-hover":!0},!le&&"can-not-edit"),onClick:it,children:(0,i.jsxs)("div",{className:"view-access-select",children:[(0,i.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,i.jsx)("div",{className:"access-name",children:(a=I18N.imockSharing[K.nQ[C]])!=null?a:"missing data"}),le&&(0,i.jsx)(V.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,i.jsxs)(_n,{type:"button",className:w()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(G),{"is-disabled":We}),onClick:ve,children:[(0,i.jsx)("span",{className:"state state-0",children:We?I18N.dModule.link_expired_err_title:xe?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,i.jsx)("span",{className:"state state-1",children:(0,i.jsx)(V.C,{name:"new_replace/check",className:"copy-check"})})]})]}),(0,i.jsx)(Us,{sharingData:l,handleUpdateSharing:Ve,isExpired:We}),ue&&(0,i.jsx)(on,{className:w()("design-avoid",Be,"advance_menu",{isV9Layout:Mt}),position:ce,onClose:()=>{he(!1)},children:ot.map((Ae,st)=>(0,i.jsx)(sn.Dr,{text:Ae.label,onClick:Ae.onclick,icon:Ae.icon,disabled:Ae.disabled,canClick:Ae.tempDisabled},st))})]})},Jn=(0,o.memo)(Ws),Hs=S.Ay.div.withConfig({displayName:"styles__StyledDeletingConfirmModal",componentId:"sc-1kiue1c-0"})(["display:flex;position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;justify-content:center;align-items:center;background:rgba(0,0,0,0.4);.confirm-content{display:flex;height:fit-content;border-radius:10px;background:",";width:calc(100% - 54px);color:",";font-family:PingFang SC;font-style:normal;flex-direction:column;padding-bottom:18px;border:1px solid ",";box-shadow:0px 9px 28px 0px rgba(0,0,0,0.09),0px 6px 16px 0px rgba(0,0,0,0.02),0px 3px 6px 0px rgba(0,0,0,0.02);.top{width:100%;height:","px;display:flex;align-items:center;justify-content:center;justify-content:space-between;padding:0 24px;font-size:16px;font-weight:500;line-height:normal;border-bottom:1px solid ",";.close{width:24px;height:24px;svg{width:24px;height:24px;}}}.center{font-size:14px;line-height:22px;width:100%;padding:20px 24px;}.bottom{width:100%;padding-right:24px;display:flex;align-items:center;justify-content:flex-end;.delete{margin-left:12px;}}}"],e=>e.theme.color_bg_white,e=>e.theme.color_text_L1,e=>e.theme.color_share_del_confirm_border_color,K.gE,e=>e.theme.color_bg_border_02);function Qn(e){let{handleConfirmAction:a}=e;return(0,i.jsx)(Hs,{children:(0,i.jsxs)("div",{className:"confirm-content",children:[(0,i.jsxs)("div",{className:"top",children:[(0,i.jsx)("div",{children:I18N.imockSharing.delete_share}),(0,i.jsx)(Lt,{name:"sharing/close",onClick:()=>a(!1),className:"close"})]}),(0,i.jsx)("div",{className:"center",children:I18N.imockSharing.deletion_shared_links_warning}),(0,i.jsxs)("div",{className:"bottom",children:[(0,i.jsx)(It.tA,{onClick:()=>a(!1),children:I18N.imockSharing.cancel}),(0,i.jsx)(It.Qi,{className:"delete",onClick:()=>a(!0),children:I18N.imockSharing.delete})]})]})})}const Vs=o.memo(Qn),Ks=()=>{const e=(0,p.d4)(c.query.getUser),a=(0,p.d4)(c.query.getOrg),{cid:l,name:d,is_org_project:v}=(0,p.d4)(c.query.getProject),_=(0,p.d4)(c.query.getHostType),y=(0,p.d4)(c.query.getAdvancedSharingList),C=(0,p.d4)(c.query.getCanEditByUser),M=(0,p.d4)(c.query.getTheme),[W,$]=(0,o.useState)({isOpened:!1,item:null}),[X,L]=(0,o.useState)(!1),se=(0,p.wA)(),le=y.length===0,B=(0,o.useCallback)(async ce=>{ce&&se({type:c.entryKey["sharing:remote:sharing:delete"],payload:{sharingCid:W.item.cid}}),$({isOpened:!1,item:null})},[W.item,$,se]);(0,o.useEffect)(()=>{(async()=>{const ue=(await(0,J.X0)({projectCid:l})).map(he=>({...he,type:"advanced"})).sort((he,G)=>new Date(G.created_at).getTime()-new Date(he.created_at).getTime());se({type:c.entryKey["sharing:advancedSharingList:update"],payload:{sharingList:ue}}),L(!0)})()},[l,se]);const ie=async()=>{const ce=(0,T.jc)(e,a),ae=()=>{(0,Mn.kH)("create_advanced_sharing_click",{project_name:d,project_cid:l,source:_==="iframe"?"\u5DE5\u4F5C\u53F0":"\u7F16\u8F91\u533A"})};if(y.length>=ce){const he=(a==null?void 0:a.plan)==="org_full"?"MaxOrgSize":"NormalOrgSize";window.SharingEventEmitter.emit("sharing:count",{whichModal:he}),window.top.postMessage(JSON.stringify({sharingMessage:"sharing:count",payload:{whichModal:he}}),"*"),ae();return}const ue=(0,T.zM)(l,y,{view_access:v?"restricted":"public"});se({type:c.entryKey["sharing:go-settingPage"],payload:{currentSharing:ue,settingPageType:"create"}}),ae()};return X?le?(0,i.jsxs)(nn,{children:[(0,i.jsx)(V.C,{name:M==="dark"?"sharing/empty_dark":"sharing/empty",isColorPure:!0}),(0,i.jsx)(It.jn,{onClick:ie,className:"create-sharing",children:I18N.imockSharing.new_share})]}):(0,i.jsxs)(Jt,{children:[(0,i.jsxs)("div",{className:"create-item "+(C?"":"no-edit"),onClick:ie,children:[(0,i.jsx)(V.C,{name:"sharing/add_new"}),I18N.imockSharing.new_share]}),y.map((ce,ae)=>(0,i.jsx)(Jn,{setShowDelConfirmModal:$,sharingData:ce},ce.cid+"-"+ae)),W.isOpened&&(0,i.jsx)(Vs,{handleConfirmAction:B})]}):null},rt=(0,o.memo)(Ks),ps=S.Ay.div.withConfig({displayName:"styles__StyledSharingDefaultMainPage",componentId:"sc-1mfcda2-0"})(["width:100%;height:calc(100% - ","px);.default-top{height:calc(100% - ","px);display:flex;flex-direction:column;justify-content:center;padding:0 24px;.switch-content{height:24px;display:flex;align-items:center;color:",";font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:500;line-height:normal;justify-content:space-between;span{margin-right:10px;}.visit-count{font-weight:400;font-size:12px;color:",";}}}.default-bottom{height:","px;display:flex;align-items:center;justify-content:space-between;padding:0 24px;color:",";background:",";.bottom-left{display:flex;align-items:center;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:500;line-height:normal;}.share-icon{width:28px;height:28px;margin-left:14px;&:hover,&:active{background:",";}}svg{width:24px;height:24px;}.default-setting{display:flex;align-items:center;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:400;line-height:14px;padding:6px 12px 6px 6px;height:28px;border-radius:6px;cursor:pointer;svg{margin-right:2px;}&:not(.no-edit):hover,&:not(.no-edit):active{background:",";}&.no-edit{opacity:0.3;pointer-events:none;}}}&.canNotEdit{label{pointer-events:none;opacity:0.3;cursor:not-allowed;}}"],K.gE,K.gE,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,K.gE,e=>e.theme.color_text_L1,e=>e.theme.color_bg_canvas,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active);var Gt=n(86778);const Xn=e=>{var a;let{defaultShare:l}=e;const d=(0,p.wA)(),v=(0,o.useRef)(null),_=(0,p.d4)(c.query.getProject),y=l,[C,M]=(0,o.useState)(null);_&&(y.visibility=_.visibility);const W=(0,p.d4)(c.query.getHostType),$=(0,p.d4)(c.query.getIsEditMode),X=(0,p.d4)(c.query.getUser),L=W==="iframe"||$,se=(0,p.d4)(c.query.getCanEditByUser),le=(_==null?void 0:_.is_org_project)||!1,B=!le&&se,[ie,ce]=(0,o.useState)({top:0,left:0}),[ae,ue]=(0,o.useState)(!1),[he,G]=(0,o.useState)(y==null?void 0:y.visibility),fe=L&&se&&he==="open",xe=L&&se,{isURLCopied:ve,handleCopyURL:Pe}=Gn({project:_,sharing:y,user:X}),Ee=(0,o.useCallback)(We=>{const Ae={access:We};d({type:c.entryKey["sharing:remote:sharing:update"],payload:{sharingData:y,updatedKV:Ae}}),d({type:c.entryKey["sharing:function:track"],payload:{operation:We==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:y.view_mode,isDefault:!0}})},[y,d]),Ie=(0,o.useMemo)(()=>{const We=(0,i.jsx)(V.C,{name:"toolbar/selected",className:"selected-icon"});if(le){const Ae=(y==null?void 0:y.view_access)==="public";return[{label:I18N.imockSharing.share_anyone_view,onclick:()=>Ee("public"),icon:Ae?We:(0,i.jsx)("div",{style:{width:0}})},{label:I18N.imockSharing.org_members_only,onclick:()=>Ee("restricted"),icon:Ae?(0,i.jsx)("div",{style:{width:0}}):We}]}else return[]},[Ee,le,y]),Ve=(0,o.useMemo)(()=>{const We=[{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:xt.embed,tempDisabled:he==="close",isBorder:!0}];return ENV.IS_ON_PREMISES||We.unshift({name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:xt.QRcode,tempDisabled:he==="close",isBorder:!0}),B&&We.push({name:"sharing/mkt_icon",toolTipName:I18N.imockSharing.publish_to_community,className:xt.mkt,tempDisabled:he==="close",isColorPure:!0,isBorder:!0}),We},[he,B]),Be=(0,o.useCallback)(()=>{const We=he==="close"?"open":"close",Ae={visibility:We};G(We),d({type:c.entryKey["sharing:remote:sharing:update"],payload:{sharingData:y,updatedKV:Ae}}),d({type:c.entryKey["sharing:function:track"],payload:{operation:We==="open"?"\u6253\u5F00\u8BBF\u95EE":"\u5173\u95ED\u8BBF\u95EE",viewMode:y.view_mode,isDefault:!0}})},[he,d,y,G]),Ge=(0,o.useCallback)(We=>{if(!le||!fe)return;const Ae=We.currentTarget.getBoundingClientRect();let st=Ae.y+Ae.height+3;W==="iframe"&&(st=st+56),ce({top:st,left:Ae.x-1}),ue(!ae)},[le,fe,ae,ce,W]),ot=(0,o.useCallback)(()=>{const We=(0,T.O8)(_,y);(0,jn.$)(We),Pe(),d({type:c.entryKey["sharing:function:track"],payload:{operation:"\u9ED8\u8BA4\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:y.view_mode,isDefault:!0}})},[d,y,Pe,_]),it=(0,o.useCallback)(()=>{const We=y,{view_mode:Ae}=y;d({type:c.entryKey["sharing:go-settingPage"],payload:{currentSharing:We,settingPageType:"edit"}}),d({type:c.entryKey["sharing:function:track"],payload:{operation:"\u8BBE\u7F6E",viewMode:Ae,isDefault:!0}})},[y,d]),pt=(0,o.useCallback)((We,Ae)=>{if(!(We!=null&&We.currentTarget))return;const st=y,{view_mode:Ot}=y;switch(Ae){case xt.QRcode:We.stopPropagation(),d({type:c.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:st}}),d({type:c.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:Ot,isDefault:!1}});break;case xt.embed:d({type:c.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:st}}),d({type:c.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:Ot,isDefault:!1}});break;case xt.mkt:(0,at.JW)("/community/upload?project_cid="+(_==null?void 0:_.cid),"_blank","noreferrer");break;default:break}},[d,_,y]),ht=(0,o.useCallback)(()=>{var We;ce({...ie,left:((We=v.current)==null?void 0:We.getBoundingClientRect().x)-1})},[ie]);if((0,o.useEffect)(()=>(window.addEventListener("resize",ht),()=>window.removeEventListener("resize",ht))),(0,o.useEffect)(()=>{(async()=>{const Ae=y.access_token;if(Ae)try{const st=await(0,J.dJ)(Ae);M(st.count)}catch(st){console.error("Error fetching visit count:",st)}})()},[y.access_token]),!y)return null;const Mt=(0,an.jB)();return(0,i.jsxs)(ps,{className:w()(!xe&&"canNotEdit"),children:[(0,i.jsxs)("div",{className:"default-top",children:[L?(0,i.jsxs)("div",{className:"switch-content",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:I18N.imockSharing.public_access}),(0,i.jsx)(Gt.A,{size:"small",readOnly:!0,isIOS:!0,isChecked:he==="open",onChange:Be})]}),(0,i.jsx)("div",{className:"visit-count",children:C!==0&&(0,i.jsxs)(i.Fragment,{children:[I18N.imockSharing.visit_count," ",C]})})]}):(0,i.jsxs)("div",{className:"switch-content",children:[I18N.imockSharing.default_share,C!==0&&(0,i.jsxs)("div",{className:"visit-count",children:[I18N.imockSharing.visit_count," ",C]})]}),(0,i.jsxs)(Ft,{className:w()("item-center","default-link",he==="close"&&"notView",!fe&&"userNoEdit"),isViewActiveDropdown:ae,children:[(0,i.jsx)("div",{ref:v,className:w()("left","sharingV2-click-visible",{"normal-hover":!0},!le&&"can-not-edit"),onClick:Ge,children:(0,i.jsxs)("div",{className:"view-access-select",children:[(0,i.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,i.jsx)("div",{className:"access-name",children:(a=I18N.imockSharing[K.nQ[y.view_access]])!=null?a:"missing data"}),le&&(0,i.jsx)(V.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,i.jsxs)(_n,{type:"button",className:w()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(ve)),onClick:ot,children:[(0,i.jsx)("span",{className:"state state-0",children:y.password&&y.password.length>0?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,i.jsx)("span",{className:"state state-1",children:(0,i.jsx)(V.C,{name:"new_replace/check",className:"copy-check"})})]})]})]}),(0,i.jsxs)("div",{className:"default-bottom",children:[(0,i.jsxs)("div",{className:"bottom-left",children:[(0,i.jsx)("div",{children:I18N.imockSharing.share_mode}),Ve.map((We,Ae)=>(0,i.jsx)(Lt,{className:w()("share-icon",We.className),name:We.name,type:We.className,toolTipName:We.toolTipName,onClick:pt,tempDisabled:We.tempDisabled,isColorPure:We.isColorPure,isBorder:We.isBorder,size:24},Ae))]}),L&&(0,i.jsxs)("div",{className:w()("default-setting",!fe&&"no-edit"),onClick:it,children:[(0,i.jsx)(V.C,{name:"sharing/default_setting"}),I18N.imockSharing.setting]})]}),ae&&(0,i.jsx)(on,{className:w()("design-avoid","viewAccess",{isV9Layout:Mt}),position:ie,onClose:()=>{ue(!1)},children:Ie.map((We,Ae)=>(0,i.jsx)(sn.Dr,{text:We.label,onClick:We.onclick,icon:We.icon,disabled:We.disabled,canClick:We.tempDisabled},Ae))})]})},Zs=(0,o.memo)(Xn),Wt=S.Ay.div.withConfig({displayName:"styles__StyledSharingMainPage",componentId:"sc-1sz39j-0"})(["width:100%;position:relative;height:100%;"]),Ys=S.Ay.div.withConfig({displayName:"styles__StyledSharingEmbedded",componentId:"sc-13xenhf-0"})(["width:100%;padding:20px 32px 0 32px;.desc{line-height:17px;font-size:12px;font-family:PingFang SC;color:",";margin-bottom:20px;}.copy-wrapper{display:flex;justify-content:space-between;height:112px;.demo-img{width:192px;height:100%;object-fit:cover;flex-shrink:0;}.copy-box{display:flex;flex-direction:column;width:148px;height:100%;border:1px solid ",";border-radius:2px;overflow:hidden;.sharing-embedded-url{flex-grow:1;height:0;padding:6px 8px;white-space:normal;word-wrap:break-word;color:",";font-size:12px;font-weight:500;}.copy-button{width:100%;height:28px;font-size:12px;background:",";border-top:1px solid ",";color:",";&:hover{background:",";}}}}.open-setting{justify-content:flex-start;.opener-wrapper{display:flex;align-items:center;span{color:#1684fc;margin-right:3px;cursor:pointer;}.svg-icon{width:6px;height:4px;cursor:pointer;transition:transform 0.2s ease-in-out;color:",";}&.is-open{.svg-icon{transform:rotate(-180deg);}}}}.open-setting.line-item.embedded-padding{padding:0;margin-top:14px;}.hidden{height:0;overflow:hidden;transition:height 0.2s;}.hidden.is-open{height:156px;}"],e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L2,e=>e.theme.color_bg_card,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L3);var hs=n(95230);const mn=S.Ay.div.withConfig({displayName:"styles__StyledSharingTitleBar",componentId:"sc-8g3rhq-0"})(["width:100%;height:","px;display:flex;align-items:center;border-bottom:1px solid ",";color:",";font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:500;line-height:24px;.title{cursor:pointer;display:flex;align-items:center;svg{width:32px;height:32px;margin-left:10px;}}"],K.gE,e=>e.theme.color_border_state,e=>e.theme.color_text_L1),cn=e=>{let{title:a,handleClick:l}=e;return(0,i.jsx)(mn,{children:(0,i.jsxs)("div",{className:"title",onClick:l,children:[(0,i.jsx)(V.C,{name:"sharing/nav_back"}),a]})})},En=()=>{let e="read_only";const a=(0,p.wA)(),l=(0,p.d4)(c.query.getCurrentSelectSharing),d=(0,p.d4)(c.query.getProject),v=(0,p.d4)(c.query.getTheme),{screen_visible_list:_,access_token:y}=l||{};if(l.type==="default"){const{view_mode:se}=l;e=se}else{const{device_model:se}=l;e=se}let C="";const M=(0,T.a2)(y);_&&_.length!==0?C='<iframe src="'+M+"/embed/v2/sharing?view_mode="+e+"&selection="+_[0]+'" allowTransparency="true" frameborder="0"></iframe>':C='<iframe src="'+M+"/embed/v2/sharing?view_mode="+e+'" allowTransparency="true" frameborder="0"></iframe>';let W=null;const $=(0,o.useCallback)(se=>{const le=se.currentTarget;le.innerHTML=I18N.imockSharing.successfully_copied,clearTimeout(W),W=setTimeout(()=>{le.innerHTML=I18N.imockSharing.successfully_copied},3e3),(0,T.kv)({action:"\u590D\u5236\u4EE3\u7801",project:d||{},linkName:l.link_name});try{MB.notice({text:"\u590D\u5236\u6210\u529F"})}catch(B){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice",payload:{type:"embedCopy"}}),"*")}},[l,W,d]),X=(0,o.useCallback)(se=>{(0,jn.$)(C),$(se)},[$,C]),L=(0,o.useCallback)(()=>{a({type:c.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})},[a]);return(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)(cn,{title:I18N.imockSharing.insert,handleClick:L}),(0,i.jsxs)(Ys,{children:[(0,i.jsx)("p",{className:"desc",children:I18N.imockSharing.zoom_insertion_desc}),(0,i.jsxs)("div",{className:"copy-wrapper",children:[(0,i.jsx)("img",{src:v===hs.Sx.DARK?"/mb-workspace/images/sharing/share_embedded_dark.png":"/mb-workspace/images/sharing/share_embedded_light.png",className:"demo-img"}),(0,i.jsxs)("div",{className:"copy-box",children:[(0,i.jsx)("p",{className:"sharing-embedded-url",children:C}),(0,i.jsx)("button",{className:"copy-button copy","data-clipboard-text":C,onClick:X,children:I18N.imockSharing.copy_code})]})]})]})]})},qn=(0,o.memo)(En);var Pn=n(54909);const wt=S.Ay.div.withConfig({displayName:"styles__StyledNewSharePage",componentId:"sc-q78fwd-0"})(["width:100%;height:100%;background-color:",";.basic-content{width:100%;height:calc(100% - ","px);flex-direction:column;justify-content:center;display:flex;:first-child{margin-bottom:16px;}}.header{height:","px;display:flex;align-items:center;border-bottom:1px solid ",";span{margin-left:24px;font-size:14px;font-weight:500;color:",";}}.share-link-title{margin-top:20px;margin-bottom:10px;display:flex;flex-direction:column;justify-content:center;margin-left:24px;font-size:12px;.title-text{color:",";}.name-input{display:flex;align-items:center;height:30px;font-size:14px;font-weight:500;color:",";span{max-width:212px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;position:relative;height:24px;line-height:24px;&:hover:after{box-sizing:border-box;content:'';position:absolute;top:0;left:0;width:100%;height:100%;border-bottom:1px solid rgba(22,133,252,1);}}.input-icon{margin-left:8px;}input{width:100%;margin-right:32px;height:24px;line-height:24px;color:",";border-bottom:1px solid rgba(22,133,252,1);}}}.tabs{margin:0 24px 18px 24px;border-bottom:1px solid ",";.sharing-nav{width:90px;height:24px;min-height:24px;}.nav-item{flex:0;padding:0 24px 0 0;}.nav-label{height:24px;}.active .nav-label{color:",";font-weight:600;}.active.basic{.nav-label{&::after{content:'';position:absolute;bottom:-1px;width:30px;height:2px;background:",";}}}.active.visible{.nav-label{&::after{content:'';position:absolute;bottom:-1px;width:50px;height:2px;background:",";}}}}.line-item{display:flex;padding:0 24px;height:34px;align-items:center;justify-content:space-between;flex-grow:0;.item-title{color:",";}.item-expired{display:flex;.WorkspaceSelect{border-radius:6px;}.general-input{width:65px;height:28px;border-radius:6px;margin-right:12px;}}.RadioGroup label{min-height:unset;margin-right:unset;font-size:12px;&:not(:last-child){margin-right:16px;}}.switch-group{display:flex;.view-sticky{display:flex;align-items:center;margin-right:17px;label{margin-right:4px;}}.view-prd{display:flex;align-items:center;.question-action{display:flex;align-items:center;margin:0 8px;color:",";&:hover{color:",";}}}label.checked{color:",";}}}"],e=>e.theme.color_bg_white,K.gE,K.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_background_icon_hover2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1),Ht=S.Ay.div.withConfig({displayName:"styles__StyledBasic",componentId:"sc-q78fwd-1"})(["overflow-y:overlay;.divider{height:1px;background:",";margin:4px 24px;}&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&::-webkit-scrollbar-corner{background-color:transparent;}.expiration,.menu-list-type{cursor:pointer;display:flex;align-items:center;color:",";.misc{display:flex;align-items:center;}.drop-down-icon{margin-left:6px;}}.expiration{.drop-down-icon .svg-icon{transition:all 0.2s;transform :",";}}.menu-list-type{.drop-down-icon .svg-icon{transition:all 0.2s;transform :",";}}.password-input-item{display:flex;align-items:center;> :last-child{margin-left:10px;}}.mt{margin-top:4px;}.last{margin-bottom:-8px;}"],e=>e.theme.color_background_icon_hover2,e=>e.theme.color_text_L1,e=>e.isActiveContextMenu&&e.menuListType==="expiration"?"rotate(-180deg)":"rotate(0deg)",e=>e.isActiveContextMenu&&e.menuListType==="viewMode"?"rotate(-180deg)":"rotate(0deg)"),$s=S.Ay.div.withConfig({displayName:"styles__StyledVisible",componentId:"sc-q78fwd-2"})(["height:298px;.visible-check{height:32px;}"]),es=(0,S.DU)([".custom-title{display:flex;justify-content:space-between;align-items:baseline;.vip-title{color:",";background-color:",";font-weight:500;font-size:12px;width:44px;height:20px;text-align:center;border-radius:4px;line-height:20px;}}#IBOT_SELECT_MENU_ROOT .SelectMenuPortal .WorkspaceSelectMenu .SelectOption{height:28px;&:hover{.vip-title{background-color:",";}}}#IBOT_SELECT_MENU_ROOT .SelectMenuPortal .WorkspaceSelectMenu.is-open{right:-14px;}"],e=>e.isIframe?Pn.f.color_text_link_normal.value_dark:e.theme.color_text_link_normal,e=>e.isIframe?Pn.f.color_info_bg.value_dark:e.theme.color_info_bg,e=>e.isIframe?Pn.f.color_bg_white.value_dark:e.theme.color_bg_white);var kn=n(53159);const ms=S.Ay.div.withConfig({displayName:"styles__StyledPasswordTextInput",componentId:"sc-1w4pkti-0"})(["display:flex;background-color:",";height:28px;&.is-warning{.password-input{border:1px solid #ff6161;border-radius:4px 0 0 4px;&:focus{border:1px solid #ff6161;}}}.divider{height:100%;width:1px;background-color:",";}.password-input-wrapper{position:relative;display:flex;align-items:center;width:100px;.password-input{position:relative;width:100%;font-size:12px;padding-right:22px;padding-left:8px;overflow:hidden;white-space:nowrap;text-overflow:clip;color:",";border:1px solid ",";border-radius:6px;height:100%;&:focus{border:1px solid ",";outline:1px solid ",";outline-offset:-2px;}&:hover{border:1px solid ",";}}.reset-pwd{width:20px;height:20px;position:absolute;border-radius:4px;right:4px;color:",";cursor:pointer;&:hover{path{fill:",";}color:",";background-color:",";}&:active{path{fill:",";}color:",";background-color:",";}}}.password-button{width:72px;padding:8px 12px;color:",";font-size:12px;line-height:16px;white-space:nowrap;border:1px solid ",";border-radius:0 4px 4px 0;border-left:none;background-color:",";&.saved{background-color:",";color:#999;pointer-events:none;}}"],e=>e.theme.color_bg_white,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L1,e=>e.theme.color_bg_border_02,e=>e.theme.color_proto,e=>e.theme.color_proto,e=>e.theme.color_proto,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L1,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_canvas,e=>e.theme.color_bg_canvas);function gn(e){return Math.random().toString(36).slice(-e)}function gs(e){const{onSubmit:a,value:l}=e,[d,v]=(0,o.useState)(e.value),_=(0,o.useRef)(null),y=$=>{v($.target.value)},C=()=>{const $=gn(6);v($),a($)},M=()=>{if(!a(d)){v(l);try{MB.notice({text:"\u5BC6\u7801\u683C\u5F0F\u9519\u8BEF\uFF0C\u4E0D\u5F97\u4E3A\u7A7A\u6216\u7279\u6B8A\u5B57\u7B26",type:"warning"})}catch(X){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice"}),"*")}}},W=$=>{$.key==="Enter"&&(M(),_.current.blur())};return(0,i.jsx)(ms,{children:(0,i.jsxs)("div",{className:"password-input-wrapper",children:[(0,i.jsx)("input",{ref:_,type:"text",className:"password-input",value:d,onChange:y,onBlur:M,onKeyPress:W}),(0,i.jsx)(Qe.A,{content:I18N.imockSharing.gen_pwd_randomly,direction:"down",children:(0,i.jsx)(V.C,{className:"reset-pwd",name:"common/spinner",onClick:C})})]})})}function Gs(e){const{isOrgProject:a,sharingData:l,updateSharing:d}=e,v=l.view_mode,{isHavePassword:_}=In(l),y=(0,p.wA)(),{comment_permission:C,wechat:M,view_sticky:W}=l,$=(0,o.useMemo)(()=>(0,T.R0)(a),[a]),X=()=>{if(_)d({password:""}),y({type:c.entryKey["sharing:settingPage:default:confirm"]});else{const ae=gn(6);L(ae)}y({type:c.entryKey["sharing:function:track"],payload:{operation:_?"\u5173\u95ED\u5BC6\u7801\u4FDD\u62A4":"\u6253\u5F00\u5BC6\u7801\u4FDD\u62A4",viewMode:v}})},L=ae=>/^\s*$/.test(ae)||!/^\w+$/.test(ae)?!1:(d({password:ae}),y({type:c.entryKey["sharing:settingPage:default:confirm"]}),y({type:c.entryKey["sharing:function:track"],payload:{operation:"\u5237\u65B0\u5BC6\u7801",viewMode:v}}),!0),se=()=>{d({wechat:!M}),y({type:c.entryKey["sharing:settingPage:default:confirm"]}),y({type:c.entryKey["sharing:function:track"],payload:{operation:M?"\u5173\u95ED\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875":"\u6253\u5F00\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875",viewMode:v}})},le=(0,o.useMemo)(()=>C==="org_member",[C]),B=()=>{d({view_sticky:W==="view_sticky"?"no_sticky":"view_sticky"}),y({type:c.entryKey["sharing:settingPage:default:confirm"]}),y({type:c.entryKey["sharing:function:track"],payload:{operation:W?"\u5173\u95ED\u6279\u6CE8\u53EF\u89C1":"\u6253\u5F00\u6279\u6CE8\u53EF\u89C1",viewMode:v}})},ie=()=>{d({comment_permission:C==="org_member"?"off":"org_member"}),y({type:c.entryKey["sharing:settingPage:default:confirm"]}),y({type:c.entryKey["sharing:function:track"],payload:{operation:le?"\u5173\u95ED\u8BC4\u8BBA":"\u6253\u5F00\u8BC4\u8BBA",viewMode:v}})},ce=ae=>{let{value:ue}=ae;d({view_access:ue}),y({type:c.entryKey["sharing:settingPage:default:confirm"]}),y({type:c.entryKey["sharing:remote:sharing:update"],payload:{sharingData:l,updatedKV:{access:ue}}}),y({type:c.entryKey["sharing:function:track"],payload:{operation:ue==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:v,isDefault:!1}})};return(0,i.jsxs)(Ht,{children:[a&&(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_access}),(0,i.jsx)(kn.A,{name:"access",optionList:$,value:l.view_access,onChange:ce})]}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_password_protect}),(0,i.jsxs)("div",{className:"password-input-item",children:[_&&(0,i.jsx)(gs,{value:l.password,onSubmit:L}),(0,i.jsx)(Gt.A,{size:"small",isIOS:!0,isChecked:_,onChange:X})]})]}),(0,i.jsx)("div",{className:"divider"}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.note_display}),(0,i.jsx)(Gt.A,{size:"small",isIOS:!0,isChecked:W==="view_sticky",onChange:B})]}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.comment_allowed}),(0,i.jsx)(Gt.A,{size:"small",isIOS:!0,isChecked:le,onChange:ie})]}),(0,i.jsx)("div",{className:"divider"}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_skip_install_run_inwechat}),(0,i.jsx)(Gt.A,{size:"small",isIOS:!0,isChecked:M,onChange:se})]})]})}const Js=()=>[{key:"read_only",label:I18N.imockSharing.read_only_mode,icon:"sharing/mode_canvas"},{key:"device",label:I18N.imockSharing.device_mode,icon:"sharing/mode_device"}],ln=e=>{let{sharingData:a,updateSharing:l}=e;const d=W=>()=>{l({device_model:W})},[v,_]=(0,o.useState)(!1),y=(0,p.d4)(c.query.getTheme),C=()=>{_(!0)},M=()=>{_(!1)};return(0,i.jsx)(Dt,{className:w()({dark:y==="dark"}),children:(0,i.jsxs)("div",{className:"device-model",children:[(0,i.jsxs)("div",{className:"device-model-header",children:[(0,i.jsx)("div",{className:"device-model-title",children:I18N.imockSharing.default_mode}),(0,i.jsxs)("div",{className:"modal-container",children:[(0,i.jsx)(V.C,{onMouseEnter:C,onMouseLeave:M,className:"tipsIcon",name:"sharing/question",size:14}),v&&(0,i.jsxs)("div",{className:w()("device-model-modal",{light:y==="light",dark:y==="dark"}),children:[(0,i.jsx)("div",{className:"icon-triangle"}),(0,i.jsxs)("div",{className:w()("modal-content"),children:[(0,i.jsxs)("div",{className:"read_only",children:[(0,i.jsx)("img",{src:"/mb-proto2/images/sharing/intro_read_only_"+y+".png"}),(0,i.jsx)("div",{className:"intro-title",children:I18N.imockSharing.read_only_mode}),(0,i.jsx)("div",{className:"intro-content",children:I18N.imockSharing.read_only_mode_intro})]}),(0,i.jsxs)("div",{className:"device",children:[(0,i.jsx)("img",{src:"/mb-proto2/images/sharing/intro_device_"+y+".png"}),(0,i.jsx)("div",{className:"intro-title",children:I18N.imockSharing.device_mode}),(0,i.jsx)("div",{className:"intro-content",children:I18N.imockSharing.device_mode_intro})]})]})]})]})]}),(0,i.jsx)("div",{className:"device-model-type-container",children:Js().map((W,$)=>{let{key:X,label:L,icon:se}=W;const le="device-model-"+X+"   ";return(0,i.jsxs)("div",{className:w()(le,{"is-active":X===a.device_model,dark:y==="dark"}),onClick:d(X),children:[(0,i.jsx)(V.C,{name:se,size:16}),(0,i.jsx)("span",{children:L})]},$)})})]})})},Dt=S.Ay.div.withConfig({displayName:"ViewModeModel__StyledDevcieModel",componentId:"sc-1tq5cfg-0"})(["position:relative;margin-bottom:20px;.device-model{padding:0 24px;.device-model-header{display:flex;align-items:center;margin-bottom:10px;color:",";.device-model-title{margin-right:4px;}}.modal-container{display:flex;.tipsIcon{color:",";&:hover{color:",";}}.device-model-modal{z-index:100;position:absolute;left:20px;top:24px;border-radius:8px;&.dark{.modal-content{outline:1px solid ",";}}&.light{box-shadow:0px 2px 10px 0px #27364E14;box-shadow:4px 12px 40px 0px #27364E1A;}.icon-triangle{z-index:1;position:absolute;width:10px;height:10px;top:-4px;left:58px;background:",";transform:rotate(45deg);border-top-left-radius:1px;}&.dark .icon-triangle{width:9px;height:9px;top:-5px;left:59px;border-top:1px solid ",";border-left:1px solid ",";}.modal-content{display:flex;justify-content:space-evenly;padding:24px 0px;width:374px;height:230px;border-radius:8px;background:",";&:lang(en){height:250px;}img{width:160px;height:96px;}.device,.read_only{width:160px;height:180px;.intro-title{width:56px;height:22px;color:",";font-size:14px;font-weight:600;margin:6px 0;&:lang(en){width:max-content;}}.intro-content{color:",";}}}}}.device-model-type-container{display:flex;justify-content:space-between;.svg-icon > *{fill:currentColor;}.device-model-read_only,.device-model-device{width:177px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;border:1px solid rgba(219,219,219,1);&.dark{border:1px solid #4f5052;}border-radius:6px;color:",";span{margin-left:4px;font-size:14px;}&:hover{border:1px solid  ",";}.svg-icon{[stroke]{stroke:currentColor;fill:none;}}&.is-active{border:1px solid  ",";color:",";.svg-icon{color:",";}}}}}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_white,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_white,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal);function fs(){const e=(0,p.d4)(c.query.getCurrentSharing),a=(0,p.d4)(c.query.getProject),l=(0,p.wA)(),d=(0,o.useCallback)(y=>{l({type:c.entryKey["sharing:currentSharing:update"],payload:{updatedKV:y}})},[l]),v=y=>{l({type:c.entryKey["sharing:currentSharing:update"],payload:{updatedKV:y}}),(0,rn.a0)(a.cid+"_default_sharing_view_mode",y.device_model,rn.qW.String),l({type:c.entryKey["sharing:settingPage:default:confirm"]})},_=()=>{l({type:c.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})};return(0,i.jsxs)(wt,{children:[(0,i.jsx)(cn,{title:I18N.imockSharing.sharing_setting_title,handleClick:_}),(0,i.jsxs)("div",{className:"basic-content",children:[(0,i.jsx)(ln,{sharingData:e,updateSharing:v}),(0,i.jsx)(Gs,{isOrgProject:a.is_org_project,sharingData:e,updateSharing:d})]})]})}var St=n(54608);const mt=()=>(0,i.jsx)(Pt,{}),Pt=S.Ay.div.withConfig({displayName:"Divider__StyledDivider",componentId:"sc-178sehp-0"})(["height:1px;background:",";margin:8px 24px;"],e=>e.theme.color_background_icon_hover2);var fn=n(7775),Dn=n(60081),ys=n(97566),yn=n(24660);function xs(e){const{isOrgProject:a,sharingData:l,updateSharing:d,settingPageType:v}=e,_=l.device_model,y=(0,o.useMemo)(()=>(0,T.R0)(a),[a]),{isHavePassword:C}=In(l),M=(0,p.d4)(c.query.getUser),W=(0,p.d4)(c.query.getOrg),X=(0,p.d4)(c.query.getHostType)==="iframe",L=(0,p.wA)(),se="v8-\u5206\u4EAB\u5F39\u7A97_\u81EA\u5B9A\u4E49\u94FE\u63A5\u6709\u6548\u671F",{isFree:le}=a?(0,ys.uP)(W,M==null?void 0:M.id):(0,ys.pE)(M),B=!a||a&&le,{view_sticky:ie,comment_permission:ce,wechat:ae}=l,ue=Ae=>{let{value:st}=Ae;d({view_access:st})},he=()=>{if(C)d({password:""});else{const Ae=gn(6);G(Ae)}L({type:c.entryKey["sharing:function:track"],payload:{operation:C?"\u5173\u95ED\u5BC6\u7801\u4FDD\u62A4":"\u6253\u5F00\u5BC6\u7801\u4FDD\u62A4",viewMode:_,isDefault:!0}})},G=Ae=>/^\s*$/.test(Ae)||!/^\w+$/.test(Ae)?!1:(d({password:Ae}),L({type:c.entryKey["sharing:function:track"],payload:{operation:"\u5237\u65B0\u5BC6\u7801",viewMode:_,isDefault:!0}}),!0),fe=()=>{d({wechat:!ae}),L({type:c.entryKey["sharing:function:track"],payload:{operation:ae?"\u5173\u95ED\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875":"\u6253\u5F00\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875",viewMode:_,isDefault:!0}})},xe=(0,o.useMemo)(()=>ce==="org_member",[ce]),ve=()=>{d({view_sticky:!ie,sticky:!ie}),L({type:c.entryKey["sharing:function:track"],payload:{operation:ie?"\u5173\u95ED\u6279\u6CE8\u53EF\u89C1":"\u6253\u5F00\u6279\u6CE8\u53EF\u89C1",viewMode:_,isDefault:!0}})},Pe=()=>{d({comment_permission:ce==="org_member"?"off":"org_member"}),L({type:c.entryKey["sharing:function:track"],payload:{operation:xe?"\u5173\u95ED\u8BC4\u8BBA":"\u6253\u5F00\u8BC4\u8BBA",viewMode:_,isDefault:!0}})},[Ee,Ie]=(0,o.useState)("1"),[Ve,Be]=(0,o.useState)("forever"),{remainTimeText:Ge}=us(l,!1,999);(0,o.useEffect)(()=>{l&&l.expire_type==="forever"?Be(l.expire_type):(Ie(l.expire_type),Be(Ge))},[l,Ge]);const ot=(0,o.useRef)(null),it=()=>{if(B){const Ae=(0,yn.l)(W,se);if(W||(Ae.mode="org",Ae.isSelectOrg=!0),X){const st="/workspace?payment_param="+(0,yt._)(Ae);(0,at.JW)(st,"_blank","noreferrer")}else MB.global.popupHelper.chargeAsync(Ae);return!0}return!1},pt=Ae=>{if(Ae==="forever")d({expire_type:Ae});else if(it()){d({expire_type:"forever"});return}L({type:c.entryKey["sharing:function:track"],payload:{operation:Ae==="forever"?"\u6709\u6548\u671F\u6C38\u4E45":"\u6709\u6548\u671F\u81EA\u5B9A\u4E49",viewMode:_,isDefault:!1}}),Be(Ae)},ht=[{label:"\u6C38\u4E45\u6709\u6548",value:"forever"},{label:B?(0,i.jsxs)("div",{className:"custom-title",children:["\u81EA\u5B9A\u4E49",(0,i.jsx)("span",{className:"vip-title",children:"\u56E2\u961F\u7248"})]}):"\u81EA\u5B9A\u4E49",value:"custom"}],Mt=Ae=>/^([1-9]\d{0,3}|9999)$/.test(Ae),We=Ae=>{const st=Ae.target.value;if(!Mt(st))try{MB.notice({text:"\u8F93\u5165\u503C\u65E0\u6548\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165",type:"warning"});return}catch(zt){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice"}),"*")}d({expire_type:st}),Ie(st)};return(0,i.jsxs)(o.Fragment,{children:[(0,i.jsxs)(Ht,{children:[l.type==="advanced"&&a&&(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_access}),(0,i.jsx)(kn.A,{name:"access",optionList:y,value:l.view_access,onChange:ue})]}),(0,i.jsxs)("div",{className:"line-item "+(a?"mt":""),children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_password_protect}),(0,i.jsxs)("div",{className:"password-input-item",children:[C&&(0,i.jsx)(gs,{value:l.password,onSubmit:G}),(0,i.jsx)(Gt.A,{size:"small",isIOS:!0,isChecked:C,onChange:he})]})]}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_link_expired}),(0,i.jsxs)("div",{className:"item-expired",children:[Ve==="custom"&&(0,i.jsx)(Dn.A,{className:"general-input",attr:"width",value:Ee,cursorDirection:!1,min:1,max:9999,rightTitle:"\u5929",actionButton:!1,ref:ot,isSelect:!0,onBlur:We,disableKeyboardEvents:!0}),(0,i.jsx)(fn.mq,{value:Ve,attr:"expire_type",placeholder:v==="create"?Ee+"\u5929\u540E\u5931\u6548":Ve,optionList:ht,onChange:Ae=>pt(Ae)})]})]}),(0,i.jsx)(mt,{}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.note_display}),(0,i.jsx)(Gt.A,{size:"small",isIOS:!0,isChecked:ie,onChange:ve})]}),(0,i.jsxs)("div",{className:"line-item mt",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.comment_allowed}),(0,i.jsx)(Gt.A,{size:"small",isIOS:!0,isChecked:xe,onChange:Pe})]}),(0,i.jsx)(mt,{}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_skip_install_run_inwechat}),(0,i.jsx)(Gt.A,{size:"small",isIOS:!0,isChecked:ae,onChange:fe})]})]}),(0,i.jsx)(es,{isIframe:X})]})}var Vt=n(74059),bs=n(66748),lt=n.n(bs);const Io=S.Ay.div.withConfig({displayName:"styles__StyledCheck",componentId:"sc-ysqvb2-0"})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";&.readonly{cursor:default;}&.is-disabled{cursor:not-allowed;&::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:#f2f2f2;}}> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:",";transition:all 0.2s ease-in-out;background-color:",";.icon{transition:all 0.2s ease-in-out;position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#f2f4f5;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_disabled01,e=>e.isCircle?"50%":"2px",e=>e.theme.color_bg_white,e=>e.theme.color_text_L2,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2);class Rn extends o.PureComponent{constructor(){super(...arguments),(0,Vt.A)(this,"onToggle",a=>{const{onChange:l}=this.props;l(a)})}render(){const{className:a,isDisabled:l,readOnly:d,isChecked:v,isCircle:_}=this.props,y=w()(a,{"is-checked":v,"is-disabled":l,readonly:d});return(0,i.jsx)(Io,{className:y,onClick:this.onToggle,isCircle:_,children:(0,i.jsx)("span",{className:"Check-state",children:(0,i.jsx)(V.C,{name:"new_replace/box_check"})})})}}(0,Vt.A)(Rn,"propTypes",{isChecked:lt().bool,isDisabled:lt().bool,readOnly:lt().bool,onChange:lt().func,label:lt().any,name:lt().string,value:lt().any,className:lt().string,isCircle:lt().bool}),(0,Vt.A)(Rn,"defaultProps",{isChecked:!1,label:"",className:"",isCircle:!1,onChange:()=>null,onToggle:()=>null});var Qs=n(67234),vs=n(89099),ws=n(44622);const Bn=S.Ay.div.withConfig({displayName:"styles__StyledSharingScreenHiddenList",componentId:"sc-1qgvr8z-0"})(["padding:0 17px;.sm-hidden-check{display:flex;height:40px;align-items:center;justify-content:space-between;.item-title{color:",";}}.sm-check{.Check-state{background-color:transparent;border:1px solid ",";}.Check-label{color:",";}&.is-checked .Check-state{background-color:#1684fc;border:1px solid #1684fc;.icon{color:#fff;}}&.is-checked.is-disabled .Check-state{background-color:",";border:1px solid ",";span.icon{color:",";}}&.is-disabled .Check-state{background-color:",";border:1px solid ",";}&.is-disabled::after{background-color:unset;}}.screen-config-header{display:flex;padding-left:8px;flex-direction:row;height:36px;&.is-disabled{cursor:not-allowed;color:#ccc;.screen-name{color:",";}> label{&.is-disabled::after{background-color:unset;}}span.Check-label{color:",";}.content-wrapper{span{color:",";}}}span.Check-label{color:",";margin-left:10px;}.content-wrapper{display:flex;align-items:center;span{&.divider{margin-left:10px;margin-right:11px;}color:",";}}}.screen-list-content{height:180px;overflow-y:overlay;background:",";margin:0 8px;&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&.dark{&::-webkit-scrollbar-thumb{background-color:#666;border-radius:4px;&:hover{background-color:#cccccc;}}}&::-webkit-scrollbar-corner{background-color:transparent;}&::-webkit-scrollbar{width:6px;}.screen-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}&.is-disabled{cursor:not-allowed;color:#ccc;.screen-name{color:",";}}ol,li{list-style:none;}.sm-list{height:auto;overflow-y:overlay;&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&::-webkit-scrollbar-corner{background-color:transparent;}margin-left:8px;padding-left:15px;.sm-box{display:flex;align-items:center;height:36px;&.is-disabled{cursor:not-allowed;.sm-item{cursor:not-allowed;.expander{svg{color:",";cursor:not-allowed;}}.screen-name{color:",";}}}}.sm-item{display:flex;height:100%;width:100%;align-items:center;cursor:pointer;.sm-icon{min-width:20px;min-height:20px;margin-right:4px;color:",";}.expander{display:flex;align-items:center;justify-content:center;margin-left:-15px;margin-right:1px;width:14px;height:14px;.arrow-icon{margin-right:0;color:#999;width:8px;&:not(.is-expand){transform:rotate(-90deg);}}}.screen-icon{margin-right:4px;}.screen-name{color:",";}}}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_disabled01,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_bg_card,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1);class _s extends o.PureComponent{constructor(a){super(a),(0,Vt.A)(this,"handleCheck",y=>{const{onUpdateScreenVisibleList:C,screenVisibleList:M}=this.props,W=new Set(M),$=(0,ws.YU)(y),X=W.has(y.cid);$.forEach(se=>{let{cid:le}=se;X?W.delete(le):W.add(le)});const L=[];for(const se of W){const le=this.screenDataMap[se];le&&!(0,ws.Mo)(le)&&L.push(le)}C(Array.from(W))}),(0,Vt.A)(this,"onSelectAll",y=>{const{onUpdateScreenVisibleList:C}=this.props;C(y?this.pageKeyList:[])});const{screenMetaList:l}=a,{treeData:d,pageAttrMap:v,pageKeyList:_}=l;this.screenDataMap=v,this.screenTreeData=d,this.pageKeyList=_,this.pageExceptFolderList=(0,T.RF)(v)}componentDidMount(){const a=(0,rn.Yt)("currentJumpingSharingScreenMetaCid",void 0,rn.qW.String);(0,rn.G5)("currentJumpingSharingScreenMetaCid"),a!==void 0&&setTimeout(()=>document.getElementById("app-sharing").querySelector('.content-item[data-cid="'+a+'"]').scrollIntoView(),300)}render(){const{theme:a,screenVisibleList:l,isDisplayScreenAll:d}=this.props,v=(l==null?void 0:l.length)===this.pageKeyList.length,_=(0,T.Mj)(d,l,this.pageExceptFolderList);return(0,i.jsxs)(Bn,{children:[(0,i.jsxs)("div",{className:w()("screen-config-header",{"is-disabled":d}),children:[(0,i.jsx)(Qs.A,{className:"sm-check",label:I18N.imockSharing.select_all,onChange:this.onSelectAll,isDisabled:d,isChecked:v}),(0,i.jsxs)("div",{className:"content-wrapper",children:[(0,i.jsx)("span",{className:"divider",children:"|"}),(0,i.jsx)("span",{children:I18N.imockSharing.select_n_screens.replace("%1",_).replace("%2",this.pageExceptFolderList.length)})]})]}),(0,i.jsx)("div",{className:w()("screen-list-content",{"is-disabled":d,dark:a==="dark"}),children:(0,i.jsx)("div",{className:"sm-list",children:(0,i.jsx)(ts,{theme:a,isDisplayScreenAll:d,screenTreeData:this.screenTreeData,screenVisibleList:l,onCheck:this.handleCheck})})})]})}}(0,Vt.A)(_s,"propTypes",{theme:lt().string,screenMetaList:lt().object,screenVisibleList:lt().array,onUpdateScreenVisibleList:lt().func,isDisplayScreenAll:lt().bool});const ts=e=>{let{theme:a,isDisplayScreenAll:l,screenTreeData:d,screenVisibleList:v,onCheck:_}=e;return(0,i.jsx)(i.Fragment,{children:d.children.map(y=>(0,i.jsx)(Fn,{theme:a,treeNode:y,root:!0,depth:0,screenVisibleList:v,isDisplayScreenAll:l,onCheck:_},y.cid))})};ts.propTypes={theme:lt().string,isDisplayScreenAll:lt().bool,screenTreeData:lt().object,screenVisibleList:lt().array,onCheck:lt().func};class Fn extends o.PureComponent{constructor(a){super(a),(0,Vt.A)(this,"handleCheck",l=>{l.stopPropagation();const{isDisplayScreenAll:d}=this.props;if(d)return;const{treeNode:v,onCheck:_}=this.props;_(v)}),(0,Vt.A)(this,"handleExpand",l=>{const{isDisplayScreenAll:d}=this.props;d||(l.stopPropagation(),this.setState({expand:!this.state.expand}))}),this.state={expand:!0}}render(){const{isDisplayScreenAll:a,treeNode:l,root:d,depth:v,screenVisibleList:_,onCheck:y,theme:C}=this.props,{children:M,data:W}=l,$=M.length!==0,{expand:X}=this.state,L=_&&_.includes(l.cid);return(0,i.jsxs)("li",{className:w()("content-item"),"data-cid":l.cid,children:[(0,i.jsxs)("div",{className:w()("sm-box",{"is-display":L,"is-disabled":a}),children:[(0,i.jsx)(Rn,{isDisabled:a,className:"sm-check",isChecked:L,onChange:this.handleCheck}),(0,i.jsx)(ns,{isDisabled:a,theme:C,root:d,depth:v,showExpander:$,data:W,expand:X,onClick:this.handleCheck,onExpand:this.handleExpand})]}),M.length>0&&X&&(0,i.jsx)("ol",{className:"sm-child",children:M.map(se=>(0,i.jsx)(Fn,{theme:C,treeNode:se,depth:v+1,screenVisibleList:_,isDisplayScreenAll:a,onCheck:y},se.cid))})]})}}(0,Vt.A)(Fn,"propTypes",{theme:lt().string,isDisplayScreenAll:lt().bool,treeNode:lt().object,screenVisibleList:lt().array,depth:lt().number,root:lt().bool,onCheck:lt().func});class ns extends o.PureComponent{render(){const{depth:a,showExpander:l,data:d,expand:v,onExpand:_,onClick:y,theme:C,isDisabled:M}=this.props,W=19*(a+1);return(0,i.jsxs)("div",{className:w()("sm-item"),style:{paddingLeft:W},onClick:y,children:[l&&(0,i.jsx)("a",{className:"expander",onClick:_,children:(0,i.jsx)(V.C,{className:w()("arrow-icon",{"is-expand":v}),name:"common/expand"})}),(0,i.jsx)(vs.k,{icon:d.icon,theme:C,disabled:M,isExpand:v}),(0,i.jsx)("span",{className:"screen-name",children:d.name})]})}}(0,Vt.A)(ns,"propTypes",{theme:lt().string,isDisabled:lt().bool,showExpander:lt().bool,data:lt().object,depth:lt().number,expand:lt().bool,onExpand:lt().func,onClick:lt().func});function Xs(e){const a=[{value:1,label:I18N.imockSharing.all_pages},{value:2,label:I18N.imockSharing.partial_pages}],{sharingData:l,updateSharing:d}=e,[v,_]=(0,o.useState)(l.screen_visible_switch?2:1),y=(0,p.d4)(c.query.getTheme),C=(0,p.d4)(c.query.getScreenMetaList),M=$=>{d({screen_visible_list:$})},W=$=>{let{value:X}=$;d({screen_visible_switch:X==="2",screen_visible_list:[]}),_(X)};return(0,i.jsxs)($s,{children:[(0,i.jsx)("div",{className:"line-item visible-check",children:(0,i.jsx)(kn.A,{name:"access",optionList:a,value:v,onChange:W})}),C&&(0,i.jsx)(_s,{theme:y,screenMetaList:C,screenVisibleList:l.screen_visible_list,isDisplayScreenAll:!l.screen_visible_switch,onUpdateScreenVisibleList:M})]})}var Ss=n(19722);const qs=e=>{let{handleConfirm:a,handleCancel:l}=e;const d=(0,p.d4)(c.query.getCurrentSharing),v=(0,p.d4)(c.query.getTheme),_=(0,p.d4)(c.query.getScreenMetaList),y=d.type==="default"?!1:d.screen_visible_switch&&(0,T.Mb)(_,d).selectedSize===0,C=()=>{y||a()};return(0,i.jsxs)(eo,{className:"confirm-bar",children:[(0,i.jsx)(It.jn,{className:w()("confirm",{dark:v==="dark"}),disabled:y,onClick:C,children:I18N.SettingPanel.confirm}),(0,i.jsx)(It.tA,{className:"cancel",onClick:l,children:I18N.imockSharing.cancel})]})},eo=S.Ay.div.withConfig({displayName:"ConfirmBar__StyledConfirmBar",componentId:"sc-fh6wtb-0"})(["&.confirm-bar{display:inline-flex;flex-direction:row-reverse;padding:12px 24px;transition:all 0.2s ease-in-out 0s;position:absolute;bottom:0px;right:0px;.confirm{margin-left:12px;}}"]),to=()=>[{key:0,name:"basic",label:I18N.imockSharing.sharing_basic},{key:1,name:"visible",label:I18N.imockSharing.sharing_visible}];function no(){const e=(0,p.d4)(c.query.getProject),a=(0,p.d4)(c.query.getSettingPageType),l=(0,p.d4)(c.query.getSubSettingPageType),d=(0,p.d4)(c.query.getCurrentSharing),v=(0,p.d4)(c.query.getAdvancedSharingList),y=(0,an.jB)()?"recommend":"old",C=(0,p.wA)(),[M,W]=(0,o.useState)(l==="basic"?0:1),[$,X]=(0,o.useState)(d.link_name),[L,se]=(0,o.useState)(!1),le=Be=>{W(Be)},B=(0,o.useCallback)(async Be=>{C({type:c.entryKey["sharing:settingPage:advanced:confirm"],payload:{updatedKV:Be}})},[C]),ie=(0,o.useCallback)(()=>{C({type:c.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}}),a==="edit"&&L&&C({type:"sharing:advance:click:track"})},[C,a,L]),ce=(0,o.useCallback)(Be=>{C({type:c.entryKey["sharing:currentSharing:update"],payload:{updatedKV:Be}}),a==="edit"&&(se(!0),B(Be))},[C,a,B,se]),ae=()=>{const Be=ve.current.value;Be===""?(C({type:c.entryKey["sharing:init"],payload:{sharingToast:I18N.Common.name_cannot_be_empty}}),Ie($)):(0,T.it)({value:Be,currentSharing:d,sharingList:v})?(Ie($),C({type:c.entryKey["sharing:init"],payload:{sharingToast:I18N.imockSharing.sharing_name_repeate_wran}})):(X(Be),ce({link_name:Be}))},{isRenaming:ue,setIsRenaming:he,handleKeyDown:G,handleBlur:fe,handleFocus:xe,inputRef:ve,handleInput:Pe,inputName:Ee,setInputName:Ie}=Cn({name:d.link_name,fBlur:ae}),Ve=()=>{he(!0)};return(0,i.jsxs)(wt,{children:[a==="create"?(0,i.jsx)("div",{className:"header",children:(0,i.jsx)("span",{children:I18N.imockSharing.sharing_create_title})}):(0,i.jsx)(cn,{title:I18N.imockSharing.sharing_setting_title,handleClick:ie}),(0,i.jsxs)("div",{className:"share-link-title",children:[(0,i.jsx)("div",{className:"title-text",children:I18N.SmartFill.title}),(0,i.jsx)("div",{className:w()("name-input",{"is-renaming":ue}),children:ue?(0,i.jsx)("form",{children:(0,i.jsx)("input",{value:Ee,onFocus:xe,onChange:Pe,ref:ve,onBlur:fe,onKeyPress:G})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{onClick:Ve,children:$}),(0,i.jsx)(Ss.A,{size:20,name:"sharing/pen_20",className:"input-icon",onClick:Ve})]})})]}),(0,i.jsx)(ln,{sharingData:d,updateSharing:ce}),(0,i.jsxs)("div",{className:"tabs",children:[(0,i.jsx)(St.A,{className:"sharing-nav",activeIndex:M,onTabChange:le,layoutV9:y,children:to().map(Be=>{let{key:Ge,name:ot,...it}=Be;return(0,i.jsx)(St.n,{...it,active:M===Ge,className:w()({visible:ot==="visible",basic:ot==="basic"})},Ge)})}),(0,i.jsx)("div",{})]}),M===0?(0,i.jsx)(xs,{isOrgProject:e.is_org_project,sharingData:d,updateSharing:ce,settingPageType:a}):(0,i.jsx)(Xs,{sharingData:d,updateSharing:ce}),a==="create"&&(0,i.jsx)(qs,{handleConfirm:B,handleCancel:ie})]})}function so(){return(0,p.d4)(c.query.getCurrentSharing).type==="default"?(0,i.jsx)(fs,{}):(0,i.jsx)(no,{})}const oo=S.Ay.div.withConfig({displayName:"styles__StyledSharingToast",componentId:"sc-1konos2-0"})(["z-index:1;border-radius:4px;position:absolute;display:flex;align-items:center;padding:6px 10px;color:#FFF;font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:400;line-height:24px;background:#454647;top:72px;left:50%;transform:translateX(-50%);svg{width:21px;height:21px;margin-right:4px;}"]),io=(0,o.memo)(function(){const a=(0,p.d4)(c.query.getSharingToast),l=(0,p.wA)();return(0,o.useEffect)(()=>{setTimeout(()=>{l({type:c.entryKey["sharing:init"],payload:{sharingToast:""}})},1500)},[l]),a?(0,i.jsxs)(oo,{children:[(0,i.jsx)(V.C,{name:"sharing/toast_waring",isColorPure:!0}),a]}):null}),ro=S.Ay.div.withConfig({displayName:"styles__StyledSharingQrCode",componentId:"sc-qtrrh-0"})(["margin-top:70px;display:flex;align-items:center;justify-content:flex-start;flex-direction:column;height:calc(100% - ","px);p{margin-top:16px;color:","}"],K.gE,e=>e.theme.color_text_L3);var Cs=n(80582);const Ns=S.Ay.div.withConfig({displayName:"styles__StyledQRcodeBox",componentId:"sc-ft5f1y-0"})(["display:flex;justify-content:center;align-items:center;background-color:",";border-radius:8px;width:130px;height:130px;filter:",";border:1px solid ",";.qrcode{width:110px;height:110px;}&.qrcode-and-icon{.p-icon-box{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;overflow:hidden;background-color:#f2f2f3;border-radius:2px;img{display:block;width:100%;height:100%;}}}"],e=>e.theme.color_sharing_qrcode_bg,e=>e.theme.color_sharing_qrcode_filter,e=>e.theme.color_share_del_confirm_border_color);function ss(e){const{isQRcodePanel:a,text:l,project:d}=e,v=d.icon||null;return a?(0,i.jsxs)(Ns,{className:"qrcode-and-icon",children:[(0,i.jsx)(Cs.A,{className:"qrcode",text:l,width:110,height:110}),v&&(0,i.jsx)("div",{className:"p-icon-box",children:(0,i.jsx)("img",{src:v})})]}):null}const os=()=>{const e=(0,p.wA)(),a=(0,p.d4)(c.query.getCurrentSelectSharing),l=(0,p.d4)(c.query.getProject),d=(0,o.useMemo)(()=>(0,T.O8)(l,a),[a,l]),v=(0,o.useCallback)(()=>{e({type:c.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})},[e]);return(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)(cn,{title:I18N.imockSharing.qr_code,handleClick:v}),(0,i.jsxs)(ro,{children:[(0,i.jsx)(ss,{isQRcodePanel:!0,project:l,text:d}),(0,i.jsx)("p",{children:I18N.imockSharing.qr_tips})]})]})},ao=(0,o.memo)(os),co=()=>{var e;const a=(0,p.wA)(),l=(0,p.d4)(c.query.getHostSharingData),d=(0,p.d4)(c.query.getProject),v=d==null?void 0:d.is_org_project,{link_name:_,view_access:y}=l,C=(0,p.d4)(c.query.getUser),M=(0,p.d4)(c.query.getHostType),W=(0,p.d4)(c.query.getIsEditMode),$=M==="iframe"||W,X=(0,p.d4)(c.query.getCanEditByUser),{isURLCopied:L,handleCopyURL:se}=Gn({project:d,sharing:l,user:C}),le=$&&X,B=(0,o.useMemo)(()=>[{name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:xt.QRcode,tempDisabled:!1,isBorder:!0},{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:xt.embed,tempDisabled:!1,isBorder:!0}],[]),ie=(0,o.useCallback)(()=>{const ae=(0,T.O8)(d,l);(0,jn.$)(ae),se(),a({type:c.entryKey["sharing:function:track"],payload:{operation:"\u9AD8\u7EA7\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:l.device_model,isDefault:!1}})},[a,l,se,d]),ce=(0,o.useCallback)((ae,ue)=>{if(!(ae!=null&&ae.currentTarget))return;const he=l,{device_model:G}=l;switch(ue){case xt.QRcode:ae.stopPropagation(),a({type:c.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:he}}),a({type:c.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:G,isDefault:!1}});break;case xt.embed:a({type:c.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:he}}),a({type:c.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:G,isDefault:!1}});break;default:break}},[a,l]);return(0,i.jsxs)(ps,{children:[(0,i.jsxs)("div",{className:"default-top",children:[(0,i.jsx)("div",{className:"switch-content",children:_}),(0,i.jsxs)(Ft,{className:w()("item-center","default-link",!le&&"userNoEdit"),children:[(0,i.jsx)("div",{className:w()("left","sharingV2-click-visible",{"normal-hover":!0},!v&&"can-not-edit"),children:(0,i.jsxs)("div",{className:"view-access-select",children:[(0,i.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,i.jsx)("div",{className:"access-name",children:(e=I18N.imockSharing[K.nQ[y]])!=null?e:"missing data"}),v&&(0,i.jsx)(V.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,i.jsxs)(_n,{type:"button",className:w()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(L)),onClick:ie,children:[(0,i.jsx)("span",{className:"state state-0",children:l.password&&l.password.length>0?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,i.jsx)("span",{className:"state state-1",children:(0,i.jsx)(V.C,{name:"new_replace/check",className:"copy-check"})})]})]})]}),(0,i.jsx)("div",{className:"default-bottom",children:(0,i.jsxs)("div",{className:"bottom-left",children:[(0,i.jsx)("div",{children:I18N.imockSharing.share_mode}),B.map((ae,ue)=>(0,i.jsx)(Lt,{className:w()("share-icon",ae.className),name:ae.name,type:ae.className,toolTipName:ae.toolTipName,onClick:ce,tempDisabled:ae.tempDisabled,isColorPure:ae.isColorPure,isBorder:ae.isBorder,size:24},ue))]})})]})},lo=(0,o.memo)(co),uo=()=>{const e=(0,p.d4)(c.query.getTopPageIndex),a=(0,p.d4)(c.query.getTabIndex),l=(0,p.d4)(c.query.getSharingToast),d=(0,p.d4)(c.query.getHostSharingData),v=!d||d.type==="default",_=(0,p.d4)(c.query.getProject),y=(0,p.d4)(c.query.getIsEditMode),M=(0,p.d4)(c.query.getHostType)==="iframe"||y,[W,$]=(0,o.useState)(d);return(0,o.useEffect)(()=>{const{sharing:X}=(0,J.Y5)(_);$(X)},[d,_]),(0,i.jsxs)(Wt,{children:[e==="edit"&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Bt,{}),a===0?!M&&!v?(0,i.jsx)(lo,{}):W?(0,i.jsx)(Zs,{defaultShare:W}):(0,i.jsx)(i.Fragment,{}):(0,i.jsx)(rt,{})]}),e==="embed"&&(0,i.jsx)(qn,{}),e==="setting"&&(0,i.jsx)(so,{}),e==="qrCode"&&(0,i.jsx)(ao,{}),l&&(0,i.jsx)(io,{})]})},po=(0,o.memo)(uo),ho=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z0-9-]{2,63}$/i,mo=/^(?:\+?86)?1(?:3\d{3}|5[^4\D]\d{2}|8\d{3}|7(?:[0-35-9]\d{2}|4(?:0\d|1[0-2]|9\d))|9[0-35-9]\d{2}|6[2567]\d{2}|4[579]\d{2})\d{6}$/;var zn=n(46795);const Ms=async(e,a)=>{try{let d=null;return e?d=await(0,zn.DE)("/api/dashboard/v4/users/search?email="+e):a&&(d=await(0,zn.DE)("/api/dashboard/v4/users/search?mobile="+a)),d}catch(d){var l;return d!=null&&(l=d.message)!=null&&l.includes("failed with 404")?{}:null}};var Un=n(29584);const js=(0,S.Ay)(Un.A).withConfig({displayName:"styles__StyledPermissionTipDropdown",componentId:"sc-1wqmy1b-0"})(["display:flex;align-items:center;justify-content:center;line-height:14px;button{.permisison-tip-icon{margin:5px 6px 0 6px;&:hover{path{fill:","}}}}"],e=>e.theme.color_project_access_tip_hover),is=(0,S.DU)(['#IBOT_DROPDOWN_MENU_ROOT{.DropdownMenuBase{.permission-tip{.content{min-height:fit-content;padding:0;background-color:#333;border:1px solid #4f5052;.multi-line{padding:14px 14px 20px 14px;p,ul{padding:0;padding-left:3px;}&::before{content:"";width:0;height:0;border:11px solid transparent;border-bottom-color:#4F5052;position:absolute;top:-1px;left:',';margin-top:-18px;border-bottom-width:9px;}&::after{content:"";width:0;height:0;border:9px solid transparent;border-bottom-color:#333;position:absolute;top:3px;left:',";margin-top:-18px;border-bottom-width:7px;}}.single-line{padding:4px 12px;p{margin:0;padding:0;}}h4{font-weight:500;font-size:14px;line-height:16px;margin:0;margin-bottom:10px;}ul{text-align:justify;list-style:none;li{list-style:none;margin-bottom:8px;&:last-child{margin-bottom:0px;}}}.desc{font-weight:400;font-size:12px;line-height:18px;white-space:nowrap;.strong{font-weight:500;}.link{margin-left:4px;text-align:left;color:#1684fc;cursor:pointer;&:hover{text-decoration:underline;}}}.extra{white-space:nowrap;margin:12px 0 8px;font-weight:400;font-size:12px;color:rgba(255,255,255,0.5);}}}}}"],e=>e.isOnlyMemberManager?"66px":"88px",e=>e.isOnlyMemberManager?"68px":"90px");let Tn=function(e){return e.OrgSpace="orgspace-permission-tip",e.OrgSpaceLimiter="orgspace-limiter-permission-tip",e.RootFolder="root-folder-permission-tip",e.SubFolder="sub-folder-permission-tip",e.Project="project-permission-tip",e}({});const go=e=>{const{tipType:a,position:l="center",className:d,isOnlyMemberManager:v=!1}=e,[_,y]=(0,o.useState)({}),C=(0,p.d4)(Ze.il);(0,o.useEffect)(()=>{const W=document.querySelector(".sharingBoxV2 ");if(W){const{left:$,top:X}=W.getBoundingClientRect();y({left:Number($)+13,top:Number(X)+29})}},[]);const M=()=>{switch(a){case Tn.Project:return(0,i.jsxs)("section",{className:"multi-line",children:[(0,i.jsxs)("h4",{children:["\u{1F537} ",I18N.imockSharing.permissions]}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_manager_file]}),(0,i.jsxs)("li",{children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_can_edit,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_can_edit_file]}),(0,i.jsxs)("li",{children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_only_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_only_view_file]}),!(C!=null&&C.is_disable_banned_viewer)&&(0,i.jsxs)("li",{children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_ban_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_ban_view_file]})]}),(0,i.jsx)("p",{className:"extra",dangerouslySetInnerHTML:{__html:I18N.imockSharing.permissions_automatically_sync_desc}})]});case Tn.SubFolder:return(0,i.jsxs)("section",{className:"multi-line",children:[(0,i.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,i.jsxs)("p",{className:"extra",children:["\u6839\u6587\u4EF6\u5939\u6210\u5458\u53CA\u6743\u9650\u81EA\u52A8\u540C\u6B65\u81F3\u7EC4\u5185\uFF0C\u82E5\u6709\u8C03\u6574\uFF0C",(0,i.jsx)("br",{}),"\u8BF7\u524D\u5F80\u6839\u6587\u4EF6\u5939\u8FDB\u884C\u6210\u5458\u53CA\u6743\u9650\u8C03\u6574"]})]});case Tn.RootFolder:return(0,i.jsxs)("section",{className:"multi-line",children:[(0,i.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_manager_folder]}),(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_can_edit,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_can_edit_folder]}),(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_only_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_only_view_folder]}),(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_ban_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_ban_view_folder]})]})]});case Tn.OrgSpace:return(0,i.jsxs)("section",{className:"multi-line",children:[(0,i.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_manager_desc]}),(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_collaboration_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_collaboration_member_desc]}),(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_review_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_review_member_desc]}),(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_unregistered_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_unregistered_member_desc]})]})]});case Tn.OrgSpaceLimiter:return(0,i.jsx)("section",{className:"single-line",children:(0,i.jsxs)("p",{className:"desc",children:["\u8BE5\u6210\u5458\u53EA\u5BF9\u56E2\u961F\u5185\u6307\u5B9A\u6587\u4EF6/\u6587\u4EF6\u5939\u53EF\u67E5\u770B/\u7F16\u8F91 ",(0,i.jsx)("a",{href:"/hc/articles/222",className:"link",children:" \u67E5\u770B\u8BE6\u60C5"})]})});default:break}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(js,{opener:(0,i.jsx)("svg",{className:"permisison-tip-icon",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.33341 7.00008C2.33341 4.42275 4.42275 2.33341 7.00008 2.33341C9.57741 2.33341 11.6667 4.42275 11.6667 7.00008C11.6667 9.57741 9.57741 11.6667 7.00008 11.6667C4.42275 11.6667 2.33341 9.57741 2.33341 7.00008ZM7.00008 1.16675C3.77842 1.16675 1.16675 3.77842 1.16675 7.00008C1.16675 10.2217 3.77842 12.8334 7.00008 12.8334C10.2217 12.8334 12.8334 10.2217 12.8334 7.00008C12.8334 3.77842 10.2217 1.16675 7.00008 1.16675ZM6.00842 5.82717V5.69267C6.00912 5.53262 6.06636 5.35509 6.19406 5.22162C6.31201 5.09835 6.54189 4.95841 6.99673 4.95841C7.42386 4.95841 7.72087 5.16234 7.87234 5.39386C8.0341 5.6411 8.00223 5.84856 7.92545 5.9522C7.82971 6.08146 7.71083 6.20085 7.56715 6.33019C7.52345 6.36954 7.46957 6.41642 7.4118 6.46669L7.41179 6.4667C7.30849 6.55659 7.19276 6.6573 7.10047 6.74511C6.77279 7.05691 6.41686 7.49208 6.41686 8.16675L6.41875 8.46216L7.5854 8.45467L7.58354 8.16515C7.58397 7.96563 7.66576 7.81765 7.90469 7.5903C7.985 7.51388 8.0572 7.45142 8.1398 7.37995L8.13984 7.37992C8.20093 7.32707 8.26773 7.26928 8.34772 7.19727C8.51407 7.04752 8.69919 6.8677 8.86295 6.64662C9.30517 6.0496 9.20176 5.29489 8.84863 4.75513C8.48521 4.19965 7.82399 3.79175 6.99673 3.79175C6.28084 3.79175 5.72583 4.02342 5.35109 4.41508C4.98633 4.79631 4.84308 5.27667 4.84175 5.68971V5.82717H6.00842ZM6.41874 9.04175V10.2107H7.58541V9.04175H6.41874Z",fill:"#999999"})}),mode:"dark",menuX:l,shouldOpenOnHover:!0,hoverDelay:100,menuClassName:w()("permission-tip",d&&d),menu:M(),menuBaseStyle:_}),(0,i.jsx)(is,{isOnlyMemberManager:v})]})};var fo=n(99739);const Wn=S.Ay.div.withConfig({displayName:"styles__StyledReadOnlyOption",componentId:"sc-se9dlz-0"})(["width:65px;text-align:start;padding-left:10px;cursor:default;&:lang(en){width:auto;}&.disabled{cursor:not-allowed;}.label{color:#9EA9BC;font-size:12px;}"]),Is=(0,S.Ay)(fo.Ay).withConfig({displayName:"styles__StyledPermissionSelector",componentId:"sc-se9dlz-1"})(["width:65px;&:lang(en){width:auto;}&.is-disabled{opacity:1;.caret{display:none;}button{span{color:#9EA9BC;}}}&.is-open .caret{transform:rotate(180deg);svg{transform:translateY(-3px) rotate(-45deg);}}button{text-align:right;span{color:#35445D;font-size:12px;}}.caret{margin:0 0 0 6px;transition:transform .2s;svg{width:6px;height:6px;margin:1px;border:solid 1px #35445D;border-top-color:transparent;border-right-color:transparent;transform:translateY(0) rotate(-45deg);path{opacity:0;}}}"]),Es=(0,S.DU)([".permission-select.CheckSelectMenu{padding:8px 0;background-color:#333;border-radius:4px;box-shadow:none;&:lang(en){min-width:120px;}.SelectOption{height:24px;flex-direction:row-reverse;margin-bottom:2px;padding:0;color:#fff;line-height:24px;&:last-child{margin-bottom:0;}&.is-active,&:not(.empty-msg):not(.is-disabled):hover{background-color:#444;color:#fff;}&:hover{color:#fff;}> span.Ellipsis{min-width:80px;padding:0 10px;&:lang(en){width:calc(100% - 22px);}}> .svg-icon{margin:0 0 0 10px;path{fill:#fff;}}&[data-value=\"__mb_delete_permission\"]{position:relative;margin-top:9px;&::before{position:absolute;top:-5px;right:0;left:0;border-top:solid 1px rgba(255,255,255,.1);content:'';}}}}"]),yo=(0,S.DU)([".permission-select.CheckSelectMenu{padding:8px;border-radius:8px;border:1px solid ",";color:",";background:",";box-shadow:",";&:lang(en){min-width:136px;}&:not(.is-empty){padding:8px;}.SelectOption{height:24px;flex-direction:row-reverse;margin-bottom:2px;padding:0;color:",";border-radius:4px;line-height:24px;&:last-child{margin-bottom:0;}&.is-active,&:not(.empty-msg):not(.is-disabled):hover{background-color:",";color:",";}&:hover{color:",";}> span.Ellipsis{min-width:80px;padding:0 10px;&:lang(en){width:calc(100% - 22px);}}> .svg-icon{margin:0 0 0 10px;path{fill:",";}}&[data-value=\"__mb_delete_permission\"]{position:relative;margin-top:9px;&::before{position:absolute;top:-5px;right:0;left:0;border-top:solid 1px rgba(255,255,255,.1);content:'';}}}}"],e=>e.theme.color_bg_border_01,e=>e.theme.color_text_L0,e=>e.theme.color_bg_white,e=>e.theme.shadow_m,e=>e.theme.color_text_L0,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_L0,e=>e.theme.color_text_L0,e=>e.theme.color_text_L0);var xo=n(23485);const ks=e=>{let a=[],l={};switch(e){case k.W.OrgSpace:a=q,l=ze.FU;break;case k.W.Folder:a=pe,l=ze.lY;break;case k.W.Project:a=ge,l=ze.au;break;default:break}return a.map(d=>({...d,permission:(0,z.pf)(d.value,l)}))},bo=(e,a)=>{let l={};switch(e){case k.W.OrgSpace:return a;case k.W.Folder:l=ke;break;case k.W.Project:l=we;break;default:return a}return l[a]||a},vo=e=>{switch(e){case k.W.OrgSpace:return I18N.imockSharing.permission_no_right_project;case k.W.Folder:return I18N.imockSharing.permission_no_right_folder;case k.W.Project:return I18N.imockSharing.permission_no_right_project;default:return I18N.imockSharing.permission_no_right}},dn=e=>{const{value:a,optionList:l,handleChange:d}=e,v=(0,o.useRef)(null),[_,y]=(0,o.useState)(!0),C=l.filter(W=>W.value===a),M=(0,o.useCallback)(()=>{v.current&&v.current.close()},[]);return(0,o.useEffect)(()=>(document.body.addEventListener("wheel",M),()=>{document.body.removeEventListener("wheel",M)}),[M]),(0,o.useEffect)(()=>{const W=setTimeout(()=>{y(!1)},1e3);return()=>{clearTimeout(W)}},[]),_?(0,i.jsx)(Is,{unstyled:!0,ref:v,placeholder:I18N.imockSharing.submit,menuTheme:"check",value:a,menuX:"right",onChange:d,optionList:C,menuClassName:"permission-select"}):(0,i.jsx)(Is,{unstyled:!0,ref:v,placeholder:I18N.imockSharing.submit,menuTheme:"check",value:a,menuX:"right",onChange:d,optionList:l,menuClassName:"permission-select"})},Hn=(0,o.memo)(dn),On=(e,a)=>{const{isSelf:l,userCurrentSpacePermission:d,userCurrentScopePermisson:v,memberCurrentScopePermisson:_,memberTopScopePermisson:y,memberOrgPermisson:C}=a;return e.map(W=>{let{value:$,label:X,permission:L}=W,se=!1;return d.isManager&&l||(v.isMember?(v.level<_.level||v.level<L.level||!y.isMember&&y.isViewer&&!C.isMember&&L.isMember)&&(se=!0):se=!0),Object.assign({},{value:$,label:I18N.imockSharing[X]||X},{isDisabled:se})})},wo=e=>{const{readOnlyTooltip:a,isReset:l=!1,member:d,isOnlyOneManager:v,permissionScope:_,onPermissionChange:y}=e;let{readOnly:C}=e,M=C,W=a;const $=ks(_),{permissionMap:X}=d,{memberCurrentScopePermisson:L,userCurrentScopePermisson:se,userCurrentSpacePermission:le,currentScopeRoleName:B,isSelf:ie,isDisableBannedViewer:ce,userIsSpaceLimiter:ae,memberIsSpaceLimiter:ue}=X;let he=On($,X);ce&&(he=he.filter(xe=>!xe.value.includes("ban_viewer"))),_===k.W.OrgSpace&&!ue&&(he=he.filter(xe=>xe.value!=="space_limiter")),(_===k.W.OrgSpace||ue)&&!L.isUnknown&&!L.isInherited&&!l&&(ie&&!L.isUnknown||se.isManager&&he.push({value:I,label:I18N.imockSharing.remove,isDisabled:!1})),!M&&ae&&!l&&(C=!0,M=!0),!M&&L.isViewer&&!l&&(se.isMember?se.level<L.level?(M=!0,W="\u65E0\u6743\u66F4\u6539\u6743\u9650\u9AD8\u7684\u6210\u5458\u6743\u9650"):L.isManager&&v&&(M=!0,W=vo(_)):le!=null&&le.isManager&&ie||(M=!0));let G=bo(_,B);l&&(G="");const fe=xe=>{M||y(d,xe)};if(M||C){const xe=he.find(ve=>ve.value===G);return(0,i.jsx)(Wn,{className:w()("read-only-option",!C&&M&&"disabled"),children:(0,i.jsx)(xo.A,{content:W,position:"bottom",children:(0,i.jsx)("span",{className:"label",children:xe.label})})})}return(0,i.jsx)(Hn,{value:G,handleChange:fe,optionList:he})},Ts=(0,o.memo)(wo),Os=(0,S.DU)(["#IBOT_DROPDOWN_MENU_ROOT{.add-outer-member-tip{.content{min-height:fit-content;padding:2px 8px;background-color:#333;.desc{white-space:nowrap;.copy-text{text-decoration:underline;cursor:pointer;}}}}}"]),rs=S.Ay.section.withConfig({displayName:"styles__StyledMemberList",componentId:"sc-12wxg8o-0"})(['margin-bottom:10px;width:406px;&.sharing{.members > .enterTip > span > div{display:flex;flex-direction:column;align-items:center;justify-content:center;}}&[data-expanded="false"]{.members{display:none;}.caption{margin-bottom:15px;}}&+.member-list{margin-top:10px;}.caption{position:relative;display:flex;align-items:center;justify-content:flex-start;padding:0;font-weight:400;font-size:14px;line-height:20px;color:',";span{color:",";}.invite-item{display:flex;align-items:center;height:32px;text-align:center;font-family:PingFang SC;width:fit-content;border-radius:6px;font-weight:500;font-size:14px;color:",";cursor:pointer;position:absolute;right:20px;z-index:1;&:hover{color:",";}&:active{color:",";}.svg-icon{width:32px;color:inherit;& > *{fill:currentColor;}}}.btn-add-collaborator{position:absolute;right:0;display:flex;align-items:center;color:#1883FB;.svg-icon{margin-right:4px;width:12px;height:12px;}}.btn-toggle-expand{margin-left:10px;user-select:none;color:#1883FB;cursor:pointer;&.with-red-point{position:relative;&::after{content:'';background:rgb(228,33,33);position:absolute;width:6px;height:6px;top:-2px;left:100%;border-radius:50%;}}}}.members{.item{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;&:hover{background:",";border-radius:4px;}.title,.account,.Select{button{font-weight:500;font-size:14px;line-height:20px;letter-spacing:1.2px;color:#545F6F;.Ellipsis{max-width:60px;&:lang(en){max-width:none;}}}}.title{flex:1;display:flex;justify-content:flex-start;align-items:center;.avatar{width:30px;height:30px;overflow:hidden;border-radius:50%;margin-right:12px;border:1px solid ",";&.avater-name{text-align:center;background:rgb(22,133,252);justify-content:center;color:white;font-size:14px;text-align:center;display:flex;align-items:center;}}.name{width:120px;overflow:hidden;color:#1f292e;white-space:nowrap;text-overflow:ellipsis;}}.account{flex:1;width:160px;color:#999;}.register{display:inline-block;text-align:center;height:22px;line-height:22px;border:1px solid rgb(41,141,248);box-sizing:border-box;border-radius:4px;width:48px;color:rgb(41,141,248);font-size:12px;font-weight:400;margin-left:8px;position:relative;color:red;&:lang(en){display:block;background:#F1F8FF;border:none;color:#1684FC;padding:3px 4px;width:max-content;margin-left:10px;font-weight:500;font-size:12px;line-height:12px;height:auto;}}}}.invite{.item{.title{.name{width:150px;&:lang(en){width:max-content;flex:1;display:flex;align-items:center;}}}.account{width:150px;display:inline-block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;word-break:break-all;&:lang(en){margin:10px;}}}.addOuter{color:#999999;width:108px;text-align:right;.add{font-size:12px;margin-right:2px;}button{color:rgb(91,107,115);position:relative;top:2px;left:4px;}}.enterTip{font-size:12px;color:",";}}.inviteJoin{border-radius:4px;background:#298DF8;color:#fff;font-size:12px;font-weight:400;padding:7px 11px;cursor:pointer;word-break:keep-all;&:lang(en){padding:5px 11px;}}&.dark{.members .item .register{&:lang(en){background:rgba(22,132,252,0.1);}}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover,e=>e.theme.color_text_link_hover,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_share_member__border_color,e=>e.theme.color_AI_Text_Auto_fill_path_hover);var Vn=n(18824);function xn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var As=n(7043),Ls=Number.isNaN||function(a){return typeof a=="number"&&a!==a};function Ps(e,a){return!!(e===a||Ls(e)&&Ls(a))}function _o(e,a){if(e.length!==a.length)return!1;for(var l=0;l<e.length;l++)if(!Ps(e[l],a[l]))return!1;return!0}function So(e,a){a===void 0&&(a=_o);var l,d=[],v,_=!1;function y(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];return _&&l===this&&a(C,d)||(v=e.apply(this,C),_=!0,l=this,d=C),v}return y}const bn=So;var Ds=typeof performance=="object"&&typeof performance.now=="function",as=Ds?function(){return performance.now()}:function(){return Date.now()};function Kn(e){cancelAnimationFrame(e.id)}function Rs(e,a){var l=as();function d(){as()-l>=a?e.call(null):v.id=requestAnimationFrame(d)}var v={id:requestAnimationFrame(d)};return v}var cs=-1;function ls(e){if(e===void 0&&(e=!1),cs===-1||e){var a=document.createElement("div"),l=a.style;l.width="50px",l.height="50px",l.overflow="scroll",document.body.appendChild(a),cs=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return cs}var vn=null;function wn(e){if(e===void 0&&(e=!1),vn===null||e){var a=document.createElement("div"),l=a.style;l.width="50px",l.height="50px",l.overflow="scroll",l.direction="rtl";var d=document.createElement("div"),v=d.style;return v.width="100px",v.height="100px",a.appendChild(d),document.body.appendChild(a),a.scrollLeft>0?vn="positive-descending":(a.scrollLeft=1,a.scrollLeft===0?vn="negative":vn="positive-ascending"),document.body.removeChild(a),vn}return vn}var Zn=150,Co=function(a){var l=a.columnIndex,d=a.data,v=a.rowIndex;return v+":"+l},r=null,t=null,s=null;function g(e){var a,l=e.getColumnOffset,d=e.getColumnStartIndexForOffset,v=e.getColumnStopIndexForStartIndex,_=e.getColumnWidth,y=e.getEstimatedTotalHeight,C=e.getEstimatedTotalWidth,M=e.getOffsetForColumnAndAlignment,W=e.getOffsetForRowAndAlignment,$=e.getRowHeight,X=e.getRowOffset,L=e.getRowStartIndexForOffset,se=e.getRowStopIndexForStartIndex,le=e.initInstanceProps,B=e.shouldResetStyleCacheOnItemSizeChange,ie=e.validateProps;return a=function(ce){(0,As.A)(ae,ce);function ae(he){var G;return G=ce.call(this,he)||this,G._instanceProps=le(G.props,xn(G)),G._resetIsScrollingTimeoutId=null,G._outerRef=void 0,G.state={instance:xn(G),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:typeof G.props.initialScrollLeft=="number"?G.props.initialScrollLeft:0,scrollTop:typeof G.props.initialScrollTop=="number"?G.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},G._callOnItemsRendered=void 0,G._callOnItemsRendered=bn(function(fe,xe,ve,Pe,Ee,Ie,Ve,Be){return G.props.onItemsRendered({overscanColumnStartIndex:fe,overscanColumnStopIndex:xe,overscanRowStartIndex:ve,overscanRowStopIndex:Pe,visibleColumnStartIndex:Ee,visibleColumnStopIndex:Ie,visibleRowStartIndex:Ve,visibleRowStopIndex:Be})}),G._callOnScroll=void 0,G._callOnScroll=bn(function(fe,xe,ve,Pe,Ee){return G.props.onScroll({horizontalScrollDirection:ve,scrollLeft:fe,scrollTop:xe,verticalScrollDirection:Pe,scrollUpdateWasRequested:Ee})}),G._getItemStyle=void 0,G._getItemStyle=function(fe,xe){var ve=G.props,Pe=ve.columnWidth,Ee=ve.direction,Ie=ve.rowHeight,Ve=G._getItemStyleCache(B&&Pe,B&&Ee,B&&Ie),Be=fe+":"+xe,Ge;if(Ve.hasOwnProperty(Be))Ge=Ve[Be];else{var ot=l(G.props,xe,G._instanceProps),it=Ee==="rtl";Ve[Be]=Ge={position:"absolute",left:it?void 0:ot,right:it?ot:void 0,top:X(G.props,fe,G._instanceProps),height:$(G.props,fe,G._instanceProps),width:_(G.props,xe,G._instanceProps)}}return Ge},G._getItemStyleCache=void 0,G._getItemStyleCache=bn(function(fe,xe,ve){return{}}),G._onScroll=function(fe){var xe=fe.currentTarget,ve=xe.clientHeight,Pe=xe.clientWidth,Ee=xe.scrollLeft,Ie=xe.scrollTop,Ve=xe.scrollHeight,Be=xe.scrollWidth;G.setState(function(Ge){if(Ge.scrollLeft===Ee&&Ge.scrollTop===Ie)return null;var ot=G.props.direction,it=Ee;if(ot==="rtl")switch(wn()){case"negative":it=-Ee;break;case"positive-descending":it=Be-Pe-Ee;break}it=Math.max(0,Math.min(it,Be-Pe));var pt=Math.max(0,Math.min(Ie,Ve-ve));return{isScrolling:!0,horizontalScrollDirection:Ge.scrollLeft<Ee?"forward":"backward",scrollLeft:it,scrollTop:pt,verticalScrollDirection:Ge.scrollTop<Ie?"forward":"backward",scrollUpdateWasRequested:!1}},G._resetIsScrollingDebounced)},G._outerRefSetter=function(fe){var xe=G.props.outerRef;G._outerRef=fe,typeof xe=="function"?xe(fe):xe!=null&&typeof xe=="object"&&xe.hasOwnProperty("current")&&(xe.current=fe)},G._resetIsScrollingDebounced=function(){G._resetIsScrollingTimeoutId!==null&&Kn(G._resetIsScrollingTimeoutId),G._resetIsScrollingTimeoutId=Rs(G._resetIsScrolling,Zn)},G._resetIsScrolling=function(){G._resetIsScrollingTimeoutId=null,G.setState({isScrolling:!1},function(){G._getItemStyleCache(-1)})},G}ae.getDerivedStateFromProps=function(G,fe){return A(G,fe),ie(G),null};var ue=ae.prototype;return ue.scrollTo=function(G){var fe=G.scrollLeft,xe=G.scrollTop;fe!==void 0&&(fe=Math.max(0,fe)),xe!==void 0&&(xe=Math.max(0,xe)),this.setState(function(ve){return fe===void 0&&(fe=ve.scrollLeft),xe===void 0&&(xe=ve.scrollTop),ve.scrollLeft===fe&&ve.scrollTop===xe?null:{horizontalScrollDirection:ve.scrollLeft<fe?"forward":"backward",scrollLeft:fe,scrollTop:xe,scrollUpdateWasRequested:!0,verticalScrollDirection:ve.scrollTop<xe?"forward":"backward"}},this._resetIsScrollingDebounced)},ue.scrollToItem=function(G){var fe=G.align,xe=fe===void 0?"auto":fe,ve=G.columnIndex,Pe=G.rowIndex,Ee=this.props,Ie=Ee.columnCount,Ve=Ee.height,Be=Ee.rowCount,Ge=Ee.width,ot=this.state,it=ot.scrollLeft,pt=ot.scrollTop,ht=ls();ve!==void 0&&(ve=Math.max(0,Math.min(ve,Ie-1))),Pe!==void 0&&(Pe=Math.max(0,Math.min(Pe,Be-1)));var Mt=y(this.props,this._instanceProps),We=C(this.props,this._instanceProps),Ae=We>Ge?ht:0,st=Mt>Ve?ht:0;this.scrollTo({scrollLeft:ve!==void 0?M(this.props,ve,xe,it,this._instanceProps,st):it,scrollTop:Pe!==void 0?W(this.props,Pe,xe,pt,this._instanceProps,Ae):pt})},ue.componentDidMount=function(){var G=this.props,fe=G.initialScrollLeft,xe=G.initialScrollTop;if(this._outerRef!=null){var ve=this._outerRef;typeof fe=="number"&&(ve.scrollLeft=fe),typeof xe=="number"&&(ve.scrollTop=xe)}this._callPropsCallbacks()},ue.componentDidUpdate=function(){var G=this.props.direction,fe=this.state,xe=fe.scrollLeft,ve=fe.scrollTop,Pe=fe.scrollUpdateWasRequested;if(Pe&&this._outerRef!=null){var Ee=this._outerRef;if(G==="rtl")switch(wn()){case"negative":Ee.scrollLeft=-xe;break;case"positive-ascending":Ee.scrollLeft=xe;break;default:var Ie=Ee.clientWidth,Ve=Ee.scrollWidth;Ee.scrollLeft=Ve-Ie-xe;break}else Ee.scrollLeft=Math.max(0,xe);Ee.scrollTop=Math.max(0,ve)}this._callPropsCallbacks()},ue.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Kn(this._resetIsScrollingTimeoutId)},ue.render=function(){var G=this.props,fe=G.children,xe=G.className,ve=G.columnCount,Pe=G.direction,Ee=G.height,Ie=G.innerRef,Ve=G.innerElementType,Be=G.innerTagName,Ge=G.itemData,ot=G.itemKey,it=ot===void 0?Co:ot,pt=G.outerElementType,ht=G.outerTagName,Mt=G.rowCount,We=G.style,Ae=G.useIsScrolling,st=G.width,Ot=this.state.isScrolling,zt=this._getHorizontalRangeToRender(),pn=zt[0],ds=zt[1],_t=this._getVerticalRangeToRender(),Yn=_t[0],jo=_t[1],Fs=[];if(ve>0&&Mt)for(var An=Yn;An<=jo;An++)for(var qt=pn;qt<=ds;qt++)Fs.push((0,o.createElement)(fe,{columnIndex:qt,data:Ge,isScrolling:Ae?Ot:void 0,key:it({columnIndex:qt,data:Ge,rowIndex:An}),rowIndex:An,style:this._getItemStyle(An,qt)}));var Yt=y(this.props,this._instanceProps),pi=C(this.props,this._instanceProps);return(0,o.createElement)(pt||ht||"div",{className:xe,onScroll:this._onScroll,ref:this._outerRefSetter,style:(0,Vn.A)({position:"relative",height:Ee,width:st,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:Pe},We)},(0,o.createElement)(Ve||Be||"div",{children:Fs,ref:Ie,style:{height:Yt,pointerEvents:Ot?"none":void 0,width:pi}}))},ue._callPropsCallbacks=function(){var G=this.props,fe=G.columnCount,xe=G.onItemsRendered,ve=G.onScroll,Pe=G.rowCount;if(typeof xe=="function"&&fe>0&&Pe>0){var Ee=this._getHorizontalRangeToRender(),Ie=Ee[0],Ve=Ee[1],Be=Ee[2],Ge=Ee[3],ot=this._getVerticalRangeToRender(),it=ot[0],pt=ot[1],ht=ot[2],Mt=ot[3];this._callOnItemsRendered(Ie,Ve,it,pt,Be,Ge,ht,Mt)}if(typeof ve=="function"){var We=this.state,Ae=We.horizontalScrollDirection,st=We.scrollLeft,Ot=We.scrollTop,zt=We.scrollUpdateWasRequested,pn=We.verticalScrollDirection;this._callOnScroll(st,Ot,Ae,pn,zt)}},ue._getHorizontalRangeToRender=function(){var G=this.props,fe=G.columnCount,xe=G.overscanColumnCount,ve=G.overscanColumnsCount,Pe=G.overscanCount,Ee=G.rowCount,Ie=this.state,Ve=Ie.horizontalScrollDirection,Be=Ie.isScrolling,Ge=Ie.scrollLeft,ot=xe||ve||Pe||1;if(fe===0||Ee===0)return[0,0,0,0];var it=d(this.props,Ge,this._instanceProps),pt=v(this.props,it,Ge,this._instanceProps),ht=!Be||Ve==="backward"?Math.max(1,ot):1,Mt=!Be||Ve==="forward"?Math.max(1,ot):1;return[Math.max(0,it-ht),Math.max(0,Math.min(fe-1,pt+Mt)),it,pt]},ue._getVerticalRangeToRender=function(){var G=this.props,fe=G.columnCount,xe=G.overscanCount,ve=G.overscanRowCount,Pe=G.overscanRowsCount,Ee=G.rowCount,Ie=this.state,Ve=Ie.isScrolling,Be=Ie.verticalScrollDirection,Ge=Ie.scrollTop,ot=ve||Pe||xe||1;if(fe===0||Ee===0)return[0,0,0,0];var it=L(this.props,Ge,this._instanceProps),pt=se(this.props,it,Ge,this._instanceProps),ht=!Ve||Be==="backward"?Math.max(1,ot):1,Mt=!Ve||Be==="forward"?Math.max(1,ot):1;return[Math.max(0,it-ht),Math.max(0,Math.min(Ee-1,pt+Mt)),it,pt]},ae}(o.PureComponent),a.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},a}var A=function(a,l){var d=a.children,v=a.direction,_=a.height,y=a.innerTagName,C=a.outerTagName,M=a.overscanColumnsCount,W=a.overscanCount,$=a.overscanRowsCount,X=a.width,L=l.instance},oe=50,Se=function(a,l){var d=a.rowCount,v=l.rowMetadataMap,_=l.estimatedRowHeight,y=l.lastMeasuredRowIndex,C=0;if(y>=d&&(y=d-1),y>=0){var M=v[y];C=M.offset+M.size}var W=d-y-1,$=W*_;return C+$},Ce=function(a,l){var d=a.columnCount,v=l.columnMetadataMap,_=l.estimatedColumnWidth,y=l.lastMeasuredColumnIndex,C=0;if(y>=d&&(y=d-1),y>=0){var M=v[y];C=M.offset+M.size}var W=d-y-1,$=W*_;return C+$},Ne=function(a,l,d,v){var _,y,C;if(a==="column"?(_=v.columnMetadataMap,y=l.columnWidth,C=v.lastMeasuredColumnIndex):(_=v.rowMetadataMap,y=l.rowHeight,C=v.lastMeasuredRowIndex),d>C){var M=0;if(C>=0){var W=_[C];M=W.offset+W.size}for(var $=C+1;$<=d;$++){var X=y($);_[$]={offset:M,size:X},M+=X}a==="column"?v.lastMeasuredColumnIndex=d:v.lastMeasuredRowIndex=d}return _[d]},Re=function(a,l,d,v){var _,y;a==="column"?(_=d.columnMetadataMap,y=d.lastMeasuredColumnIndex):(_=d.rowMetadataMap,y=d.lastMeasuredRowIndex);var C=y>0?_[y].offset:0;return C>=v?Te(a,l,d,y,0,v):He(a,l,d,Math.max(0,y),v)},Te=function(a,l,d,v,_,y){for(;_<=v;){var C=_+Math.floor((v-_)/2),M=Ne(a,l,C,d).offset;if(M===y)return C;M<y?_=C+1:M>y&&(v=C-1)}return _>0?_-1:0},He=function(a,l,d,v,_){for(var y=a==="column"?l.columnCount:l.rowCount,C=1;v<y&&Ne(a,l,v,d).offset<_;)v+=C,C*=2;return Te(a,l,d,Math.min(v,y-1),Math.floor(v/2),_)},me=function(a,l,d,v,_,y,C){var M=a==="column"?l.width:l.height,W=Ne(a,l,d,y),$=a==="column"?Ce(l,y):Se(l,y),X=Math.max(0,Math.min($-M,W.offset)),L=Math.max(0,W.offset-M+C+W.size);switch(v==="smart"&&(_>=L-M&&_<=X+M?v="auto":v="center"),v){case"start":return X;case"end":return L;case"center":return Math.round(L+(X-L)/2);case"auto":default:return _>=L&&_<=X?_:L>X||_<L?L:X}},ye=g({getColumnOffset:function(a,l,d){return Ne("column",a,l,d).offset},getColumnStartIndexForOffset:function(a,l,d){return Re("column",a,d,l)},getColumnStopIndexForStartIndex:function(a,l,d,v){for(var _=a.columnCount,y=a.width,C=Ne("column",a,l,v),M=d+y,W=C.offset+C.size,$=l;$<_-1&&W<M;)$++,W+=Ne("column",a,$,v).size;return $},getColumnWidth:function(a,l,d){return d.columnMetadataMap[l].size},getEstimatedTotalHeight:Se,getEstimatedTotalWidth:Ce,getOffsetForColumnAndAlignment:function(a,l,d,v,_,y){return me("column",a,l,d,v,_,y)},getOffsetForRowAndAlignment:function(a,l,d,v,_,y){return me("row",a,l,d,v,_,y)},getRowOffset:function(a,l,d){return Ne("row",a,l,d).offset},getRowHeight:function(a,l,d){return d.rowMetadataMap[l].size},getRowStartIndexForOffset:function(a,l,d){return Re("row",a,d,l)},getRowStopIndexForStartIndex:function(a,l,d,v){for(var _=a.rowCount,y=a.height,C=Ne("row",a,l,v),M=d+y,W=C.offset+C.size,$=l;$<_-1&&W<M;)$++,W+=Ne("row",a,$,v).size;return $},initInstanceProps:function(a,l){var d=a,v=d.estimatedColumnWidth,_=d.estimatedRowHeight,y={columnMetadataMap:{},estimatedColumnWidth:v||oe,estimatedRowHeight:_||oe,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return l.resetAfterColumnIndex=function(C,M){M===void 0&&(M=!0),l.resetAfterIndices({columnIndex:C,shouldForceUpdate:M})},l.resetAfterRowIndex=function(C,M){M===void 0&&(M=!0),l.resetAfterIndices({rowIndex:C,shouldForceUpdate:M})},l.resetAfterIndices=function(C){var M=C.columnIndex,W=C.rowIndex,$=C.shouldForceUpdate,X=$===void 0?!0:$;typeof M=="number"&&(y.lastMeasuredColumnIndex=Math.min(y.lastMeasuredColumnIndex,M-1)),typeof W=="number"&&(y.lastMeasuredRowIndex=Math.min(y.lastMeasuredRowIndex,W-1)),l._getItemStyleCache(-1),X&&l.forceUpdate()},y},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(a){var l=a.columnWidth,d=a.rowHeight}}),Le=150,Fe=function(a,l){return a},qe=null,bt=null;function dt(e){var a,l=e.getItemOffset,d=e.getEstimatedTotalSize,v=e.getItemSize,_=e.getOffsetForIndexAndAlignment,y=e.getStartIndexForOffset,C=e.getStopIndexForStartIndex,M=e.initInstanceProps,W=e.shouldResetStyleCacheOnItemSizeChange,$=e.validateProps;return a=function(X){(0,As.A)(L,X);function L(le){var B;return B=X.call(this,le)||this,B._instanceProps=M(B.props,xn(B)),B._outerRef=void 0,B._resetIsScrollingTimeoutId=null,B.state={instance:xn(B),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof B.props.initialScrollOffset=="number"?B.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},B._callOnItemsRendered=void 0,B._callOnItemsRendered=bn(function(ie,ce,ae,ue){return B.props.onItemsRendered({overscanStartIndex:ie,overscanStopIndex:ce,visibleStartIndex:ae,visibleStopIndex:ue})}),B._callOnScroll=void 0,B._callOnScroll=bn(function(ie,ce,ae){return B.props.onScroll({scrollDirection:ie,scrollOffset:ce,scrollUpdateWasRequested:ae})}),B._getItemStyle=void 0,B._getItemStyle=function(ie){var ce=B.props,ae=ce.direction,ue=ce.itemSize,he=ce.layout,G=B._getItemStyleCache(W&&ue,W&&he,W&&ae),fe;if(G.hasOwnProperty(ie))fe=G[ie];else{var xe=l(B.props,ie,B._instanceProps),ve=v(B.props,ie,B._instanceProps),Pe=ae==="horizontal"||he==="horizontal",Ee=ae==="rtl",Ie=Pe?xe:0;G[ie]=fe={position:"absolute",left:Ee?void 0:Ie,right:Ee?Ie:void 0,top:Pe?0:xe,height:Pe?"100%":ve,width:Pe?ve:"100%"}}return fe},B._getItemStyleCache=void 0,B._getItemStyleCache=bn(function(ie,ce,ae){return{}}),B._onScrollHorizontal=function(ie){var ce=ie.currentTarget,ae=ce.clientWidth,ue=ce.scrollLeft,he=ce.scrollWidth;B.setState(function(G){if(G.scrollOffset===ue)return null;var fe=B.props.direction,xe=ue;if(fe==="rtl")switch(wn()){case"negative":xe=-ue;break;case"positive-descending":xe=he-ae-ue;break}return xe=Math.max(0,Math.min(xe,he-ae)),{isScrolling:!0,scrollDirection:G.scrollOffset<xe?"forward":"backward",scrollOffset:xe,scrollUpdateWasRequested:!1}},B._resetIsScrollingDebounced)},B._onScrollVertical=function(ie){var ce=ie.currentTarget,ae=ce.clientHeight,ue=ce.scrollHeight,he=ce.scrollTop;B.setState(function(G){if(G.scrollOffset===he)return null;var fe=Math.max(0,Math.min(he,ue-ae));return{isScrolling:!0,scrollDirection:G.scrollOffset<fe?"forward":"backward",scrollOffset:fe,scrollUpdateWasRequested:!1}},B._resetIsScrollingDebounced)},B._outerRefSetter=function(ie){var ce=B.props.outerRef;B._outerRef=ie,typeof ce=="function"?ce(ie):ce!=null&&typeof ce=="object"&&ce.hasOwnProperty("current")&&(ce.current=ie)},B._resetIsScrollingDebounced=function(){B._resetIsScrollingTimeoutId!==null&&Kn(B._resetIsScrollingTimeoutId),B._resetIsScrollingTimeoutId=Rs(B._resetIsScrolling,Le)},B._resetIsScrolling=function(){B._resetIsScrollingTimeoutId=null,B.setState({isScrolling:!1},function(){B._getItemStyleCache(-1,null)})},B}L.getDerivedStateFromProps=function(B,ie){return At(B,ie),$(B),null};var se=L.prototype;return se.scrollTo=function(B){B=Math.max(0,B),this.setState(function(ie){return ie.scrollOffset===B?null:{scrollDirection:ie.scrollOffset<B?"forward":"backward",scrollOffset:B,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},se.scrollToItem=function(B,ie){ie===void 0&&(ie="auto");var ce=this.props,ae=ce.itemCount,ue=ce.layout,he=this.state.scrollOffset;B=Math.max(0,Math.min(B,ae-1));var G=0;if(this._outerRef){var fe=this._outerRef;ue==="vertical"?G=fe.scrollWidth>fe.clientWidth?ls():0:G=fe.scrollHeight>fe.clientHeight?ls():0}this.scrollTo(_(this.props,B,ie,he,this._instanceProps,G))},se.componentDidMount=function(){var B=this.props,ie=B.direction,ce=B.initialScrollOffset,ae=B.layout;if(typeof ce=="number"&&this._outerRef!=null){var ue=this._outerRef;ie==="horizontal"||ae==="horizontal"?ue.scrollLeft=ce:ue.scrollTop=ce}this._callPropsCallbacks()},se.componentDidUpdate=function(){var B=this.props,ie=B.direction,ce=B.layout,ae=this.state,ue=ae.scrollOffset,he=ae.scrollUpdateWasRequested;if(he&&this._outerRef!=null){var G=this._outerRef;if(ie==="horizontal"||ce==="horizontal")if(ie==="rtl")switch(wn()){case"negative":G.scrollLeft=-ue;break;case"positive-ascending":G.scrollLeft=ue;break;default:var fe=G.clientWidth,xe=G.scrollWidth;G.scrollLeft=xe-fe-ue;break}else G.scrollLeft=ue;else G.scrollTop=ue}this._callPropsCallbacks()},se.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Kn(this._resetIsScrollingTimeoutId)},se.render=function(){var B=this.props,ie=B.children,ce=B.className,ae=B.direction,ue=B.height,he=B.innerRef,G=B.innerElementType,fe=B.innerTagName,xe=B.itemCount,ve=B.itemData,Pe=B.itemKey,Ee=Pe===void 0?Fe:Pe,Ie=B.layout,Ve=B.outerElementType,Be=B.outerTagName,Ge=B.style,ot=B.useIsScrolling,it=B.width,pt=this.state.isScrolling,ht=ae==="horizontal"||Ie==="horizontal",Mt=ht?this._onScrollHorizontal:this._onScrollVertical,We=this._getRangeToRender(),Ae=We[0],st=We[1],Ot=[];if(xe>0)for(var zt=Ae;zt<=st;zt++)Ot.push((0,o.createElement)(ie,{data:ve,key:Ee(zt,ve),index:zt,isScrolling:ot?pt:void 0,style:this._getItemStyle(zt)}));var pn=d(this.props,this._instanceProps);return(0,o.createElement)(Ve||Be||"div",{className:ce,onScroll:Mt,ref:this._outerRefSetter,style:(0,Vn.A)({position:"relative",height:ue,width:it,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:ae},Ge)},(0,o.createElement)(G||fe||"div",{children:Ot,ref:he,style:{height:ht?"100%":pn,pointerEvents:pt?"none":void 0,width:ht?pn:"100%"}}))},se._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var B=this.props.itemCount;if(B>0){var ie=this._getRangeToRender(),ce=ie[0],ae=ie[1],ue=ie[2],he=ie[3];this._callOnItemsRendered(ce,ae,ue,he)}}if(typeof this.props.onScroll=="function"){var G=this.state,fe=G.scrollDirection,xe=G.scrollOffset,ve=G.scrollUpdateWasRequested;this._callOnScroll(fe,xe,ve)}},se._getRangeToRender=function(){var B=this.props,ie=B.itemCount,ce=B.overscanCount,ae=this.state,ue=ae.isScrolling,he=ae.scrollDirection,G=ae.scrollOffset;if(ie===0)return[0,0,0,0];var fe=y(this.props,G,this._instanceProps),xe=C(this.props,fe,G,this._instanceProps),ve=!ue||he==="backward"?Math.max(1,ce):1,Pe=!ue||he==="forward"?Math.max(1,ce):1;return[Math.max(0,fe-ve),Math.max(0,Math.min(ie-1,xe+Pe)),fe,xe]},L}(o.PureComponent),a.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},a}var At=function(a,l){var d=a.children,v=a.direction,_=a.height,y=a.layout,C=a.innerTagName,M=a.outerTagName,W=a.width,$=l.instance;if(0)var X},Et=50,Nt=function(a,l,d){var v=a,_=v.itemSize,y=d.itemMetadataMap,C=d.lastMeasuredIndex;if(l>C){var M=0;if(C>=0){var W=y[C];M=W.offset+W.size}for(var $=C+1;$<=l;$++){var X=_($);y[$]={offset:M,size:X},M+=X}d.lastMeasuredIndex=l}return y[l]},Je=function(a,l,d){var v=l.itemMetadataMap,_=l.lastMeasuredIndex,y=_>0?v[_].offset:0;return y>=d?De(a,l,_,0,d):$e(a,l,Math.max(0,_),d)},De=function(a,l,d,v,_){for(;v<=d;){var y=v+Math.floor((d-v)/2),C=Nt(a,y,l).offset;if(C===_)return y;C<_?v=y+1:C>_&&(d=y-1)}return v>0?v-1:0},$e=function(a,l,d,v){for(var _=a.itemCount,y=1;d<_&&Nt(a,d,l).offset<v;)d+=y,y*=2;return De(a,l,Math.min(d,_-1),Math.floor(d/2),v)},Ke=function(a,l){var d=a.itemCount,v=l.itemMetadataMap,_=l.estimatedItemSize,y=l.lastMeasuredIndex,C=0;if(y>=d&&(y=d-1),y>=0){var M=v[y];C=M.offset+M.size}var W=d-y-1,$=W*_;return C+$},tt=dt({getItemOffset:function(a,l,d){return Nt(a,l,d).offset},getItemSize:function(a,l,d){return d.itemMetadataMap[l].size},getEstimatedTotalSize:Ke,getOffsetForIndexAndAlignment:function(a,l,d,v,_,y){var C=a.direction,M=a.height,W=a.layout,$=a.width,X=C==="horizontal"||W==="horizontal",L=X?$:M,se=Nt(a,l,_),le=Ke(a,_),B=Math.max(0,Math.min(le-L,se.offset)),ie=Math.max(0,se.offset-L+se.size+y);switch(d==="smart"&&(v>=ie-L&&v<=B+L?d="auto":d="center"),d){case"start":return B;case"end":return ie;case"center":return Math.round(ie+(B-ie)/2);case"auto":default:return v>=ie&&v<=B?v:v<ie?ie:B}},getStartIndexForOffset:function(a,l,d){return Je(a,d,l)},getStopIndexForStartIndex:function(a,l,d,v){for(var _=a.direction,y=a.height,C=a.itemCount,M=a.layout,W=a.width,$=_==="horizontal"||M==="horizontal",X=$?W:y,L=Nt(a,l,v),se=d+X,le=L.offset+L.size,B=l;B<C-1&&le<se;)B++,le+=Nt(a,B,v).size;return B},initInstanceProps:function(a,l){var d=a,v=d.estimatedItemSize,_={itemMetadataMap:{},estimatedItemSize:v||Et,lastMeasuredIndex:-1};return l.resetAfterIndex=function(y,C){C===void 0&&(C=!0),_.lastMeasuredIndex=Math.min(_.lastMeasuredIndex,y-1),l._getItemStyleCache(-1),C&&l.forceUpdate()},_},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(a){var l=a.itemSize}}),nt=g({getColumnOffset:function(a,l){var d=a.columnWidth;return l*d},getColumnWidth:function(a,l){var d=a.columnWidth;return d},getRowOffset:function(a,l){var d=a.rowHeight;return l*d},getRowHeight:function(a,l){var d=a.rowHeight;return d},getEstimatedTotalHeight:function(a){var l=a.rowCount,d=a.rowHeight;return d*l},getEstimatedTotalWidth:function(a){var l=a.columnCount,d=a.columnWidth;return d*l},getOffsetForColumnAndAlignment:function(a,l,d,v,_,y){var C=a.columnCount,M=a.columnWidth,W=a.width,$=Math.max(0,C*M-W),X=Math.min($,l*M),L=Math.max(0,l*M-W+y+M);switch(d==="smart"&&(v>=L-W&&v<=X+W?d="auto":d="center"),d){case"start":return X;case"end":return L;case"center":var se=Math.round(L+(X-L)/2);return se<Math.ceil(W/2)?0:se>$+Math.floor(W/2)?$:se;case"auto":default:return v>=L&&v<=X?v:L>X||v<L?L:X}},getOffsetForRowAndAlignment:function(a,l,d,v,_,y){var C=a.rowHeight,M=a.height,W=a.rowCount,$=Math.max(0,W*C-M),X=Math.min($,l*C),L=Math.max(0,l*C-M+y+C);switch(d==="smart"&&(v>=L-M&&v<=X+M?d="auto":d="center"),d){case"start":return X;case"end":return L;case"center":var se=Math.round(L+(X-L)/2);return se<Math.ceil(M/2)?0:se>$+Math.floor(M/2)?$:se;case"auto":default:return v>=L&&v<=X?v:L>X||v<L?L:X}},getColumnStartIndexForOffset:function(a,l){var d=a.columnWidth,v=a.columnCount;return Math.max(0,Math.min(v-1,Math.floor(l/d)))},getColumnStopIndexForStartIndex:function(a,l,d){var v=a.columnWidth,_=a.columnCount,y=a.width,C=l*v,M=Math.ceil((y+d-C)/v);return Math.max(0,Math.min(_-1,l+M-1))},getRowStartIndexForOffset:function(a,l){var d=a.rowHeight,v=a.rowCount;return Math.max(0,Math.min(v-1,Math.floor(l/d)))},getRowStopIndexForStartIndex:function(a,l,d){var v=a.rowHeight,_=a.rowCount,y=a.height,C=l*v,M=Math.ceil((y+d-C)/v);return Math.max(0,Math.min(_-1,l+M-1))},initInstanceProps:function(a){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(a){var l=a.columnWidth,d=a.rowHeight}}),kt=dt({getItemOffset:function(a,l){var d=a.itemSize;return l*d},getItemSize:function(a,l){var d=a.itemSize;return d},getEstimatedTotalSize:function(a){var l=a.itemCount,d=a.itemSize;return d*l},getOffsetForIndexAndAlignment:function(a,l,d,v,_,y){var C=a.direction,M=a.height,W=a.itemCount,$=a.itemSize,X=a.layout,L=a.width,se=C==="horizontal"||X==="horizontal",le=se?L:M,B=Math.max(0,W*$-le),ie=Math.min(B,l*$),ce=Math.max(0,l*$-le+$+y);switch(d==="smart"&&(v>=ce-le&&v<=ie+le?d="auto":d="center"),d){case"start":return ie;case"end":return ce;case"center":{var ae=Math.round(ce+(ie-ce)/2);return ae<Math.ceil(le/2)?0:ae>B+Math.floor(le/2)?B:ae}case"auto":default:return v>=ce&&v<=ie?v:v<ce?ce:ie}},getStartIndexForOffset:function(a,l){var d=a.itemCount,v=a.itemSize;return Math.max(0,Math.min(d-1,Math.floor(l/v)))},getStopIndexForStartIndex:function(a,l,d){var v=a.direction,_=a.height,y=a.itemCount,C=a.itemSize,M=a.layout,W=a.width,$=v==="horizontal"||M==="horizontal",X=l*C,L=$?W:_,se=Math.ceil((L+d-X)/C);return Math.max(0,Math.min(y-1,l+se-1))},initInstanceProps:function(a){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(a){var l=a.itemSize}});function Tt(e,a){for(var l in e)if(!(l in a))return!0;for(var d in a)if(e[d]!==a[d])return!0;return!1}var Ct=null,je=null;function Xe(e,a){var l=e.style,d=_objectWithoutPropertiesLoose(e,Ct),v=a.style,_=_objectWithoutPropertiesLoose(a,je);return!Tt(l,v)&&!Tt(d,_)}function Rt(e,a){return!Xe(this.props,e)||Tt(this.state,a)}let ft;typeof window<"u"?ft=window:typeof self<"u"?ft=self:ft=n.g;let tn=null,Xt=null;const Zt=20,un=ft.clearTimeout,Eo=ft.setTimeout,No=ft.cancelAnimationFrame||ft.mozCancelAnimationFrame||ft.webkitCancelAnimationFrame,ko=ft.requestAnimationFrame||ft.mozRequestAnimationFrame||ft.webkitRequestAnimationFrame;No==null||ko==null?(tn=un,Xt=function(a){return Eo(a,Zt)}):(tn=function(a){let[l,d]=a;No(l),un(d)},Xt=function(a){const l=ko(function(){un(d),a()}),d=Eo(function(){No(l),a()},Zt);return[l,d]});function Do(e){let a,l,d,v,_,y,C;const M=typeof document<"u"&&document.attachEvent;if(!M){y=function(ce){const ae=ce.__resizeTriggers__,ue=ae.firstElementChild,he=ae.lastElementChild,G=ue.firstElementChild;he.scrollLeft=he.scrollWidth,he.scrollTop=he.scrollHeight,G.style.width=ue.offsetWidth+1+"px",G.style.height=ue.offsetHeight+1+"px",ue.scrollLeft=ue.scrollWidth,ue.scrollTop=ue.scrollHeight},_=function(ce){return ce.offsetWidth!==ce.__resizeLast__.width||ce.offsetHeight!==ce.__resizeLast__.height},C=function(ce){if(ce.target.className&&typeof ce.target.className.indexOf=="function"&&ce.target.className.indexOf("contract-trigger")<0&&ce.target.className.indexOf("expand-trigger")<0)return;const ae=this;y(this),this.__resizeRAF__&&tn(this.__resizeRAF__),this.__resizeRAF__=Xt(function(){_(ae)&&(ae.__resizeLast__.width=ae.offsetWidth,ae.__resizeLast__.height=ae.offsetHeight,ae.__resizeListeners__.forEach(function(G){G.call(ae,ce)}))})};let L=!1,se="";d="animationstart";const le="Webkit Moz O ms".split(" ");let B="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),ie="";{const ce=document.createElement("fakeelement");if(ce.style.animationName!==void 0&&(L=!0),L===!1){for(let ae=0;ae<le.length;ae++)if(ce.style[le[ae]+"AnimationName"]!==void 0){ie=le[ae],se="-"+ie.toLowerCase()+"-",d=B[ae],L=!0;break}}}l="resizeanim",a="@"+se+"keyframes "+l+" { from { opacity: 0; } to { opacity: 0; } } ",v=se+"animation: 1ms "+l+"; "}const W=function(L){if(!L.getElementById("detectElementResize")){const se=(a||"")+".resize-triggers { "+(v||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',le=L.head||L.getElementsByTagName("head")[0],B=L.createElement("style");B.id="detectElementResize",B.type="text/css",e!=null&&B.setAttribute("nonce",e),B.styleSheet?B.styleSheet.cssText=se:B.appendChild(L.createTextNode(se)),le.appendChild(B)}};return{addResizeListener:function(L,se){if(M)L.attachEvent("onresize",se);else{if(!L.__resizeTriggers__){const le=L.ownerDocument,B=ft.getComputedStyle(L);B&&B.position==="static"&&(L.style.position="relative"),W(le),L.__resizeLast__={},L.__resizeListeners__=[],(L.__resizeTriggers__=le.createElement("div")).className="resize-triggers";const ie=le.createElement("div");ie.className="expand-trigger",ie.appendChild(le.createElement("div"));const ce=le.createElement("div");ce.className="contract-trigger",L.__resizeTriggers__.appendChild(ie),L.__resizeTriggers__.appendChild(ce),L.appendChild(L.__resizeTriggers__),y(L),L.addEventListener("scroll",C,!0),d&&(L.__resizeTriggers__.__animationListener__=function(ue){ue.animationName===l&&y(L)},L.__resizeTriggers__.addEventListener(d,L.__resizeTriggers__.__animationListener__))}L.__resizeListeners__.push(se)}},removeResizeListener:function(L,se){if(M)L.detachEvent("onresize",se);else if(L.__resizeListeners__.splice(L.__resizeListeners__.indexOf(se),1),!L.__resizeListeners__.length){L.removeEventListener("scroll",C,!0),L.__resizeTriggers__.__animationListener__&&(L.__resizeTriggers__.removeEventListener(d,L.__resizeTriggers__.__animationListener__),L.__resizeTriggers__.__animationListener__=null);try{L.__resizeTriggers__=!L.removeChild(L.__resizeTriggers__)}catch(le){}}}}}class Ro extends o.Component{constructor(){super(...arguments),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:a,disableWidth:l,onResize:d}=this.props;if(this._parentNode){const v=window.getComputedStyle(this._parentNode)||{},_=parseFloat(v.paddingLeft||"0"),y=parseFloat(v.paddingRight||"0"),C=parseFloat(v.paddingTop||"0"),M=parseFloat(v.paddingBottom||"0"),W=this._parentNode.getBoundingClientRect(),$=W.height-C-M,X=W.width-_-y,L=this._parentNode.offsetHeight-C-M,se=this._parentNode.offsetWidth-_-y;(!a&&(this.state.height!==L||this.state.scaledHeight!==$)||!l&&(this.state.width!==se||this.state.scaledWidth!==X))&&(this.setState({height:L,width:se,scaledHeight:$,scaledWidth:X}),typeof d=="function"&&d({height:L,scaledHeight:$,scaledWidth:X,width:se}))}},this._setRef=a=>{this._autoSizer=a}}componentDidMount(){const{nonce:a}=this.props;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._parentNode!=null&&(typeof ResizeObserver<"u"?(this._resizeObserver=new ResizeObserver(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=Do(a),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}render(){const{children:a,defaultHeight:l,defaultWidth:d,disableHeight:v=!1,disableWidth:_=!1,nonce:y,onResize:C,style:M={},tagName:W="div",...$}=this.props,{height:X,scaledHeight:L,scaledWidth:se,width:le}=this.state,B={overflow:"visible"},ie={};let ce=!1;return v||(X===0&&(ce=!0),B.height=0,ie.height=X,ie.scaledHeight=L),_||(le===0&&(ce=!0),B.width=0,ie.width=le,ie.scaledWidth=se),(0,o.createElement)(W,{ref:this._setRef,style:{...B,...M},...$},!ce&&a(ie))}}function hi(e){return e&&e.disableHeight!==!0&&e.disableWidth!==!0}function mi(e){return e&&e.disableHeight!==!0&&e.disableWidth===!0}function gi(e){return e&&e.disableHeight===!0&&e.disableWidth!==!0}const Bo=(0,o.memo)(e=>{let{className:a,itemCount:l,itemSize:d,itemData:v,renderItem:_,onItemCountChange:y,onListRef:C}=e;const M=o.createRef();return(0,o.useEffect)(()=>{M.current&&y&&y(M)},[l,M,y]),(0,o.useEffect)(()=>{M.current&&C&&C(M)},[M,C]),(0,i.jsx)(Ro,{children:W=>{let{width:$,height:X=0}=W;return(0,i.jsx)(kt,{ref:M,className:a,itemCount:l,itemSize:d,itemData:v,height:X,width:$,children:_})}})}),Fo=e=>{const{theme:a,caption:l,captionExtra:d,className:v,permissionScope:_,memberList:y,isOnlyOneManager:C,readOnly:M,readOnlyTooltip:W,expandable:$,defaultExpanded:X=!0,isResetPermission:L=!1,children:se,onPermissionChange:le,onChangeHeight:B,isMemberList:ie,onlyTitle:ce,isUseVirtualizedRender:ae=!1,onClickInviteButton:ue,isShowInviteButton:he=!1}=e,[G,fe]=(0,o.useState)(X),xe=(0,o.useCallback)(()=>{fe(Ie=>!Ie),B&&B()},[B]),ve=(0,o.useCallback)(Ie=>{var Ve;const{avatar:Be,name:Ge}=Ie;return Be&&!Be.includes("/images/avatar.png")?(0,i.jsx)("img",{className:"avatar",src:Ie.avatar,alt:Ie.name}):(0,i.jsx)("div",{className:"avatar avater-name",children:Ge==null||(Ve=Ge.slice(0,1))==null?void 0:Ve.toUpperCase()})},[]),Pe=(Ie,Ve)=>(0,i.jsxs)("div",{className:"item",style:Ve,children:[(0,i.jsxs)("span",{className:"title",children:[ve(Ie),(0,i.jsx)("span",{className:"name",children:Ie.name})]}),(0,i.jsx)("span",{className:"account",children:Ie.email||Ie.mobile}),(0,i.jsx)(Ts,{readOnly:M,readOnlyTooltip:W,member:Ie,isReset:L,isOnlyOneManager:C,permissionScope:_,onPermissionChange:le})]},Ie.user_cid),Ee=Ie=>{let{data:Ve,index:Be,style:Ge}=Ie;const{memberList:ot}=Ve;return Pe(ot[Be],Ge)};return(0,i.jsxs)(rs,{className:w()("member-list",a,v&&v,ae&&"use-virtualized-list"),"data-expanded":G,children:[$&&(0,i.jsxs)("h5",{className:"caption",children:[(0,i.jsx)("span",{children:l}),he&&!(!ce&&$&&!ie)&&(0,i.jsxs)("div",{className:"invite-item",onClick:ue,children:[(0,i.jsx)(V.C,{name:"sharing/invite_member"}),I18N.imockSharing.add_collaborator]}),!ce&&$&&!ie&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{children:y.length>0&&"\xB7"+y.length}),(0,i.jsx)("span",{className:w()("btn-toggle-expand"),onClick:xe,children:G?I18N.BasicWidgetsNav.share_collapse:I18N.BasicWidgetsNav.share_view})]}),d]}),se,!!y.length&&(0,i.jsx)("div",{className:"members",children:ae?(0,i.jsx)(Bo,{className:"virtualized-list",itemSize:48,itemCount:y.length,itemData:{memberList:y},renderItem:Ee}):y.map(Ie=>Pe(Ie))})]})},Mo=(0,o.memo)(Fo),zo=S.Ay.div.withConfig({displayName:"style__StyledSearchBox",componentId:"sc-xh4s6x-0"})(["flex:1;position:relative;.icon-search{position:absolute;top:12px;left:12px;width:16px;height:17px;color:#666;}.autoCompleteInput{position:absolute;width:1px;height:1px;top:-2000px;}input{width:100%;height:36px;padding:0 12px 0 12px;border-radius:4px;outline:none;color:",";border:1px solid ",";font-size:14px;&:hover,&:focus{border-color:#298df8;border:1px solid #1883FB;}}"],e=>e.theme.color_text_L1,e=>e.theme.color_bg_border_02),Uo=e=>{const{value:a,onChange:l,onKeyPress:d}=e,v=y=>{l(y.currentTarget.value)},_=y=>{y.key==="Enter"&&d(y.currentTarget.value)};return(0,i.jsx)(zo,{className:"search-box",children:(0,i.jsx)("input",{className:"search-input",placeholder:I18N.imockSharing.search_member,type:"text",value:a,onChange:v,onKeyPress:_})})},Wo=(0,o.memo)(Uo);var To=n(90503);function Ho(e){const{theme:a,caption:l,outerMembers:d,canInvite:v,isSharing:_,handleClickInviteMember:y}=e,C=()=>{const $="\u54C8\u55BD\uFF0C\u7BA1\u7406\u5458\u60A8\u597D\uFF0C\u7533\u8BF7\u5C06"+(d[0].mobile||d[0].email)+"\u52A0\u5165\u300C\u58A8\u5200\u5E73\u53F0-"+l+"\u300D\uFF0C\u52A0\u5165\u540E\u6211\u5C31\u53EF\u4EE5\u548CTA\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~";(0,jn.$)($)},M=!d||d.length<1;return _?(0,i.jsxs)(rs,{className:"member-list sharing "+a,children:[(0,i.jsxs)("div",{className:"members invite",children:[!M&&d.map(W=>(0,i.jsxs)("div",{className:"item",children:[(0,i.jsxs)("span",{className:"title",children:[(0,i.jsx)("img",{className:"avatar",src:W.avatar,alt:W.name}),(0,i.jsxs)("span",{className:"name",children:[W.name,(0,i.jsx)("span",{className:"register",children:W.id?I18N.imockSharing.external:I18N.imockSharing.unregistered})]})]}),(0,i.jsx)("span",{className:"account",children:W.email||W.mobile}),!n.g.ENV.IS_ON_PREMISES&&(v?(0,i.jsx)("span",{className:"inviteJoin",onClick:y,children:I18N.imockSharing.invite_h}):(0,i.jsxs)("div",{className:"addOuter",children:[(0,i.jsx)("span",{className:"add",children:I18N.imockSharing.submit}),(0,i.jsx)(Un.A,{opener:(0,i.jsx)(To.A,{name:"question"}),mode:"dark",menuX:"right",shouldOpenOnHover:!0,hoverDelay:100,menuClassName:"add-outer-member-tip",menu:(0,i.jsxs)("p",{className:"desc",children:["\u590D\u5236\u5E10\u53F7\uFF0C\u63D0\u9192\u7BA1\u7406\u5458\u628ATA\u52A0\u5165\u4F01\u4E1A\uFF0C\u5C31\u53EF\u4EE5\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~",(0,i.jsx)("a",{className:"copy-text",onClick:C,children:I18N.imockSharing.copy})]})})]}))]},W.cid)),M&&(0,i.jsx)("div",{className:"enterTip",children:(0,i.jsx)("span",{children:n.g.ENV.IS_ON_PREMISES?(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:"\u60A8\u627E\u7684\u6210\u5458\u4E0D\u5728\u4F01\u4E1A\u4E2D\uFF0C"}),(0,i.jsx)("br",{}),(0,i.jsx)("span",{children:"\u8BF7\u786E\u8BA4\u300C\u90AE\u7BB1/\u624B\u673A\u53F7\u300D\u91CD\u65B0\u641C\u7D22~"})]}):(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:I18N.imockSharing.member_search_not_in_the_team}})})})]}),(0,i.jsx)(Os,{})]}):(i.Fragment,(0,i.jsxs)(rs,{className:"member-list "+a,children:[(0,i.jsxs)("div",{className:"members invite",children:[!M&&d.map(W=>(0,i.jsxs)("div",{className:"item",children:[(0,i.jsxs)("span",{className:"title",children:[(0,i.jsx)("img",{className:"avatar",src:W.avatar,alt:W.name}),(0,i.jsxs)("span",{className:"name",children:[W.name,(0,i.jsx)("span",{className:"register",children:W.id?I18N.imockSharing.external:I18N.imockSharing.unregistered})]})]}),(0,i.jsx)("span",{className:"account",children:W.email||W.mobile}),!n.g.ENV.IS_ON_PREMISES&&(v?(0,i.jsx)("span",{className:"inviteJoin",onClick:y,children:I18N.imockSharing.invite_h}):(0,i.jsxs)("div",{className:"addOuter",children:[(0,i.jsx)("span",{className:"add",children:I18N.imockSharing.submit}),(0,i.jsx)(Un.A,{opener:(0,i.jsx)(To.A,{name:"question"}),mode:"dark",menuX:"right",shouldOpenOnHover:!0,hoverDelay:100,menuClassName:"add-outer-member-tip",menu:(0,i.jsxs)("p",{className:"desc",children:["\u590D\u5236\u5E10\u53F7\uFF0C\u63D0\u9192\u7BA1\u7406\u5458\u628ATA\u52A0\u5165\u4F01\u4E1A\uFF0C\u5C31\u53EF\u4EE5\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~",(0,i.jsx)("a",{className:"copy-text",onClick:C,children:I18N.imockSharing.copy})]})})]}))]},W.cid)),M&&(0,i.jsx)("div",{className:"enterTip",children:(0,i.jsx)("span",{children:n.g.ENV.IS_ON_PREMISES?(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:"\u60A8\u627E\u7684\u6210\u5458\u4E0D\u5728\u4F01\u4E1A\u4E2D\uFF0C"}),(0,i.jsx)("br",{}),(0,i.jsx)("span",{children:"\u8BF7\u786E\u8BA4\u300C\u90AE\u7BB1/\u624B\u673A\u53F7\u300D\u91CD\u65B0\u641C\u7D22~"})]}):(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:I18N.imockSharing.member_search_not_in_the_team}})})})]}),(0,i.jsx)(Os,{})]}))}const Vo=(0,o.memo)(Ho),Oo=()=>!!Number(sessionStorage.getItem("inClowdz"));function Ko(e){let a="file_editarea-proto-v8-add",l="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0";return a=e?"file_editarea-proto-v8-input-add":"file_editarea-proto-v8-add-direct",l=e?"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u6DFB\u52A0":"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0\u534F\u4F5C\u8005-\u6DFB\u52A0",{trackSourceId:a,trackSource:l}}function Zo(e,a){a===void 0&&(a=!1);let l="file_editarea-proto-v8-invite",d="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u9080\u8BF7\u6210\u5458";return a?(l="file_editarea-proto-v8-input-inviteTA",d="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u9080\u8BF7TA"):(l=e?"file_editarea-proto-v8-input-invite":"file_editarea-proto-v8-add-invite",d=e?"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u9080\u8BF7\u6210\u5458":"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0\u534F\u4F5C\u8005-\u9080\u8BF7\u6210\u5458"),{trackSourceId:l,trackSource:d}}function Ao(e){if(!e)return"";let a="";return e==="org_owner"?a="\u4F01\u4E1A\u6240\u6709\u8005":e==="org_manager"?a="\u8D85\u7EA7\u7BA1\u7406\u5458":e==="org_admin"||e!=null&&e.includes("manager")?a="\u7BA1\u7406\u5458":e!=null&&e.includes("member")?a="\u534F\u4F5C\u6210\u5458":e!=null&&e.includes("viewer")&&(a="\u5BA1\u9605\u6210\u5458"),a}const Lo=(e,a,l)=>{try{const{source_id:d,source:v,step:_,option:y=null}=l;if(!a||!e||ENV.IS_ON_PREMISES||ENV.IS_WONDER_SHARE)return;if((!y||(y==null?void 0:y.results)!==!1)&&d)try{(0,zn.Ds)("/api/dashboard/v5/org/invitation_records",{invitation_record:{user_id:e,org_cid:a,source:d,step:_}})}catch(C){console.log(C.message)}if(_===0)(0,Mn.kH)("invite_members_entrance",{source:v});else if(_===2&&y){const C=Ao(y==null?void 0:y.invitor_role),M=Ao(y==null?void 0:y.invitee_role);(0,Mn.kH)("invite_members_via_add",{source:v,join_space_num:1,has_department:!1,invitor_role:C,invitee_role:M,results:(y==null?void 0:y.results)||!0,error_type:(y==null?void 0:y.error_type)||""})}}catch(d){console.log(d.message)}},Bs=function(e,a,l,d,v){v===void 0&&(v=null);const{trackSourceId:_,trackSource:y}=Ko(l);Lo(e,a,{source_id:_,source:y,step:d,option:v})},Yo=function(e,a,l,d){d===void 0&&(d=!1);const{trackSourceId:v,trackSource:_}=Zo(l,d),y={trackSourceId:v,trackSource:_},C="/workspace/"+a+"/member?openInviteByLinkModal=true&invite_track="+(0,yt._)(y);if(Lo(e,a,{source_id:v,source:_,step:0}),Oo()){location.pathname=C;return}(0,at.JW)(C)},$o=(e,a,l)=>{const[d]=(0,o.useState)(l),v=(0,o.useRef)(0);return(0,o.useEffect)(()=>{d&&v.current>=1||v.current>=2||(Bs(e,a,l,0),v.current+=1)},[!!l]),d||l},Go=S.Ay.div.withConfig({displayName:"styles__StyledInviteMemberOverlay",componentId:"sc-5a6cx0-0"})(["z-index:3;height:100%;width:100%;display:flex;flex-direction:column;align-items:stretch;.overlay-content{flex:1;padding:0 4px;overflow:auto;position:relative;height:calc(100% - ","px);overflow-x:hidden;&::-webkit-scrollbar{display:block;width:4px;height:4px;}.member-list.use-virtualized-list{height:calc(100% - 10px);width:410px;.members{height:100%;.virtualized-list{&::-webkit-scrollbar{display:block;width:4px;height:4px;}}}}}.overlay-content.no-members{.member-list{height:90%;.invite{height:90%;.enterTip{height:100%;display:flex;align-items:center;justify-content:center;&:lang(en){span{display:flex;justify-content:center;div{width:80%;text-align:center;line-height:20px;}}}}}}}.collaboration-remind{position:absolute;bottom:57px;left:0;width:100%;height:29px;color:#FFFFFF;background:#298DF8;padding:0 23px;font-size:12px;line-height:17px;display:flex;justify-content:space-between;align-items:center;.collaboration-remind-close{width:16px;height:16px;cursor:pointer;path{fill:#FFFFFF;}}}.overlay-footer{display:flex;align-items:center;justify-content:space-between;height:","px;padding:0 24px;border-top:1px solid ",";.seats{color:",";font-size:12px;}}"],K.gE,K.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1),Jo=e=>{const{theme:a,keyword:l,source:d,caption:v,permissionScope:_,assignedMembers:y,unassignedMembers:C,outerMember:M,onPermissionChange:W,hostType:$,handleClose:X}=e,L=(0,p.d4)(Ze.wA),se=(0,p.d4)(Ze.cb),le=(0,p.d4)(Ze.WR),{settings:B,seats_taken:ie,total_seats:ce,cid:ae}=L,ue=$o(le,ae,l);let he=!1;(B.invite_permission&&B.invite_permission[0]==="all"||se.isManager)&&(he=!0);const G=()=>{const Ie={mode:"org",orgCid:L.cid,payEntrance:"\u7F16\u8F91\u533A-v8_\u7248\u672C\u7BA1\u7406_\u4E2A\u4EBA\u5347\u4F01\u4E1A",checkoutPlace:"workspace-v8_org_mem_limit",checkoutArea:"proto"};if($==="proto")MB.global.popupHelper.chargeAsync(Ie),X&&X();else{const Ve="/workspace/"+L.cid+"?payment_param="+(0,yt._)(Ie);if(Oo()){location.pathname=Ve;return}(0,at.JW)(Ve)}},fe=(0,o.useMemo)(()=>C.filter(Ie=>Ie.name&&Ie.name.includes(l)||Ie.mobile&&Ie.mobile.includes(l)||Ie.email&&Ie.email.includes(l)),[l,C]),xe=()=>{he&&Yo(le,ae,ue,!0)},ve=(Ie,Ve)=>{W(Ie,Ve),Bs(le,ae,ue,1),M&&Bs(le,ae,ue,2,{invitor_role:se==null?void 0:se.roleName,invitee_role:Ve}),Bs(le,ae,ue,3)},Pe=!fe||fe.length<1,Ee=M?[M]:[];return(0,i.jsxs)(Go,{className:"overlay-adding-member sharing",children:[(0,i.jsxs)("div",{className:w()("overlay-content",!M&&Pe&&"no-members"),children:[!Pe&&(0,i.jsx)(Mo,{theme:a,caption:l?null:I18N.imockSharing.unjoined,expandable:!1,className:w()(l&&"invite"),permissionScope:_,memberList:fe,isResetPermission:!0,onPermissionChange:ve,isUseVirtualizedRender:!0},"filtered-unassigned-members"),Pe&&(0,i.jsx)(Vo,{theme:a,caption:v,outerMembers:Ee,canInvite:he,isSharing:!0,handleClickInviteMember:xe})]}),(0,i.jsxs)("footer",{className:"overlay-footer",children:[(0,i.jsxs)("span",{className:"seats",children:[I18N.imockSharing.members_account,I18N.imockSharing.common_colon,ie,"/",ce]}),!n.g.ENV.IS_ON_PREMISES&&(0,i.jsx)(It.Oc,{type:"primary",size:"tiny",corner:"soft",onClick:G,children:I18N.imockSharing.add_team_seat})]})]})},Qo=(0,o.memo)(Jo),Xo=S.Ay.div.withConfig({displayName:"styles__StyledProjectCollaborators",componentId:"sc-dbcmx0-0"})(["position:relative;display:flex;flex-direction:column;width:500px;height:100%;border-radius:8px;&.sharing{width:100%;&.dark{background:#252626;&.isInviteOverlayOpen{.overlay-adding-member{background:#252626;.overlay-header{.btn-back > svg > path{stroke:rgba(255,255,255,0.9);}.caption{color:rgba(255,255,255,0.9);}}.overlay-content{.member-list > .members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}}}}.nav-header > .title-left{label > button > svg > path{fill:#B8BCBF;}}.modal-content{.collaborators{.member-list > .members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}.inherited-members{.caption > span{color:",";&:last-child{color:#1684FC;}}.members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}}}}}&.isInviteOverlayOpen{.overlay-adding-member{.overlay-header{height:50px;.btn-back{left:20px;}.caption{font-size:14px;font-weight:500;color:",";left:82px;&:lang(en){left:100px;}}}}}& > .blank{height:86px;&.noSearch{height:18px;}}.modal-content{.blank{height:55px;}.collaborators{overflow-y:overlay;.member-list{.caption{padding:10px 20px;& > span{font-weight:500;font-size:12px;}.btn-toggle-expand{color:",";&:hover{color:",";}}.btn-add-collaborator{right:20px;}}.members{margin-top:0;.item{padding:7px 20px;height:48px;.title{flex:none;width:150px;.avatar{width:28px;height:28px;}.name{width:105px;font-weight:400;font-size:14px;line-height:initial;color:#333;}}.account{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}}}}}}}.nav-header{display:flex;padding-left:10px;font-weight:500;font-size:16px;color:",";height:","px;align-items:center;border-bottom:1px solid ",";justify-content:space-between;.title-left{display:flex;align-items:center;.title-left-back{cursor:pointer;display:flex;align-items:center;}.member-manager{cursor:default;margin-left:10px;}svg{margin-top:2px;}.nav-title{color:"," !important;font-size:14px;margin-top:1px;}}.title-close{margin-right:20px;cursor:pointer;.svg-icon{color:",";&:hover{color:",";}&:active{color:",";}}}}.modal-content{display:flex;flex:1;flex-direction:column;align-items:stretch;height:calc(100% - ","px);padding-top:10px;&.modal-content-show-search{height:calc(100% - 116px);}&.in-invite-overlay{padding-top:20px;}.collaborators{padding:0 4px 20px 4px;height:100%;overflow:hidden auto;&::-webkit-scrollbar{display:block;width:4px;height:4px;}}}.search{display:flex;align-items:center;position:relative;margin:0px 20px;padding-top:20px;}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover,e=>e.theme.color_text_L1,K.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,K.gE),qo=e=>{const{theme:a,from:l,caption:d,targetCid:v,permissionScope:_,captionTipType:y,isFolder:C=!1,isAllowSetCollaborators:M,isShowInheritedCollaborators:W=!1,handleBackSharingHandel:$,onChangeMembersAccess:X,handleClose:L,hostType:se,isOnlyMemberManager:le=!1}=e,[B,ie]=(0,o.useState)(""),[ce,ae]=(0,o.useState)(null),[ue,he]=(0,o.useState)(!1),G=(0,an.jB)(),{currentMembers:fe,inheritedMembers:xe,joinedMembers:ve,unjoinedMembers:Pe,assignedMembers:Ee,unassignedMembers:Ie,userCurrentScopePermisson:Ve,isOnlyOneManager:Be}=et(_,v),Ge=Ye(_,v,l),ot=async(_t,Yn)=>{await Ge(_t,Yn),X&&X(_t,Yn)};let it=fe,pt=Ee,ht=Ie;const Mt=Ve.isMember,We=M&&Mt,Ae=!ue&&Mt;M&&!W&&(it=ve,pt=ve,ht=Pe);const st=(0,o.useCallback)(()=>{he(!1),ie(""),ae(null)},[]),Ot=(0,o.useCallback)(_t=>{ie(_t),ae(null),_t&&he(!0)},[]),zt=(0,o.useCallback)(async _t=>{if(!n.g.ENV.IS_ON_PREMISES&&(ie(_t),_t)){const Yn=ht.find(Yt=>Yt.email===_t.trim()||Yt.mobile===_t.trim()),jo=pt.find(Yt=>Yt.email===_t.trim()||Yt.mobile===_t.trim());if(Yn||jo)return;const Fs=ho.test(_t.trim()),An=mo.test(_t.trim());let qt=null;if(Fs?qt=await Ms(_t.trim()):An&&(qt=await Ms(null,_t.trim())),qt){let Yt=null;qt.user?(Yt=qt.user,Yt.name=I18N.imockSharing.to_be_invited,Yt.cid="outer"):Yt={avatar:"/images/avatar.png",cid:_t,email:_t,isNotRegister:!0,name:I18N.imockSharing.to_be_invited},ae(Yt)}}},[]),pn=(0,o.useCallback)(()=>{if(!(le&&!ue)){if(ie(""),ae(null),ue){he(!1);return}$()}},[ue,he,$]),ds=(0,o.useCallback)(()=>{he(!0)},[he]);return(0,i.jsxs)(Xo,{className:w()("ProjectCollaborators sharing",""+a,{isInviteOverlayOpen:!0}),children:[(0,i.jsxs)("div",{className:"nav-header",children:[(0,i.jsxs)("div",{className:"title-left",children:[(0,i.jsxs)("div",{className:w()("title-left-back",{"member-manager":le&&!ue}),onClick:pn,children:[le?ue&&(0,i.jsx)(V.C,{name:"sharing/nav_back",size:32}):(0,i.jsx)(V.C,{name:"sharing/nav_back",size:32}),(0,i.jsx)("div",{className:"nav-title",children:ue?I18N.imockSharing.add_collaborator:I18N.imockSharing.team_collaborator})]}),!ue&&(0,i.jsx)(go,{tipType:y,position:"left",isOnlyMemberManager:le})]}),le&&(0,i.jsx)("div",{className:"title-close",onClick:L,children:(0,i.jsx)(V.C,{size:24,name:"sharing/close"})})]}),We&&(0,i.jsx)("div",{className:w()("search"),children:(0,i.jsx)(Wo,{value:B,onChange:Ot,onKeyPress:zt})}),(0,i.jsx)("div",{className:w()("modal-content",We&&"modal-content-show-search"),children:ue?(0,i.jsx)(Qo,{theme:a,permissionScope:_,unassignedMembers:ht,assignedMembers:pt,outerMember:ce,keyword:B,caption:d,onClose:st,onPermissionChange:ot,handleClose:L,hostType:se}):(0,i.jsxs)("div",{className:w()("collaborators",ue&&"in-invite-overlay"),children:[M&&(0,i.jsx)(Mo,{theme:a,caption:I18N.imockSharing.project_collaborators,permissionScope:_,memberList:it,isOnlyOneManager:Be,isMemberList:!1,expandable:!0,onlyTitle:!0,onPermissionChange:ot,onClickInviteButton:ds,isShowInviteButton:Ae},"current-collaborators"),W&&(0,i.jsx)(Mo,{theme:a,caption:I18N.imockSharing.parent_folder_collaborator,expandable:!0,defaultExpanded:C,readOnly:!0,permissionScope:_,memberList:xe,onPermissionChange:ot,className:"inherited-members",onClickInviteButton:ds,isShowInviteButton:Ae},"inherited-collaborators")]})}),G?(0,i.jsx)(yo,{}):(0,i.jsx)(Es,{})]})},ei=(0,o.memo)(qo);function ti(e){const{theme:a,targetCid:l,isSharing:d,handleBackSharingHandel:v,onChangeMembersAccess:_,handleClose:y,hostType:C,isOnlyMemberManager:M}=e,$=(0,p.d4)(Ze._B).get(l),X=be($==null?void 0:$.team_cid);return!$||X<0?null:(0,i.jsx)(ei,{theme:a,targetCid:l,caption:$.name,isAllowSetCollaborators:!0,isShowInheritedCollaborators:X>=1,captionTipType:k.p.Project,permissionScope:k.W.Project,isSharing:d,handleBackSharingHandel:v,onChangeMembersAccess:_,handleClose:y,hostType:C,isOnlyMemberManager:M})}const ni=(0,o.memo)(ti);var si=n(63686);const oi=e=>{const{user:a,initData:l,currentProject:d,members:v,dispatch:_}=e,y=d==null?void 0:d.cid;return(0,o.useEffect)(()=>{(async M=>{_({type:"entry:projectAccess:initProjectData",payload:{initData:l,members:v}})})(y)},[_,l,v,y,a]),a!=null&&a.id?(0,i.jsx)(ni,{targetCid:y,isSharing:!0,...e}):null},ii=(0,si.Mz)([],()=>({})),ri=(0,p.Ng)(e=>ii(e))(oi);var ai=n(11645),Po=n(87537),ci=n(33520);function li(e){const{getIframeContentHeight:a,handleChangeMembersAccess:l,handleClose:d}=e,v=(0,p.wA)(),_=(0,p.d4)(c.query.getProject),y=(0,p.d4)(c.query.getMembers),C=(0,p.d4)(c.query.getTheme),M=(0,p.d4)(c.query.getTopPageIndex),W=(0,p.d4)(c.query.getHostType),$=(0,p.d4)(c.query.getTabIndex),X=(0,p.d4)(c.query.getMainPage),L=(0,p.d4)(c.query.getLoading),se=(0,p.d4)(c.query.getInitData),le=(0,p.d4)(c.query.getUser),B=(0,p.d4)(c.query.getIsEditMode),ie=(0,p.d4)(c.query.getIsOnlyMemberManager),[ce,ae]=(0,o.useState)(282);(0,o.useEffect)(()=>{let G=555;X!=="access"&&($===0&&M==="edit"?G=212:(M==="embed"||M==="qrCode"||$===0&&M==="setting")&&(G=380)),ae(G),W!=="proto"&&a(G)},[W,$,M,X,a,B]);const ue=(0,o.useCallback)(()=>{v({type:c.entryKey["sharing:init"],payload:{mainPage:"share"}})},[v]);(0,o.useEffect)(()=>{v({type:c.entryKey["sharing:projectAccess:init"]})},[X,v]);const he=(0,o.useCallback)(async(G,fe)=>{l&&l(G,fe)},[l]);return L?(0,i.jsx)(Po.A,{className:w()("sharingBoxV2",""+C,"loading"),children:(0,i.jsx)(ai.A,{})}):(0,i.jsxs)(Po.A,{className:w()("sharingBoxV2",""+C,W==="iframe"&&"in-iframe"),style:{height:ce+"px"},id:"v8-share-page",children:[X==="share"?(0,i.jsx)(po,{}):(0,i.jsx)(ri,{theme:C,user:le,currentProject:_,members:y,initData:se,handleBackSharingHandel:ue,onChangeMembersAccess:he,hostType:W,handleClose:d,isOnlyMemberManager:ie}),(0,i.jsx)(ci.r,{})]})}var di=n(40778);const ui=e=>{let{theme:a,org:l=null,user:d,project:v,flatKey:_,members:y=[],hostType:C="proto",screenMetaList:M,hostSharingData:W,handleClose:$,isOnlyMemberManager:X=!1}=e;const L=u();let se=!0;C!=="iframe"&&(se=(0,di.OB)());try{v&&C!=="iframe"&&(0,Z.E9)({project:v,isEditMode:se,shareSource:"\u9876\u90E8\u5206\u4EAB\u6309\u94AE"})}catch(ie){console.error(ie)}L.dispatch({type:c.entryKey["sharing:init"],payload:{project:v,theme:a,user:d,org:l,flatKey:_,hostType:C,members:y,screenMetaList:M,hostSharingData:W,isEditMode:se}});const le=(0,o.useCallback)(ie=>{window.top.postMessage(JSON.stringify({sharingV2Message:"sharing:height",payload:{height:ie}}),"*")},[]),B=(0,o.useCallback)((ie,ce)=>{window.top.postMessage(JSON.stringify({sharingV2Message:"sharing:changeMembersAccess",payload:{member:ie,value:ce}}),"*")},[]);return C==="iframe"&&X&&(L.dispatch({type:c.entryKey["sharing:init"],payload:{mainPage:"access",isOnlyMemberManager:!0}}),le(555)),(0,o.useEffect)(()=>{if(C==="iframe"&&!X&&le(212),!v)return;const{cid:ie}=v;(async()=>{if(!v)return;const{result:{result:ae},statusOk:ue}=await(0,J.QC)(ie);ue&&L.dispatch({type:c.entryKey["sharing:init"],payload:{canEditByUser:ae}})})()},[C,le,v,L]),(0,i.jsx)(p.Kq,{store:L,children:(0,i.jsx)(S.NP,{theme:N.A[a],children:(0,i.jsx)(x.$,{children:(0,i.jsx)(li,{getIframeContentHeight:le,handleChangeMembersAccess:B,handleClose:$})})})})}},87537:(_e,de,n)=>{"use strict";n.d(de,{A:()=>b});var o=n(21676);const b=o.Ay.div.withConfig({displayName:"styles__StyledMainPage",componentId:"sc-l3ttef-0"})(["width:414px;background-color:",";color:",";position:relative;height:212px;&.loading{height:212px;}&.dark{.personal-project-access{.title{span{color:rgba(255,255,255,0.9);}}.content{span{color:rgba(255,255,255,0.9);}}}.access-operation{.open-access-switch > span{color:rgba(255,255,255,0.9);}.item-center > button{background-color:#252626;&:hover{background-color:#666666;}span{color:rgba(255,255,255,0.9);}}}.sharing-footer{background-color:#151515;.sharing-type{span{color:rgba(255,255,255,0.9);}.toolbar-icon-item > svg > path{color:rgba(255,255,255,0.9);}}.sharingV2-click-visible{&:hover{background-color:#666666;}span{color:rgba(255,255,255,0.9);}}}}.access-operation{margin:20px 20px 14px;.open-access-switch{display:flex;align-items:center;margin-bottom:20px;span{font-weight:500;font-size:14px;line-height:20px;color:#333333;margin-right:6px;}}}"],j=>j.theme.color_bg_white,j=>j.theme.color_text_L2)},60482:(_e,de,n)=>{"use strict";n.d(de,{CV:()=>te,EL:()=>Z,Mb:()=>h,Mj:()=>c,O8:()=>N,R0:()=>R,RF:()=>H,R_:()=>ee,Sy:()=>f,Uh:()=>Q,a2:()=>J,eH:()=>S,it:()=>x,jc:()=>O,kv:()=>T,vt:()=>u,zM:()=>p});var o=n(51691),b=n(88223),j=n(76713),m=n.n(j),E=n(41449),re=n(72907),Y=n(44864),U=n(36521);const R=w=>w?[{value:"public",label:I18N.imockSharing.share_anyone_view},{value:"restricted",label:I18N.imockSharing.org_members_only}]:[{value:"public",label:I18N.imockSharing.share_anyone_view}],te=w=>{let{accessToken:K,targetKey:D,pageKey:ne,view_mode:k,selection:V,page_begin:z,canvas_begin:I}=w;const P=(pe,ge)=>ge?"&"+pe+"="+ge:"";let q=""+location.origin+E.o$+"/"+K+"/sharing?view_mode="+(k||"read_only");return k==="read_only"?q=""+q+P("screen",ne)+P("canvasId",D)+P("selection",V):k==="device"?q=""+q+P("screen",z!=null?z:ne)+P("canvasId",I!=null?I:D)+P("selection",V):q=""+q+P("screen",ne)+P("selection",V),q},Q=w=>w&&w.length>0?w[0]:"",ee=(w,K,D,ne)=>{const k=ne?"  \u5BC6\u7801\uFF1A"+ne:"";return w+" #"+(0,b.qk)(K)+"-"+(0,b.qk)(D||"\u5206\u4EAB")+k},J=w=>""+(["v6.modao.cc"].includes(location.host)?"https://modao.cc":location.origin)+E.o$+"/"+w,F=w=>{const K=new RegExp(I18N.imockSharing.share+" \\d+","g");let D=0;return w.filter(ne=>{var k;return(k=ne.link_name)==null?void 0:k.match(K)}).forEach(ne=>{const k=ne.link_name,z=k.match(K)[0].length,I=k.indexOf(I18N.imockSharing.share);if(I+z===k.length){const q=parseInt(k.trim().slice(I+I18N.imockSharing.share.length));q>D&&(D=q)}}),D},T=w=>{const{project:K,action:D,linkName:ne,isFromScreenList:k}=w;o.Y4.trackShareProjectAction({project_type:"\u539F\u578B V8",source:k?"\u9875\u9762\u5217\u8868\u83DC\u5355":(0,o.IQ)(),project_name:K.name,project_cid:K.cid,share_link_action:D,share_link_name:ne})},Z=w=>{if(!w)return!1;const{created_at:K}=w;return m()(K).isBetween(m()().subtract(3,"days"),m()())},H=w=>Object.entries(w).filter(D=>{let[ne,k]=D;return!k.hotAttr.asFolder&&ne!==Y.$k}).map(D=>D[0]),c=(w,K,D)=>{if(w)return D.length;let ne=0;return K==null||K.forEach(k=>{D.find(z=>z===k)&&(ne+=1)}),ne},f=(w,K)=>{if(K.screen_visible_switch){const{selectedSize:D,pageSize:ne}=h(w,K);return D+"/"+ne}else return I18N.imockSharing.all},h=(w,K)=>{const D=H(w.pageAttrMap),ne=c(!K.screen_visible_switch,K.screen_visible_list,D);return{pageSize:D.length,selectedSize:ne}},u=w=>{const K={},D=[],ne=new Map;for(const[z,I,P]of w)if(P.type==="rResBunch"){z!==Y.$k&&D.push(z),K[z]={hotAttr:P},ne.get(z)||ne.set(z,[]);const q=ne.get(I);Array.isArray(q)&&ne.set(I,[...q,z])}const k=z=>{let I=[];for(const q of ne.get(z))I.push(k(q));I=I.sort((q,pe)=>q.data.zIndex-pe.data.zIndex);const{hotAttr:P}=K[z];return{cid:z,data:{cid:z,...P},children:I}},V=k("B@main");return{pageAttrMap:K,pageKeyList:D,treeData:V}};function p(w,K,D){let ne=I18N.imockSharing.share;return K&&(ne=ne+" "+(K.length+1)),{project_cid:w,view_access:"public",screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,view_sticky:!0,comment_permission:"org_member",is_default_link:!1,password:"",device_model:"read_only",view_prd:!1,expire_type:"forever",sticky:!1,...D,link_name:ne,type:"advanced"}}const S=async w=>{let{updateType:K,org:D,updateFn:ne,updatedKV:k}=w;const V=()=>{const I=(D==null?void 0:D.plan)==="org_full"?"MaxOrgSize":"NormalOrgSize";window.SharingEventEmitter.emit("sharing:count",{whichModal:I}),window.top.postMessage(JSON.stringify({sharingMessage:"sharing:count",payload:{whichModal:I}}),"*")},z=()=>{if(K==="update"){if(k.expire_type)try{MB.notice({text:I18N.imockSharing.sharing_hasRest,type:"success"});return}catch(I){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice",payload:{type:"settingSuccess"}}),"*")}try{MB.notice({text:I18N.imockSharing.setting_valid})}catch(I){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice",payload:{type:"settingSuccess"}}),"*")}}};try{const I=await ne();if(I)return z(),I}catch(I){await(0,re.m0)(I,V)}},x=w=>{let{value:K,currentSharing:D,sharingList:ne}=w,k=!1;for(const V of ne)if(V.cid!==D.cid&&K===V.link_name){k=!0;break}return k},N=(w,K)=>{let D;if(K.type==="default"){const k=new URLSearchParams(location.search),V=k.get("view_mode")||(0,U.Yt)(w.cid+"_default_sharing_view_mode","read_only",U.qW.String),z=k.get("selection"),I=k.get("screen"),P=k.get("canvasId");D=te({accessToken:K.access_token,view_mode:V,page_begin:I,canvas_begin:P,selection:z})}else D=te({accessToken:K.access_token,view_mode:K.device_model});return ee(D,w==null?void 0:w.name,K.link_name||"",K.password)},O=(w,K)=>{var D,ne;return(K==null||(D=K.limitation)==null?void 0:D.max_project_share_count)||(w==null||(ne=w.limitation)==null?void 0:ne.max_project_share_count)}},72907:(_e,de,n)=>{"use strict";n.d(de,{$r:()=>R,AG:()=>E,FY:()=>m,K7:()=>U,ai:()=>re,m0:()=>Y});var o=n(46795),b=n(33386),j=n(39719);const m=async(te,Q)=>{if((0,b.p)("[alertAsyncBlocked]",te,{url:te.url,status:te.status}),te.status===403||/403/.test(te.message)){var ee;(ee=MB)==null||(ee=ee.messageBucket)==null||ee.send("mobileLoadProjectError",{errMsg:I18N.dPages.cant_edit_desc}),await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.cant_edit,confirmText:I18N.dModule.exit_editing,desc:I18N.dModule.cant_edit_desc}).then(()=>Q?Q():MB.global.onBackButtonClick())}else if(te.status===401||/401/.test(te.message))U(),await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>Q?Q():E());else{var J;const F=String(te.status||te.message||"UNKNOWN").replace(/\s/g,"").slice(0,16);(J=MB)==null||(J=J.messageBucket)==null||J.send("mobileLoadProjectError",{errMsg:window.I18N.dModule.unknown_error.replace(/%s/i,F)}),await MB.global.popupHelper.alertAsyncBlocked({desc:window.I18N.dModule.unknown_error.replace(/%s/i,F),isHTML:!0})}},E=async()=>{try{await(0,o.DE)("/api/web/v3/initial"),location.reload()}catch(te){const Q=location.origin+"/signin?next="+location.pathname;location.href=Q}},re=te=>{te.status===404&&te.error_type==="MT_NOT_FOUND"&&MB.notice({text:I18N.dModals.template_no_available,type:"error"})},Y=async(te,Q)=>{te.status===403||/403/.test(te.message)?Q():(te.status===401||/401/.test(te.message))&&await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>E())},U=()=>{window.top.postMessage(JSON.stringify({sharingMessage:"sharing:loginInvalid"}),"*")},R=function(te){let{onClick:Q}=te===void 0?{}:te;Q&&!ENV.IS_WONDER_SHARE?MB.notice({text:window.I18N.dModule.network_api_error_1,CustomChildComponent:(0,j.DV)({onClick:Q}),type:"error",duration:5e3}):MB.notice({text:window.I18N.dModule.network_api_error,type:"error"})}},42226:(_e,de,n)=>{"use strict";n.d(de,{JQ:()=>ee,kZ:()=>T,tg:()=>Z,zW:()=>J});var o=n(76713),b=n.n(o),j=n(35736),m=n.n(j),E=n(54466),re=n.n(E);if(n.j!=15)var Y=n(29601);function U(H){return H<10?"0"+H:H}function R(H,c,f){const h=new Date(H),u=h.getFullYear(),p=U(h.getMonth()+1),S=U(h.getDate()),x=U(h.getHours()),N=U(h.getMinutes());return c==="time"?x+":"+N:c==="datetime"?""+p+f+S+" "+x+":"+N:""+u+f+p+f+S+" "+x+":"+N}const te=n.j!=15?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Spt","Oct","Nov","Dec"]:null;function Q(H,c){const f=new Date(H),h=f.getFullYear(),u=te[f.getMonth()],p=U(f.getDate()),S=U(f.getHours()),x=U(f.getMinutes());return c==="time"?S+":"+x:c==="datetime"?u+" "+p+" "+S+":"+x:u+" "+p+", "+h+" "+S+":"+x}function ee(H,c,f){if(c===void 0&&(c="datetime"),f===void 0&&(f="."),!H)return"";let h=H;typeof H!="number"&&(h=parseInt(H,10)),h.length===10&&(h=h*1e3);let u="";const p=(0,Y.w)();return p==="zh-CN"?u=R(h,c,f):(p==="en-US"||p==="en")&&(u=Q(h,c,f)),u}function J(H){const f=F()-H;let h="";if(f<=3*1e3)h=I18N.Common.just_now||"\u521A\u521A";else if(f>3*1e3&&f<60*1e3)h=Math.floor(f/1e3)+I18N.Common.num_seconds_ago||"\u79D2\u524D";else if(f>=60*1e3&&f<60*60*1e3)h=Math.floor(f/(60*1e3))+I18N.Common.num_minutes_ago||"\u5206\u949F\u524D";else{h=ee(H,"full");const u=new Date(new Date().setHours(0,0,0,0)).getTime(),p=new Date(new Date().getFullYear(),0,1).getTime();H>p&&(h=ee(H,"datetime")),H>u&&(h=ee(H,"time"))}return h}function F(){return new Date().getTime()}const T=H=>{b().locale(H==="zh-CN"?"zh-cn":H),b().extend(m()),b().extend(re())},Z=()=>b()().isBefore("2024-10-06")},79619:(_e,de,n)=>{"use strict";n.d(de,{Z:()=>o,n:()=>b});const o=function(j){let{flags:m}=j===void 0?MB.user:j;return!!(m&1<<21)},b=j=>{let{user:m,org:E}=j;const re=(E==null?void 0:E.otype)==="personal"?null:E;return{currentUser:m,currentOrg:re}}},15039:(_e,de,n)=>{"use strict";n.d(de,{E9:()=>J,Xc:()=>Q,nr:()=>ee});var o=n(40778),b=n(51691),j=n(36820),m=n(59318);let E=function(F){return F.acces="access",F.viewAccess="viewAccess",F.copy="copy",F.qrCode="qrCode",F.embed="Embed",F.setting="Setting",F.pwdProtection="PwdProtection",F.password="password",F.sticky="sticky",F.comment="comment",F.mobile="mobile",F}({});var re=function(F){return F.Edit="\u53EF\u7F16\u8F91",F.onlyView="\u4EC5\u67E5\u770B",F}(re||{}),Y=function(F){return F.NoLogin="\u672A\u767B\u5F55\u7528\u6237",F.LoginButNotOrgMember="\u975E\u56E2\u961F\u767B\u5F55\u7528\u6237",F.ProjectMember="\u534F\u4F5C\u6210\u5458",F.TeamMember="\u56E2\u961F\u6210\u5458",F}(Y||{}),U=function(F){return F.EditMode="\u7F16\u8F91\u6A21\u5F0F",F.ReadOnlyMode="\u53EA\u8BFB\u6A21\u5F0F",F.DeviceMode="\u771F\u673A\u6A21\u5F0F",F}(U||{});const R=F=>{let{userId:T,orgPermissions:Z,spacePermissions:H,projectPermissions:c}=F;if(!T)return Y.NoLogin;const f=(0,m.ox)(T,Z),h=(0,m.ox)(T,H),u=(0,m.ox)(T,c);if(!f)return Y.LoginButNotOrgMember;if(h||u)return Y.ProjectMember;if(f)return Y.TeamMember},te=F=>{let{userCanEdit:T,userId:Z,orgPermissions:H,spacePermissions:c,projectPermissions:f,isEditMode:h,view_mode:u,isIframe:p}=F;const S=T?re.Edit:re.onlyView,x=R({userId:Z,orgPermissions:H,spacePermissions:c,projectPermissions:f}),N=p?"\u5DE5\u4F5C\u53F0":h?U.EditMode:u==="read_only"?U.ReadOnlyMode:U.DeviceMode;return{user_rights:S,user_type:x,operation_from:N}},Q=F=>{let{optionType:T,userCanEdit:Z,userId:H,orgPermissions:c,spacePermissions:f,projectPermissions:h,isEditMode:u,view_mode:p,share_type:S,isIframe:x,project_name:N,project_cid:O}=F;const{user_rights:w,user_type:K,operation_from:D}=te({userCanEdit:Z,userId:H,orgPermissions:c,spacePermissions:f,projectPermissions:h,isEditMode:u,view_mode:p,isIframe:x});(0,j.kH)("share_function_click_V8",{operation_type:T,user_rights:w,user_type:K,operation_from:D,project_name:N,project_cid:O,share_type:S})},ee=F=>{(0,j.kH)("advanced_sharing_click",F)},J=F=>{let{project:T,isEditMode:Z,shareSource:H}=F;const c=(0,o.gh)(),{cid:f,name:h}=T;(0,j.kH)("share_project",{project_type:"\u539F\u578B V8",source:Z?"\u7F16\u8F91\u533A":c?"\u53EA\u8BFB\u6A21\u5F0F":"\u771F\u673A\u6F14\u793A",project_name:h,project_cid:f,share_source:H}),b.Y4.editProjectNew("\u5206\u4EAB\u9879\u76EE")}},47755:(_e,de,n)=>{"use strict";n.d(de,{_:()=>o});const o=j=>encodeURIComponent(JSON.stringify(j)),b=j=>JSON.parse(decodeURIComponent(j))},67234:(_e,de,n)=>{"use strict";n.d(de,{p:()=>Q,A:()=>F});var o=n(74059),b=n(51044),j=n(66748),m=n.n(j),E=n(98236),re=n.n(E),Y=n(7758),U=n(86634),R=n.n(U),te=n(21676);const Q="checkbox-has-box",ee=te.Ay.label.withConfig({displayName:"styles__StyledCheck",componentId:"sc-mbtxfd-0"})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:2px;transition:all 0.2s ease-in-out;background-color:",";flex-shrink:0;.icon{position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#fff;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}&.readonly,&.is-disabled{cursor:default;.Check-state{background:",";border:1px solid ",";.icon{color:",";}}}&.is-disabled{cursor:not-allowed;}&.","{input,.Check-state{margin:6px;transition:none;}.Check-label{margin-left:4px;}}"],T=>T.theme.color_text_L2,T=>T.theme.color_text_disabled01,T=>T.theme.color_bg_white,T=>T.theme.color_text_L2,T=>T.theme.color_proto,T=>T.theme.color_proto,T=>T.theme.color_btn_secondary_active,T=>T.theme.color_btn_secondary_active,T=>T.theme.color_text_disabled01,Q);var J=n(57464);class F extends b.PureComponent{constructor(){super(...arguments),(0,o.A)(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),(0,o.A)(this,"onToggle",Z=>{const{name:H,value:c,label:f,onChange:h,onToggle:u,isDisabled:p,readOnly:S,attr:x}=this.props,{isChecked:N}=this.state,O=!p&&!S,w=O?N==="mixed"?!0:!N:N;this.setState({isChecked:w}),u(w,H,c||f,Z),h(w,x,Z)})}static getDerivedStateFromProps(Z,H){let{prevProps:c}=H;return re()(c,Z)?null:{prevProps:Z,isChecked:Z.isChecked}}render(){const{className:Z,label:H,name:c,isDisabled:f,readOnly:h}=this.props,{isChecked:u}=this.state,p=R()(Z,{"is-checked":!!u,"is-disabled":f,readonly:h});return(0,J.jsxs)(ee,{className:p,children:[(0,J.jsx)("input",{type:"checkbox",defaultChecked:!!u,disabled:f,name:c,onChange:this.onToggle}),(0,J.jsx)("span",{className:"Check-state",children:(0,J.jsx)(Y.C,{name:u==="mixed"?"new_replace/box_check_mixed":"new_replace/box_check"})}),H&&(0,J.jsx)("span",{className:"Check-label",children:H})]})}}(0,o.A)(F,"propTypes",{isChecked:m().bool||"mixed",isDisabled:m().bool,readOnly:m().bool,onChange:m().func.isRequired,onToggle:m().func.isRequired,label:m().any,name:m().string,attr:m().string,value:m().any,className:m().string}),(0,o.A)(F,"defaultProps",{isChecked:!1,label:"",className:"",onChange:()=>null,onToggle:()=>null})},80582:(_e,de,n)=>{"use strict";n.d(de,{A:()=>U});var o=n(74059),b=n(51044),j=n(21183),m=n(66748),E=n.n(m),re=n(57464);class Y extends b.PureComponent{constructor(te){super(te),(0,o.A)(this,"freshCanvas",()=>{const Q=this.canvasWrapperRef.current,{height:ee,width:J,text:F,foreground:T,background:Z}=this.props,H=(0,j.j)({height:ee,width:J,text:F,foreground:T,background:Z});Q.hasChildNodes()?Q.replaceChild(H,Q.firstChild):Q.appendChild(H)}),this.canvasWrapperRef=(0,b.createRef)()}componentDidMount(){this.freshCanvas()}componentDidUpdate(){this.freshCanvas()}render(){const{className:te}=this.props;return(0,re.jsx)("div",{className:te,ref:this.canvasWrapperRef})}}Y.propTypes={width:E().number,height:E().number,text:E().string.isRequired,foreground:E().string,background:E().string,className:E().string},Y.defaultProps={width:150,height:150};const U=Y},29739:(_e,de,n)=>{"use strict";n.d(de,{A:()=>m});var o=n(46479),b=n(21676);const m=(0,b.Ay)(o.ft).withConfig({displayName:"ThemeLoading",componentId:"sc-lkl0kj-0"})(["svg g g:first-child g path:last-child{stroke:",";}svg g g:last-child g path:last-child{stroke:",";}"],E=>E.theme.color_btn_secondary_active,E=>E.theme.color_text_disabled01)},11645:(_e,de,n)=>{"use strict";n.d(de,{A:()=>Y});var o=n(51044),b=n(29739),j=n(21676);const m=j.Ay.div.withConfig({displayName:"styles__StyledSharingLoading",componentId:"sc-5dzh9i-0"})(["position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;.loading{width:50px;height:50px;}"]);var E=n(57464);const Y=(0,o.memo)(()=>(0,E.jsx)(m,{className:"sharing-loading",children:(0,E.jsx)(b.A,{className:"loading"})}))},39208:()=>{"use strict";const _e={},de={},n={}},33520:(_e,de,n)=>{"use strict";n.d(de,{l:()=>j,r:()=>b});var o=n(21676);const b=(0,o.DU)(["::-webkit-scrollbar-track{background-color:transparent;}::-webkit-scrollbar{width:6px;height:6px;}::-webkit-scrollbar-thumb{background-color:",";border-radius:4px;&:hover{background-color:",";}}::-webkit-scrollbar-corner{background-color:transparent;}.widget.panel{::-webkit-scrollbar-thumb{background-color:#d2d2d8;&:hover{background-color:",";}}}"],m=>m.theme.color_bg_border_02,m=>m.theme.color_background_split_hover,m=>m.theme.color_background_split_hover),j=(0,o.DU)([".ModalPortal,.CoreModalPortal,.OverlayPortal{min-width:initial !important;}"])},57716:(_e,de,n)=>{"use strict";n.d(de,{A:()=>T});var o=n(35524),b=n(54909);const j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDkzNzZFN0RDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDkzNzZFN0VDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEOTM3NkU3QkM4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEOTM3NkU3Q0M4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PktroGEAAAAoSURBVHjaYvz06RMDDPDy8sLZTAw4AOkSjP///4dzPn/+TAs7AAIMAG56COJosoI3AAAAAElFTkSuQmCC",m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAAGzCI4dAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAACKADAAQAAAABAAAACAAAAACVhHtSAAAAVklEQVQYGYWOMQ6AMAwD04ot7wJWyv+/kblgpIsqZcBDGtu1W9uPc9o17tk0IsKaJHe3rpGKvZAgbCxyhS+jBaOLrCiRciM7iNEFLwkMznwDge/BfxsegvIceOfO91wAAAAASUVORK5CYII=",E=Object.entries(b.f).reduce((Z,H)=>{const c=H[0];return{...Z,[c]:[b.f[c].value_light,b.f[c].value_dark||b.f[c].value_light]}},{}),re=Object.entries(b.$).reduce((Z,H)=>{const c=H[0];return{...Z,[c]:[b.$[c].value_light,b.$[c].value_dark||b.$[c].value_light]}},{}),Y=Object.entries(o.af).reduce((Z,H)=>{var c;const f=H[0];return{...Z,[f]:[o.af[f].value,((c=o.qY[f])==null?void 0:c.value)||o.af[f].value]}},{}),U=Z=>{let H;const[c,f,h]=Z,u=h!=null?h:c;return f==="light"?H=o.af[u].value:H=o.qY[u].value,{[c]:[H,H]}},te=[["color_tips_black","dark","color_ruler_shadow_color"]].reduce((H,c)=>{const f=U(c);return{...H,...f}},{}),J={...Y,...te,...{loading_styles_bg:["linear-gradient(130deg, #f2f2f2 25%, #e6e6e6 37%, #f2f2f2 63%)","linear-gradient(118.3deg, #474848 1.71%, #363738 100%)"],float_nav_box_shadow:["0 4px 8px 0 rgba(39, 54, 78, 0.08), 0 4px 12px 0 rgba(39, 54, 78, 0.06)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],menu_content_shadow:["0 6px 16px -8px rgba(0,0,0,0.08), 0 9px 28px 0 rgba(0,0,0,0.05)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],shadow_1:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 6px 0 rgba(0,0,0,0.30), 0 10px 30px 0 rgba(0,0,0,0.15), inset 0 1px 0 0 #252626"],shadow_2:["0 2px 10px 0 rgba(39, 54, 78, 0.8), 0 12px 40px 0 rgba(39, 54, 78, 0.1)","0 24px 38px 3px rgba(0,0,0,0.14), 0 9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)"],shadow_3:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)"],shadow_4:["0 2px 10px 0 rgba(0, 0, 0, 0.12)","0 11px 15 px rgba(0, 0, 0, 0.2), 0 9 px 46px 0 rgba(0, 0, 0, 0.12)"],shadow_5:["0 2px 10px 0 rgba(0, 0, 0, 0.12)","0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12), 0 11px 15px -7px rgba(0, 0, 0, 0.2)"],shadow_hover:["0 2px 4px rgba(0, 0, 0, 0.14)","0 2px 4px rgba(0, 0, 0, 0.46), 0 8px 16px rgba(0, 0, 0, 0.40)"],miss_font_box_shadow:["0 3px 10px rgba(0, 0, 0, 0.1)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],export_bar_box_shadow:["0 -4px 8px rgba(219, 219, 219, 0.4)","0 -4px 8px rgba(0, 0, 0, 0.35)"],sidebar_box_shadow:["0 2px 10px 0 rgba(39, 54, 78, 0.08), 0 12px 40px 0 rgba(39, 54, 78, 0.1)",""],interation_active_box_shadow:["0 0 4px 0 rgba(34, 162, 237, 0.66)"," 0 0 4px 0 rgba(41,141,248,0.50)"],modal_bg1:["linear-gradient(to bottom,#fafafa,#f5f5f5)","#4f5052"],modal_shadow:["0 2px 10px 0 rgba(0, 0, 0, 0.1), 0 12px 40px 0 rgba(0, 0, 0, 0.1)",""],comment_layer_box_shadow:["0 -2px 10px rgba(26, 58, 109, 0.12)","0 -24px 38px 3px rgba(0,0,0,0.14), 0 -9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)"],workspace_dropdown_menu_shadow:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)"],drag_sort_box_shadow:["0 1px 4px 0 rgba(0, 0, 0, 0.15)","0px 2px 4px rgba(0, 0, 0, 0.15)"],annotate_btn_shadow:["0 2px 6px rgba(39, 54, 78, 0.08)"," 0 6px 10px rgba(0, 0, 0, 0.22), 0px 13px 30px rgba(0, 0, 0, 0.146744)"],bg_base64:[j,m],img_wrap_border_width:[1,2],fontPosition:["73px",0],disabled_opacity:[1,.5],footer_disabled_opacity:[1,.6]},...E,...re},F=(Z,H)=>{const c={};return Object.entries(Z).forEach(f=>{let[h,u]=f;Array.isArray(u)?c[h]=u[H]:typeof u=="object"?c[h]=F(u,H):c[h]=u}),c},T={light:F(J,0),dark:F(J,1)}},44057:(_e,de,n)=>{"use strict";n.d(de,{cG:()=>V,Dr:()=>ne,Ay:()=>D});var o=n(66748),b=n.n(o),j=n(51044),m=n(60185),E=n(21676),re=n(86634),Y=n.n(re),U=n(90503);class R{constructor(I,P){I===void 0&&(I=0),P===void 0&&(P=0),this.x=I,this.y=P}inside(I){const{left:P,right:q,top:pe,bottom:ge}=I;return this.x>=P&&this.x<=q&&this.y>=pe&&this.y<=ge}}const te=(0,j.createContext)(""),Q=z=>{if(!z)return;const I=z.getBoundingClientRect(),P=z.classList.contains("sub-menu"),q=1/.8,pe=1/(.8*.9);if(P){const we=document.getElementById("root-menu").getBoundingClientRect();we.top+(I.top-we.top)*q+I.height*pe>window.innerHeight-28&&z.classList.add("top"),we.left+(I.left-we.left)*q+I.width*pe>window.innerWidth&&z.classList.add("left");return}if(I.left+I.width*q>window.innerWidth-28&&z.classList.add("left"),I.height>window.innerHeight){z.style.height=window.innerHeight+"px",z.style.overflow="auto",z.style.overflowX="hidden",z.style.marginTop=-I.top+"px";return}I.top+I.height<window.innerHeight||(z.style.marginTop=window.innerHeight-(I.top+I.height)+"px")},ee=function(z,I,P,q,pe,ge){let{subMenuLeftOffset:we,subMenuTopOffset:ke}=pe;if(ge===void 0&&(ge=!1),!z||!I)return;const Me=I.getBoundingClientRect(),ze=I.getBoundingClientRect(),Ze=1/.9,{left:Oe,top:be}=P;Me.top+Me.height*Ze>window.innerHeight-28?Me.top-Me.height*Ze>0?(z.style.bottom="-4px",z.style.top="unset"):z.style.marginTop=window.innerHeight-28-(Me.top+Me.height*Ze)+"px":z.style.top=Me.top-be-11+"px",Me.left+Me.width*Ze>window.innerWidth?(z.style.right=Me.left+"px",z.style.left="unset"):z.style.left=Me.right-Oe-1+12*ge+"px",q==="left"&&(z.style.left=-2*Me.width-12-22*ge+"px"),we&&(z.style.left=parseInt(z.style.left)+we+4*ge+"px"),ke&&(z.style.top=parseInt(z.style.top)+ke+"px"),z.style.maxHeight=window.innerHeight-ze.top+"px"},J=(z,I)=>{let{x:P,y:q}=z,pe=!1;for(let ge=0,we=I.length-1;ge<I.length;we=ge++){let{x:ke,y:Me}=I[ge],{x:ze,y:Ze}=I[we];Me>q!=Ze>q&&P<(ze-ke)*(q-Me)/(Ze-Me)+ke&&(pe=!pe)}return pe};var F=n(54909);const T=(0,E.AH)(["background:#333;box-shadow:0 2px 8px rgba(0,0,0,0.3);border-radius:4px;color:#fff;border:1px solid #454647;"]),Z=E.Ay.div.withConfig({displayName:"styles__StyledMask",componentId:"sc-h83js-0"})(["position:fixed;top:0;left:0;right:0;width:100vw;height:100vh;z-index:199;"]),H=E.Ay.div.withConfig({displayName:"styles__StyledContextMenu",componentId:"sc-h83js-1"})(["position:fixed;z-index:200;&.size-small > ul{min-width:120px;}ul{list-style:none;}& > ul{position:absolute;top:0;left:0;padding:8px 0;min-width:200px;margin:0;",";&.top{top:initial !important;bottom:-8px;}&.left{left:initial;right:100%;}&.top.left{}&::-webkit-scrollbar{display:block;width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:rgba(255,255,255,0.25);border-radius:4px;&:hover{background-color:rgba(255,255,255,0.30);}}}"],T),c=E.Ay.ul.withConfig({displayName:"styles__StyledSubMenu",componentId:"sc-h83js-2"})(["position:absolute;min-width:200px;max-height:500px;padding:4px 0;",";opacity:0;pointer-events:none;overflow-x:hidden;margin:0;&:lang(ja){min-width:260px;}&.is-show{opacity:1;pointer-events:auto;}&.inner-sub{overflow-x:unset;}li.MenuItem{& > a{padding-left:32px;}&.hasIcon{> a{padding-left:15px;}}}&.is-airy{li.MenuItem{& > a{padding-left:29px;}&.hasIcon{> a{padding-left:12px;}}}}"],T),f=E.Ay.li.withConfig({displayName:"styles__StyledMenuItem",componentId:"sc-h83js-3"})(["position:relative;a{height:24px;padding-left:16px;display:flex;align-items:center;color:#fff;padding-right:10px;& > span{margin-right:0;display:flex;justifyContent:flex-end;flex:1;alignItems:center;.text{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;line-height:20px;}}& > span{white-space:nowrap;margin-right:16px;.invisible{width:20px;height:20px;display:inline-block;color:",";margin-top:-3px;}}.selected-icon{width:8px;margin-right:9px;}.right-arrow{margin-left:auto;margin-right:-4px;display:flex;align-items:center;}img{width:14px;height:14px;opacity:0.8;margin-right:7px;}.fa-caret-right,.shortcut{margin-left:auto;width:12px;text-align:center;margin-right:-2px;}.shortcut{display:flex;align-items:center;color:#999;.mac{font-size:16px;margin-right:2px;}}.shortfont{display:flex;margin-left:auto;kbd{display:inline-block;text-align:center;min-width:12px;color:rgba(255,255,255,0.7);font-family:Inter;&.key-cmd{width:13px;text-align:right;}&:first-child{margin-left:0;}&:last-child{margin-right:0;}}}}&.hasDivider{a{margin-bottom:4px;}}&:not(.disabled).active{a{background:#666;}}&.disabled{*{cursor:not-allowed;}a{color:rgba(255,255,255,0.22);.right-arrow svg > path{fill:rgba(255,255,255,0.22);}.shortfont kbd{color:rgba(255,255,255,0.22);}}}"],F.f.color_text_L2.value_dark);var h=n(57464);function u(z,I,P){return(I=p(I))in z?Object.defineProperty(z,I,{value:P,enumerable:!0,configurable:!0,writable:!0}):z[I]=P,z}function p(z){var I=S(z,"string");return typeof I=="symbol"?I:I+""}function S(z,I){if(typeof z!="object"||!z)return z;var P=z[Symbol.toPrimitive];if(P!==void 0){var q=P.call(z,I||"default");if(typeof q!="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(z)}const x=(0,h.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M5.5 5.04031L5.5 10.9597C5.5 11.3789 5.98497 11.612 6.31235 11.3501L10.012 8.39043C10.2622 8.19027 10.2622 7.80973 10.012 7.60957L6.31235 4.64988C5.98497 4.38797 5.5 4.62106 5.5 5.04031Z",fill:"white",fillOpacity:"0.9"})}),N=3;let O=[],w=!1;const K=z=>{O.push(z),O.length>N&&O.shift()};class D extends j.PureComponent{constructor(I){super(I),u(this,"setMenuRef",P=>this.$menu=P),u(this,"createContextMenuRef",P=>this.$mountRoot=P),u(this,"mousewheelHandle",P=>{const q=P.deltaX||P.wheelDeltaX;if(!q||!this.$elem)return;const pe=this.$elem.scrollLeft+this.$elem.offsetWidth===this.$elem.scrollWidth&&q>0,ge=this.$elem.scrollLeft===0&&q<0;(pe||ge)&&P.preventDefault()}),u(this,"handleClose",P=>{const{onClose:q}=this.props;q&&q(P)}),u(this,"handleCloseMouse",P=>{P.button===2&&this.handleClose(P)}),u(this,"handleClickMenu",P=>{const{alwaysOpen:q}=this.props;q||this.handleClose(P)}),u(this,"handleUpdateState",P=>this.setState({...P})),this.$elem=document.createElement("div"),this.state={activePath:[],showSubMenu:!1}}componentDidMount(){document.body.appendChild(this.$elem),!this.props.style&&Q(this.$menu),this.$elem&&this.$elem.addEventListener("mousewheel",this.mousewheelHandle)}componentWillUnmount(){this.$elem&&this.$elem.removeEventListener("mousewheel",this.mousewheelHandle,{capture:!0}),document.body.removeChild(this.$elem),O=[],w=!1}preventDefault(I){I.preventDefault()}render(){const{position:I,children:P,className:q,style:pe={}}=this.props,{top:ge,left:we}=I,{activePath:ke,showSubMenu:Me}=this.state;return(0,m.createPortal)((0,h.jsx)(Z,{className:"context-menu-mask",onMouseDown:this.handleClose,onClick:this.handleClickMenu,children:(0,h.jsx)(H,{ref:this.createContextMenuRef,style:{top:ge+2,left:we+2,...pe},className:q,onContextMenu:this.preventDefault,children:(0,h.jsx)("ul",{ref:this.setMenuRef,children:(0,h.jsx)(te.Provider,{value:{mountRoot:this.$mountRoot,contextMenuPosition:I,activePath:ke,showSubMenu:Me,onUpdateState:this.handleUpdateState},children:P})})})}),this.$elem)}}u(D,"propTypes",{className:b().string,position:b().object,children:b().oneOfType([b().element,b().array]),style:b().object,onClose:b().func,alwaysOpen:b().bool});class ne extends j.PureComponent{constructor(){super(...arguments),u(this,"createMenuItemRef",I=>this.$menuItemRef=I),u(this,"createSubMenuRef",I=>this.$subMenuRef=I),u(this,"handleActiveItem",(I,P)=>{const{children:q}=this.props;P({activePath:I,showSubMenu:!!q})}),u(this,"handleMouseEnter",(I,P,q)=>{const{onMouseEnter:pe}=this.props;pe&&pe(I),w?setTimeout(()=>{if(this.$menuItemRef&&O.length>0){const ge=this.$menuItemRef.getBoundingClientRect();O.slice(-1)[0].inside(ge)&&this.handleActiveItem(P,q)}},200):this.handleActiveItem(P,q)}),u(this,"handleMouseLeave",async(I,P,q,pe)=>{const{onMouseLeave:ge}=this.props;if(ge&&ge(I),q&&this.$subMenuRef){const we=this.$subMenuRef.getBoundingClientRect();if(we&&O.length>0){const{left:ke,top:Me,bottom:ze}=we,Ze=new R(ke,Me),Oe=new R(ke,ze),be=[O[0],Ze,Oe],Ue=new R(I.clientX,I.clientY);if(J(Ue,be)){w=!0;return}}}if(P){pe({activePath:P.dataset.index.split(","),showSubMenu:!0}),w=!1;return}pe({activePath:[],showSubMenu:!1}),w=!1}),u(this,"handleMouseMove",I=>{const P=new R(I.clientX,I.clientY);K(P)}),u(this,"handleMouseDown",I=>I.stopPropagation()),u(this,"handleGetCanActiveSubMenu",(I,P,q)=>{let pe=!1;return P&&(I&&P.join("")===q.join("")||P.slice(0,q.length).join("")===q.join(""))&&(pe=!0),pe}),u(this,"handleGetPath",I=>{const{dataIndex:P,text:q}=this.props,pe=P!==void 0?P:q;return I?I.dataset.index.split(",").concat(pe):[pe]}),u(this,"handleClick",I=>{const{disabled:P,onClick:q,canClick:pe,children:ge}=this.props;(pe||!P)&&q&&q(I),(ge||P)&&I.stopPropagation()})}render(){const{icon:I,text:P,children:q,disabled:pe,hotKeyText:ge,className:we,dataType:ke,subMenuClassName:Me,subMenuDirection:ze,subMenuLeftOffset:Ze,subMenuTopOffset:Oe,isVisible:be,isAiry:Ue=!1}=this.props;return(0,h.jsx)(te.Consumer,{children:Ye=>{const{contextMenuPosition:et,mountRoot:Qe,activePath:i,showSubMenu:ct,parentRef:ut,onUpdateState:jt}=Ye,vt=this.handleGetPath(ut),gt=this.handleGetCanActiveSubMenu(ct,i,vt);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(f,{ref:this.createMenuItemRef,className:Y()("MenuItem",{disabled:pe,hasIcon:I},we,{active:gt}),"data-type":ke,"data-index":vt,onMouseEnter:at=>this.handleMouseEnter(at,vt,jt),onMouseLeave:at=>this.handleMouseLeave(at,ut,ct,jt),onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onClick:this.handleClick,children:(0,h.jsxs)("a",{children:[I,(0,h.jsxs)("span",{children:[(0,h.jsx)("span",{className:"text",children:P}),be?(0,h.jsx)(U.A,{className:"invisible",name:"eyeinvisible"}):null]}),q&&(0,h.jsx)("div",{className:"right-arrow",children:x}),ge&&ge.length>0&&(0,h.jsx)("div",{className:"shortfont",children:ge.map((at,yt)=>(0,h.jsx)("kbd",{children:at},yt))})]})}),q&&gt&&!pe&&(0,m.createPortal)((0,h.jsx)(k,{parentRef:this.$menuItemRef,setRef:this.createSubMenuRef,contextMenuPosition:et,subMenuDirection:ze,subMenuLeftOffset:Ze,subMenuTopOffset:Oe,className:Me,isAiry:Ue,children:(0,h.jsx)(te.Provider,{value:{parentRef:this.$menuItemRef,mountRoot:Qe,contextMenuPosition:et,activePath:i,showSubMenu:ct,onUpdateState:jt},children:q})}),Qe)]})}})}}u(ne,"propTypes",{icon:b().object,text:b().string.isRequired,className:b().string,disabled:b().bool,canClick:b().bool,children:b().oneOfType([b().element,b().array]),hotKeyText:b().array,onClick:b().func,onMouseEnter:b().func,onMouseLeave:b().func,dataType:b().number,dataIndex:b().oneOfType([b().number,b().string]),subMenuClassName:b().string,subMenuDirection:b().string,subMenuLeftOffset:b().number,subMenuTopOffset:b().number,isVisible:b().bool,isAiry:b().bool}),u(ne,"defaultProps",{subMenuClassName:""});class k extends j.PureComponent{constructor(I){super(I),u(this,"createRef",P=>{const{setRef:q}=this.props;q(P),this.subMenu=P}),this.state={isTransform:!1}}componentDidMount(){this.setState({isTransform:!0});const{parentRef:I,contextMenuPosition:P,subMenuDirection:q,subMenuLeftOffset:pe,subMenuTopOffset:ge,isAiry:we}=this.props;ee(this.subMenu,I,P,q,{subMenuLeftOffset:pe,subMenuTopOffset:ge},we)}render(){const{children:I,isAiry:P,className:q}=this.props,{isTransform:pe}=this.state;return(0,h.jsx)(c,{className:Y()("SubMenu",{"is-show":pe},{"is-airy":P},q),ref:this.createRef,children:I})}}u(k,"propTypes",{children:b().oneOfType([b().element,b().array]),className:b().string,parentRef:b().node,contextMenuPosition:b().object,setRef:b().func,subMenuDirection:b().string,subMenuLeftOffset:b().number,subMenuTopOffset:b().number,isAiry:b().bool});const V=E.Ay.div.withConfig({displayName:"ContextMenu__Divider",componentId:"sc-1802crt-0"})(["margin:8px 0;border-top:1px solid #454546;"])},29815:(_e,de,n)=>{"use strict";n.d(de,{A:()=>S});var o=n(66748),b=n.n(o),j=n(51044),m=n(21676),E=n(54909);const re=m.Ay.div.withConfig({displayName:"styled__StyledCrashedPage",componentId:"sc-8goufi-0"})(["position:fixed;top:50%;left:50%;transform:translateX(-50%) translateY(-55%);text-align:center;color:#666;.logo{margin:0 auto 40px;height:320px;.logo-clickable{cursor:pointer;}.svg-icon{width:600px;fill:none;}}.mobile &{.logo{width:100%;transform:scale(0.8);}.content{.title{font-size:20px;line-height:24px;}.proposal{width:290px;font-size:14px;line-height:20px;}}}p{margin:0;}.content{margin:40px auto;.title{font-weight:600;font-size:24px;line-height:24px;color:#1f292e;}.proposal{width:max-content;margin:12px auto 40px;font-style:normal;font-weight:normal;font-size:16px;line-height:20px;color:#415058;.count-detail{color:#1684fc;}}.text-left{text-align:left;margin-bottom:-12px;}.text-list{margin:0;padding-left:24px;}}.btn-list{display:grid;grid-auto-flow:column;gap:20px;justify-content:center;.btn{width:200px;height:48px;display:inline-block;border-radius:6px;font-size:16px;font-weight:500;line-height:46px;cursor:pointer;transition:all 0.2s ease-out;}.primary{color:",";background:",";border:1px solid transparent;&:hover{background:",";border:1px solid transparent;}&:active{background:",";border:1px solid transparent;}}.regular{color:",";background:",";border:1px solid ",";&:hover{background:",";border:1px solid ",";}&:active{background:",";border:1px solid ",";}}}"],E.f.color_text_btn.value_light,E.f.color_btn_primary_normal.value_light,E.f.color_btn_primary_hover.value_light,E.f.color_btn_primary_clicked.value_light,E.f.color_text_L1.value_light,E.f.color_bg_white.value_light,E.f.color_bg_border_02.value_light,E.f.color_btn_secondary_hover.value_light,E.f.color_bg_border_02.value_light,E.f.color_btn_secondary_active.value_light,E.f.color_bg_border_02.value_light);var Y=n(57464);const U="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M200 158.5c-54.4-5.2-59.3 54.2-55 84.5h308c22.8-46-17.7-69.2-44-73.5 49.3-15.5 19.5-88-28.5-116C258.2-17.8 268 165 200 158.5Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-width='2' d='M145 243h66a2 2 0 0 0 2-2V122.6a2 2 0 0 1 1.6-2L333 94l-101.6 32.6a2 2 0 0 0-1.4 1.9v139a2 2 0 0 0 2.5 2l54-13'/%3E%3Cpath fill='%231F292E' d='M213 121.5v122l17 26V127l100.5-32.5-117.5 27Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M455 243h-38'/%3E%3Ccircle cx='251' cy='198' r='4' fill='%231F292E'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M250.4 182.2Zm2.3-3.2a24.2 24.2 0 0 1 2.7-1c.9-.3 3 .2 4.4 1.1.6.6-.5.2-2 .4l-1.9.4a22.7 22.7 0 0 0-5 2.4 5.2 5.2 0 0 1-.7.3 1.8 1.8 0 0 1-.3.1 1.2 1.2 0 0 1-.3 0 1 1 0 0 1-.6-.2 1 1 0 0 1-.4-.8 1 1 0 0 1 0-.4l.3-.4.5-.5 1-1a2.2 2.2 0 0 0 .2-.3.7.7 0 0 0 0-.1.9.9 0 0 0-.1-.1c-.4-.2-1-.4-2.3-.6a3.2 3.2 0 0 1-.3 0 1.6 1.6 0 0 1-.5-.2 1 1 0 0 1-.5-.9c0-.4.2-.7.3-.8l.6-.4.6-.3.5-.2a13 13 0 0 0 2.7-1.2l.9-.7v-.4c-.1-.2-.4-.6-1.3-1-.8-.6-2-1.1-3.7-1.7a2.6 2.6 0 0 1-.8-.5 1 1 0 0 1-.5-.9c-.1-.5.2-1 .4-1.1.3-.2.6-.4.9-.4 1.6-.4 4-1 5.9-2.8 1.7-1.5 3-4.2 1.8-9.2a2.3 2.3 0 0 1 0-1.2l.2-.4a1 1 0 0 1 1.6-.2c.2.1.3.3.3.4l.5 1c.8 2 3.5 4.9 6.7 6.7 1.2.7 1.2.8 0 .4-2.2-.6-5.6-2-7.3-4.6 1.3 4.3-.8 7-2.4 8.6a13.1 13.1 0 0 1-5.3 2.8c1.2.4 2 .9 2.8 1.3a5 5 0 0 1 2 2c.4.8.3 1.6-.1 2.2-.4.6-1 1-1.6 1.4l-1.7.9.6.2c.7.4 1.2 1 1.2 1.9Zm-2 0Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='M292 163.5c61.2 5.2 103.5 55.5 117 80l-115 14-4-12.5 2-8-3-11 3-10 3.5-4v-13l7.5-7c-25-2-35-4-36.5-14.5.5-3.6 3.1-15.9 25.5-14Z'/%3E%3Cpath fill='%231F292E' fill-rule='evenodd' d='M363 191.1a219 219 0 0 1 46.8 51.6 1 1 0 1 1-1.6 1 217 217 0 0 0-46.5-51c-21.7-17-48.6-29.9-78.3-27.4-10.1.8-15 6.3-15.4 11.4-.4 5 3.6 10.6 12.8 11.8l5.2.6c5.4.7 11.2 1.4 16.5 2.4a70 70 0 0 1 12.1 3.2c3.5 1.3 6.5 3 8.5 5.4a1 1 0 0 1-1.6 1.3c-1.6-2-4.2-3.5-7.6-4.8a66.7 66.7 0 0 0-11.3-3c-3.5 2.3-7 6.7-7 12.9-.1 6.3 3.7 14.7 16 24.7 4.7 3.7 9.5 5 13.4 4.5a1 1 0 0 1 1.3-.3 11.1 11.1 0 0 0 1.2-.3c2-.7 3.6-2 4.6-3.7.8-1.4 1-3.2.7-5.3-4.2.6-7.4.3-9.7-.7-2-.8-3.2-2-4-3.6a8.5 8.5 0 0 1-.6-5.2c.3-1.5.8-3 1.6-4.5a26.7 26.7 0 0 1-2.2-2.8 7 7 0 0 1-1.2-2c-.4-.8-.6-1.5-.6-2.2a1 1 0 1 1 2 0c0 .3.1.7.4 1.3.2.6.6 1.2 1 1.8a24.1 24.1 0 0 0 1.7 2.1 29.4 29.4 0 0 1 19.1-11.4 1 1 0 0 1 .4 2c-5.7.8-10.5 3.2-14 6.3a22.1 22.1 0 0 0-4.3 5 1 1 0 0 1-.4.6 13 13 0 0 0-1.5 4.1c-.3 1.6-.1 3 .4 4 .5 1.1 1.5 2 3 2.7 3 1.3 8.2 1.3 16.3-1.3 3.7-1.5 6.9-2.2 9.3-2.1 2.5 0 4.5.8 5.6 2.1a5 5 0 0 1 .7 5.1 12 12 0 0 1-4.3 5.3c-8 6-7.5 11.8-6.6 13.5a1 1 0 1 1-1.8 1c-1.4-3-1.4-9.6 7.2-16 2-1.5 3.1-3.1 3.6-4.4.5-1.4.3-2.4-.3-3.2-.7-.7-2-1.4-4.1-1.4-2.1 0-5 .5-8.6 2l-6.1 1.6c.4 2.5 0 4.7-1 6.6a10.2 10.2 0 0 1-5.6 4.6 12.3 12.3 0 0 1-1.1.3c.6 2.9.4 6-.7 8.6a9.4 9.4 0 0 1-6.1 5.4c5 4.5 6.4 10 5.1 14.4a8.7 8.7 0 0 1-3 4.6c3.2 2.3 9 5 15.8 5a1 1 0 0 1 1 0 28 28 0 0 0 12.1-3.5 1 1 0 1 1 1 1.8 30 30 0 0 1-11.8 3.6 51.8 51.8 0 0 1 3.2 8c1.2 3.9 2 8.2 1.3 12a1 1 0 1 1-2-.4c.6-3.3 0-7.3-1.2-11-1-3.4-2.4-6.5-3.5-8.5-8 0-14.4-3.3-17.8-6-2 .8-4.6.8-7.2-.3-13.4-5.2-19.9-12-22.4-18.3-2.4-6-1.2-11.6.7-15.1a21.2 21.2 0 0 1-2.8-15.1c.8-4.5 3-8.3 5.6-10.2A17.5 17.5 0 0 1 300 193l-14.1-1.9a765.9 765.9 0 0 1-5.2-.7c-10-1.2-15-7.4-14.6-13.9.5-6.4 6.5-12.3 17.2-13.2 30.4-2.5 57.8 10.7 79.7 27.8Zm-68 23.2c2.3 5.5 7 11.7 15.3 18.4 5 4 10.3 5.5 14.7 5 .5 2.5.4 5.2-.5 7.4a7.7 7.7 0 0 1-6.7 4.6c-3 .3-7.1-.5-12.5-3a28.2 28.2 0 0 1-11.7-9.7 19.2 19.2 0 0 1-3-14.2 15 15 0 0 1 4.4-8.5Zm-2.2 25.2c-1.4 3-2.1 7.6-.1 12.5 2.2 5.7 8.2 12 21.2 17.2 2.3.9 4.3.8 5.8.2a1 1 0 0 1 .7-.3 6.5 6.5 0 0 0 3-4c1-3.7-.3-9.1-5.8-13.4-3.5.3-7.8-.7-13.2-3.3-5.2-2.5-9-5.6-11.6-9Zm75.4 17.1a1 1 0 0 1-.5 1.4 7.7 7.7 0 0 0-3.8 4.5 1 1 0 1 1-2-.5 9.7 9.7 0 0 1 5-5.8 1 1 0 0 1 1.3.4Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='426' x2='259' y1='125' y2='289' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",R="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjMyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMjUwLjUgMjk1LjVsLTctMzYgNi41LS41IDguNS0yIDktNSAzNCAyLjUgOCAzOC41LTU5IDIuNXoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl83ODc4XzE1MjE3KSIvPjxwYXRoIG9wYWNpdHk9Ii42IiBkPSJNNDM2LjE1MiAxNTguNWM1NC40LTUuMiA1OS4zMzQgNTQuMTY2IDU1IDg0LjVoLTMwOGMtMjIuOC00NiAxNy42NjctNjkuMTY3IDQ0LTczLjUtNDkuMzMzLTE1LjUtMTkuNS04OCAyOC41LTExNiAxMjIuMjU0LTcxLjMxNSAxMTIuNSAxMTEuNSAxODAuNSAxMDV6IiBmaWxsPSJ1cmwoI3BhaW50MV9saW5lYXJfNzg3OF8xNTIxNykiLz48cmVjdCB4PSIyNjcuNjQ4IiB5PSIxNDQiIHdpZHRoPSIzOCIgaGVpZ2h0PSI5OCIgcng9IjMiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIi8+PHJlY3QgeD0iMjI5LjY0OCIgeT0iMTE0IiB3aWR0aD0iMzgiIGhlaWdodD0iMTI4IiByeD0iMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB4PSIzNzkuNjQ4IiB5PSIxMjgiIHdpZHRoPSIyMSIgaGVpZ2h0PSIxMTQiIHJ4PSIzIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxyZWN0IHg9IjQwMC42NDgiIHk9IjE0NCIgd2lkdGg9IjI5IiBoZWlnaHQ9Ijk4IiByeD0iMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB4PSIzMDUuNjQ4IiB5PSIxMjgiIHdpZHRoPSIxOSIgaGVpZ2h0PSIxMTQiIHJ4PSIzIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxyZWN0IHg9IjMyNS42NDgiIHk9IjEzMC4yMzIiIHdpZHRoPSIyMi4yODkiIGhlaWdodD0iMTE2IiByeD0iNCIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1LjcyMyAzMjUuNjQ4IDEzMC4yMzIpIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtZGFzaGFycmF5PSIxIDgiLz48cGF0aCBkPSJNMTc3LjY0OCAyNDJoMzEwIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGZpbGw9IiMxRjI5MkUiIGQ9Ik0zODAuNjQ4IDIwMGgxOXYxN2gtMTl6Ii8+PHBhdGggZmlsbD0iIzE2ODRGQyIgZD0iTTQwMS42NDggMTY4aDI5djE5aC0yOXoiLz48cGF0aCBmaWxsPSIjMUYyOTJFIiBkPSJNMzgwLjY0OCAyMjFoMTl2NGgtMTl6TTI2OC42NDggMTU5aDM2djEzaC0zNnoiLz48cGF0aCBkPSJNMjk1LjE0OCAxODNjOC0uOCAxNCA4LjMzMyAxNiAxM2wtNTAgMjEtMjQuNS0xNCAyLTQuNSA0LjUtOCA5LTMuNSA5IC41IDYuNS00LjUgNi0xLjUgNiAxLjUgNCA0Yy41LTEgMy41LTMuMiAxMS41LTR6IiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTI0Mi4xNDggMjA0bDY4LTctMi41IDU3LTU4LTItNy41LTQ4eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0zMTAuMTQ4IDE5N2wuOTk5LjA0NC4wNTEtMS4xNTctMS4xNTIuMTE4LjEwMi45OTV6bS02OCA3bC0uMTAyLS45OTUtMS4wNDguMTA4LjE2MiAxLjA0MS45ODgtLjE1NHptNy41IDQ4bC0uOTg4LjE1NC4xMjguODE3LjgyNi4wMjguMDM0LS45OTl6bTU4IDJsLS4wMzQuOTk5YTEgMSAwIDAgMCAxLjAzMy0uOTU1bC0uOTk5LS4wNDR6bTIuMzk4LTU3Ljk5NWwtNjggNyAuMjA1IDEuOTkgNjgtNy0uMjA1LTEuOTl6bS02OC44ODYgOC4xNDlsNy41IDQ4IDEuOTc2LS4zMDgtNy41LTQ4LTEuOTc2LjMwOHptOC40NTQgNDguODQ1bDU4IDIgLjA2OS0xLjk5OC01OC0yLS4wNjkgMS45OTh6bTU5LjAzMyAxLjA0NWwyLjUtNTctMS45OTgtLjA4OC0yLjUgNTcgMS45OTguMDg4eiIgZmlsbD0iIzFGMjkyRSIvPjxwYXRoIGQ9Ik0yOTQuMTQ4IDE4Mi41YzgtLjggMTQgOC4zMzMgMTYgMTNsLTI5LjUgMTAuNS02LjUtM3YtOC41bDguNS04Yy41LTEgMy41LTMuMiAxMS41LTR6IiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTMxMC42NDggMTk2Yy0yLTctMTEuMjEyLTE5LjY4Ni0yOC41LTguNS0xNyAxMS03LjUgMjUuNSA5LjUgMTRtLTgtMTQuOTIzYy0zLjgzMy0zLjY2Ny0xMi4wNi0xMC43MjItMjQgMi45MjMtNyA4IDAgMTcuNSAxNCA5TTI2MS4xNDggMTg3LjVjLTYtMi4xNjctMTkuNi0xLjUtMjQgMTQuNSIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBkPSJNMTg4LjE0OCAyMDZsNTktNC41IDEuNSA1Ny41LTYzLjUtMy41IDMtNDkuNXoiIGZpbGw9IiNmZmYiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTIwMy42NDkgMTk3LjAzMWM1LjYtLjggMTAuMzMzIDQuNjY2IDEyIDcuNUwyMDguNSAyMDcuNWwtNiA1LjUtNC41IDctMSAxMCAzLjUgMTUgMS41IDktNCAxMi0yLjUgNy41LS41IDE3LjUtNzIgNC41IDIuNS0zMC41LTExLjUtMTYuNS01LjUtMTUuNXYtMTRsNy0xNCA4LTcgNSAxIDQuNSA5LjUgNi41LTguNDY5IDEwLTguMDMxIDcuNS41IDQuNSAzLTQuNSA0LjUzMWMxNS41LTEzLjAzMSAyMi4wNTctMy41MzEgMTkuNSAwIDguNC0xMS42IDE2LjgxNS00LjMzNCAyMC42NDkgMC0uMTY3LS42NjcuOS0yLjIgNi41LTN6IiBmaWxsPSJ1cmwoI3BhaW50Ml9saW5lYXJfNzg3OF8xNTIxNykiLz48cGF0aCBkPSJNMTg3LjE0OCAyMTEuNWMzLjE4Ni02LjYxNiA2LjU3Ny0xMC40OTIgOS44OTQtMTIuNW0wIDBjNy41MTItNC41NDggMTQuNjM4LjQ5MSAxOC4xMDYgNS02LjAzNSAyLjE2Ny0xOC4xMDYgOS44LTE4LjEwNiAyMyAwIDE2LjUgMTEuMTA2IDI0LjUtMS44OTQgNDZ2MThtMS44OTQtOTJjLTUuMjk4LTUuODMzLTE4LjE5NC0xMS41LTI3LjM5NCAxMi41bTgtMTQuNWMtNC42NjYtNS4zMzMtMTYuNS05LjUtMjYuNSAxNi41IiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGQ9Ik0xNjEuNjQ3IDE5NmMtNC44MzMtNi4xNjctMTYuMDEyLTEwLjI0NC0zMS41IDE4LTUuMjEgOS41LTYgMjYtMSAzMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBkPSJNMTMyLjY0OCAyMTBjLTEuMTY3LTYuODM0LTUuNi0xOC4xLTE0LTguNS0xMC41IDEyLTIwIDMxLjUgNi41IDYzbC0yIDMxTTMwMS4xNDggMjU0bDcuNSAzOU0yNDMuNjQ4IDI1OGw2LjUgMzcuNSIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIzMDguNjQ4IiBjeT0iMjI1IiByPSIyOSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIyNDguNjQ4IiBjeT0iMjMwIiByPSIyOSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIzMDguNjQ4IiBjeT0iMjI1IiByPSIyMiIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIyNDguNjQ4IiBjeT0iMjMwIiByPSIyMiIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTM0OS42NjcgMTAxLjM5NWwuMDAxLjAwMS0uMDAxLS4wMDF6bTEuNTc0IDMuNTQ1YTI0LjEyNCAyNC4xMjQgMCAwIDEtLjUwMSAyLjgzMWMtLjIyLjkwNS0xLjY1IDIuNTA2LTMuMjI0IDMuMjYxLS43NTkuMjMzLjA5NS0uNDg4LjY3My0xLjgzNi4yMDMtLjQ1OC40MTYtMS4xMDcuNjA3LTEuODk3LjM4Mi0xLjU3Ni42NTItMy42MDUuNjExLTUuNThhNS4yNCA1LjI0IDAgMCAxIC4wMjUtLjcxNWMuMDEyLS4wOTUuMDMyLS4yMjMuMDc1LS4zNTNhMS4yIDEuMiAwIDAgMSAuMTMzLS4yNzUgMS4wMyAxLjAzIDAgMCAxIDEuMzYxLS4zNDdjLjE4OS4xMDMuMzAxLjI0LjM1My4zMS4xMDYuMTQ0LjE2NS4yOTQuMTk1LjM3OC4wNjkuMTkxLjEyNS40MzMuMTczLjY5Ni4wODguNDg1LjE4OS45NDcuMzI2IDEuMzIxLjA2OC4xODUuMTM1LjMyMi4xOTYuNDE4YS43ODUuNzg1IDAgMCAwIC4wNjkuMDkxLjg1Mi44NTIgMCAwIDAgLjE5MS0uMDljLjMzNi0uMTk3Ljg2My0uNjcxIDEuNjA3LTEuNjUzLjA3OS0uMTA1LjE2MS0uMjA2LjI0Ny0uMjk1YTEuNTcgMS41NyAwIDAgMSAuMzY4LS4yOTFjLjE1NS0uMDg1LjU2LS4yNTQgMS4wMTEtLjAyOC40MS4yMDUuNTMxLjU4MS41NjUuNzA2LjA3NC4yNy4wNS41NjUuMDM3LjcyMi0uMDE5LjIwMy0uMDUyLjQzOS0uMDkuNjgxbC0uMDgxLjUwNWMtLjE1MS45MjEtLjMyNiAxLjk5NS0uMzEgMi45MjIuMDEuNTU0LjA4OS45MjYuMTk3IDEuMTM3LjA3NC4xNDQuMTMuMTc4LjI2NS4xOS4yMzEuMDIuNzItLjA1NiAxLjU4Ny0uNTE4Ljg0NS0uNDUxIDEuOTQ3LTEuMjEzIDMuMzY3LTIuMzk5LjIyLS4xODQuNDctLjM0OS43NDEtLjQ1MS4yNTQtLjA5NC42NjYtLjE4MiAxLjA5LjAxLjQ3Ny4yMTYuNjc4LjY0OS43MzIuOTk5LjA1MS4zMjctLjAwNi42NTItLjA4OC45MzEtLjQ3NCAxLjYwNi0xLjE5NiA0LjA2My0uNjcxIDYuNDcxLjQ5NiAyLjI3OSAyLjE2OCA0LjczIDcuMDE3IDYuMjEzLjQwNS4xMjQuODE0LjM4OSAxLjA2Ni42OTYuMDY4LjA4NC4xNTcuMjA5LjIyMS4zNzFhMS4wOTMgMS4wOTMgMCAwIDEtLjYyNiAxLjQzNWMtLjIwNi4wOC0uNC4wODgtLjUyOC4wODRhMTIuMjc1IDEyLjI3NSAwIDAgMS0xLjEyMS0uMTE1Yy0yLjA2LS4yNjgtNS45Ni41OTYtOS4xMzcgMi4zOTYtMS4xOTUuNjc3LTEuMzUuNjE3LS4zNTMtLjMyNiAxLjYyOS0xLjU0MSA0LjUwOS0zLjc0NyA3LjY4LTMuODY0LTQuMzQ1LTEuMDItNS42ODMtNC4yMTUtNi4xNzMtNi40NjQtLjQ3My0yLjE3LS4xMjQtNC4zMTguMjc3LTUuOTIyLS45NzIuNzQ4LTEuODE3IDEuMzA3LTIuNTU0IDEuNy0uOTkyLjUyOS0xLjg5OC44MTYtMi43MDIuNzQ1LS45MDEtLjA3OS0xLjUyMS0uNTktMS44Ny0xLjI3MS0uMzE1LS42MTYtLjQwNS0xLjM1MS0uNDE3LTIuMDEzLS4wMS0uNjE0LjA0OC0xLjI3OC4xMjctMS45MDFhNC4zMDUgNC4zMDUgMCAwIDEtLjQ3LjMyM2MtLjcyMy40MjQtMS41MzEuNTMyLTIuMjQ2LjA3OWwtLjAyOC0uMDE4em0xLjAyOS0xLjY5MXMuMDA5LS4wMDMuMDIyIDBjLS4wMTYuMDAzLS4wMjIgMC0uMDIyIDB6IiBmaWxsPSIjRkY2MTYxIi8+PHBhdGggZD0iTTI1MC42NDggMjIzLjVsLTcgOS41TTMxMS42NDggMjE4bC03IDkuNU0yNTIuNjQ4IDIzMGwtNyA5LjVNMzEzLjY0OCAyMjQuNWwtNyA5LjUiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfNzg3OF8xNTIxNyIgeDE9IjI3My41IiB5MT0iMjU0LjUiIHgyPSIyNjYuMDk3IiB5Mj0iMjkxLjMwNCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiNmZmYiLz48c3RvcCBvZmZzZXQ9Ii43MzEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjgiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzc4NzhfMTUyMTciIHgxPSIyMTAuMTUyIiB5MT0iMTI1IiB4Mj0iMzc3LjE1MiIgeTI9IjI4OSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiNFREY4RkYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGQUVGRkYiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQyX2xpbmVhcl83ODc4XzE1MjE3IiB4MT0iMTg4IiB5MT0iMjU2IiB4Mj0iMTg2LjkyNiIgeTI9IjI5Mi41MjciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIuNjc2IiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii44Ii8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48L3N2Zz4=",te="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cg clip-path='url(%23a)'%3E%3Cpath fill='url(%23b)' d='M200 158.5c-54.4-5.2-59.3 54.2-55 84.5h308c22.8-46-17.7-69.2-44-73.5 49.3-15.5 19.5-88-28.5-116C258.2-17.8 268 165 200 158.5Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M145 242h310'/%3E%3Cpath fill='%23fff' d='M195.3 213c-7.5-17.5-7.5-20-7.5-20l38.8-39.8c15.9 23.6 45.6 71.5 37.6 74.6a46 46 0 0 0-17.5 13.4h-63.1s19.2-10.5 11.7-28.1Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='10' d='M378 221.6c-29.5-66-56.2-32.1-109.5-78.5-52.2-34.8-99.8-36-117.2-16-38.6 44.2 90.6 76.6 34.4 112.9'/%3E%3Cpath fill='%23fff' d='M306 149.4c-12.4 6.4-15.5 16.6-15.5 21 0 16.7 14 13.4 21 9.6l14.1 15.5a67.3 67.3 0 0 1-37.1 22.6 97.9 97.9 0 0 0-42.2 23l-26-23 12.2-35.2-26-9.2c15.5-15 27.6-23.9 40.2-54.9 2.9-11.3 10.7-33 20-32.6 9.4.3 5.3 20.5 2.1 30.5 10.5-4.1 13.4 4.7 15.5 3.8 7-3 13.9 2.5 15.8 5.9 5-3 14.8-4.3 18.8 0 10.4 11 11.2 29.8 3.8 35.2 0 0-13.7-5.8-14.6-6.7-.4-.4-1.1-.4-2.1-5.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M306 149c1.5 3.3 4.5 10.5 8.6 13 5.3 3.4 17.6-1.5 12.1-22.5-5.5-21-22.7-23.4-49.4 4.5'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M300.4 125.4c-2.7-2.3-6.8-7.8-16-5m-23.2 17.2c10.2-10.7 17.7-15.5 23.3-17.2m0 0c-2.3-3.2-7.7-6.4-15.7-3.9m-20 15.3c7.8-9 14.5-13.5 20-15.3m0 0c2.8-7 8.3-26-2.3-30.4-15.1-6.3-13.2 35.3-36 62.4a561.6 561.6 0 0 1-43.1 45'/%3E%3Cpath fill='%23fff' d='m330.3 165.8-5.9.5-5.8 6-7.5 7.4-11.5 6.9-11.5 6.9 28.7 11.6 11-11.5 6.8-13.5-.2-10.7-4-3.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M310.8 146.3c-7.5 3.2-24.2 14.2-19 29 3.8 10.8 16.5 10.6 26.5-3.1 10-13.8 20.8-3.9 15.5 10.2-12 31.4-47 34.1-60 40.4-9.7 4.7-16.6 8.7-27.8 18.7'/%3E%3Ccircle cx='383.5' cy='234.5' r='17.5' fill='%23fff' stroke='%231F292E' stroke-width='2'/%3E%3Ccircle cx='381.5' cy='229.5' r='18.5' fill='%231684FC'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linejoin='round' stroke-width='2' d='M329.7 261.3a1 1 0 0 1 .7-.3h139a1 1 0 0 1 .7 1.7l-17.8 16a1 1 0 0 1-.7.3h-139a1 1 0 0 1-.7-1.7l17.8-16Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linejoin='round' stroke-width='2' d='M313.7 285.5a1 1 0 0 0 .9.5h139.7a1 1 0 0 0 .8-1.5l-2.8-5a1 1 0 0 0-.9-.5H311.7a1 1 0 0 0-.8 1.5l2.8 5ZM472 269.1a1 1 0 0 1-.3.7L457 285a1 1 0 0 1-1.6-.2l-2.9-5.1a1 1 0 0 1 .2-1.2l17.7-16a1 1 0 0 1 1.7.7v5.9Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='square' stroke-linejoin='round' stroke-width='4' d='M466 277.5c16.3 6.3 39.2 21.6 0 32-39.2 10.4-45 32.7-43 42.5'/%3E%3Crect width='2' height='6' x='342' y='266.9' fill='%231F292E' rx='1' transform='rotate(-27 342 267)'/%3E%3Crect width='2' height='6' x='392' y='266.9' fill='%231F292E' rx='1' transform='rotate(-27 392 267)'/%3E%3Crect width='2' height='6' x='429.9' y='267.1' fill='%231F292E' rx='1' transform='rotate(-31 429.9 267)'/%3E%3Crect width='2' height='6' x='351.9' y='266.1' fill='%231F292E' rx='1' transform='rotate(31 352 266.1)'/%3E%3Crect width='2' height='6' x='402.2' y='266.2' fill='%231F292E' rx='1' transform='rotate(36 402.2 266.2)'/%3E%3Crect width='2' height='6' x='440.6' y='266.3' fill='%231F292E' rx='1' transform='rotate(43 440.6 266.3)'/%3E%3Crect width='4' height='10' x='374' y='225' fill='%231F292E' rx='2'/%3E%3Crect width='4' height='10' x='385' y='225' fill='%231F292E' rx='2'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M406 190.4Zm1.6 3.5a24 24 0 0 1-.5 2.9c-.2.9-1.7 2.5-3.2 3.2-.8.3 0-.5.6-1.8.2-.5.5-1.1.6-1.9a22.7 22.7 0 0 0 .7-5.6 5 5 0 0 1 0-1l.2-.3c0-.1.2-.3.5-.4.3-.2.6 0 .9 0l.3.3.2.4.2.7a8.4 8.4 0 0 0 .5 1.8 1 1 0 0 0 .3 0 9 9 0 0 0 1.6-1.7 3.3 3.3 0 0 1 .2-.3l.4-.3a1 1 0 0 1 1 0c.4.2.5.6.6.7v.7l-.1.7v.5c-.2 1-.4 2-.4 3l.2 1c0 .2.1.2.3.2.2 0 .7 0 1.6-.5.8-.4 2-1.2 3.3-2.4l.8-.4c.2-.1.6-.2 1 0 .5.2.7.6.8 1l-.1 1c-.5 1.5-1.2 4-.7 6.4.5 2.3 2.2 4.7 7 6.2.5.1.9.4 1.1.7l.2.4c0 .1.2.4 0 .8a1 1 0 0 1-.6.6h-.5a12.7 12.7 0 0 1-1.1 0c-2.1-.3-6 .6-9.2 2.4-1.2.6-1.3.6-.3-.4 1.6-1.5 4.5-3.7 7.6-3.8a7.9 7.9 0 0 1-6.1-6.5c-.5-2.2-.1-4.3.3-5.9l-2.6 1.7a5 5 0 0 1-2.7.7c-.9 0-1.5-.5-1.9-1.2-.3-.6-.4-1.4-.4-2l.1-2a4 4 0 0 1-.4.4c-.8.4-1.6.5-2.3 0Zm1-1.7Z' clip-rule='evenodd'/%3E%3C/g%3E%3Cdefs%3E%3ClinearGradient id='b' x1='426' x2='259' y1='125' y2='289' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3CclipPath id='a'%3E%3Cpath fill='%23fff' d='M0 0h600v320H0z'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E",Q="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M332.3 78.2a71 71 0 0 0-110-27.1c-35.6 37.9-27 57.2-37.5 90.3-13 41.3-45.8 28-45.8 101 0 57.5 111.8 79 162.3 27.2 31-31.7 72.1-13.8 118-27.2 66.1-19 52.2-130-19.4-130-53.9 0-61.5-17-67.6-34.2Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M80 242h440'/%3E%3Cpath fill='%231F292E' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M156.8 260.3V134h140.5l18.5 120.7-159 5.6Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m139 134.4 17.8-.4v126.3L124 241l15-106.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m150.7 134.9-2.6 115m-3.8-115.5-4.8 65.1m-3 20.7-3 25.9m23.3-96.6 142.2-.8'/%3E%3Ccircle cx='165' cy='141.3' r='2.2' fill='%23FF6161'/%3E%3Ccircle cx='172.7' cy='141.3' r='2.2' fill='%23FFD361'/%3E%3Ccircle cx='180.5' cy='141.3' r='2.2' fill='%237BECB6'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m301.8 244.2-107 25.4a2 2 0 0 1-1.7-.3c-38.9-29-36-119.8-36-119.8l142.4-.8s7 37.9 23.5 49.4c1 .7.5 3.8-.6 3.9l-5 .4a1 1 0 0 0-.8 1.5l3.2 5.9a1 1 0 0 1-1.2 1.4l-11.7-4a1 1 0 0 0-1.3 1.4l1.8 3.6a1 1 0 0 1-1 1.4l-19-1.3c-1 0-1.5 1.2-.7 1.8l10.7 7.8a1 1 0 0 1 0 1.7l-3.4 2a1 1 0 0 0-.3 1.5l3.8 4.7a1 1 0 0 1-.6 1.7l-7.2 1.2a1 1 0 0 0-.2 2l12.5 5.6a1 1 0 0 1-.2 1.9Z'/%3E%3Cpath fill='%23F33' d='m226.1 198.2-1-13.2a.3.3 0 0 1 .2-.3l7-.5a.3.3 0 0 1 .3.2l1 13.2a.3.3 0 0 1-.2.3l-7 .6a.3.3 0 0 1-.3-.3Zm12.3-1-1-13.2a.3.3 0 0 1 .2-.3l7-.5a.3.3 0 0 1 .3.2l1 13.2a.3.3 0 0 1-.2.3l-7 .5a.3.3 0 0 1-.3-.2Zm19.7-15.2a.3.3 0 0 1 .3.3l.9 10.4v3a22.2 22.2 0 0 1-11.2 18.1.3.3 0 0 1-.4-.1l-3.4-6.1a.3.3 0 0 1 .2-.4c4.7-2.8 7.7-8 7.2-13.9l-.8-10.4a.3.3 0 0 1 .2-.3l7-.6Z'/%3E%3Cpath fill='%23fff' d='m378.8 208.7-6.5-1.8c-6.5-3.2-19.5-8.3-19.5-3.5 0 6.1.9 24 12.6 40a121.7 121.7 0 0 1 16.9 35.1l79-28.2v-33.8s17.7-46 17.7-53.5-14-5-20.5 4.5-7 13-7 13c-5.5-9-11.5-8.2-15-6.6-3.8-5.2-13.1-8.2-17.3-9-4.2-9.8-12.2-11-15.6-10.5l-15.7 3-4.3 30.9 17.4-7.9c1.7 5.4 3.9 18-1.3 25.2-5.2 7.3-11.2 8.3-13.5 7.8l-7.4-4.7Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M400.7 181.2c-3.5 1.6-10.7 5.1-15.7 4.3-6.3-1-12.7-13.1 5.9-25.9s33.7-2.9 35.7 37.2'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M421 166.5c3.7 0 10.7-1.5 16 6.8m6.5 29.4c-.7-15.3-3.3-24.2-6.5-29.4m0 0c4-1 10.3.2 14.9 7.6m5.3 25.7c0-12.5-2.2-20.6-5.3-25.7m0 0c2.6-7.4 11.2-26 22.4-22.2 16.2 5.3-13.7 36.6-14.1 73.3a571 571 0 0 0 4.4 73.8'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m383.9 206-51.3-27.4c-.9-.5-.6-1.9.5-2l18.9-.6a1 1 0 0 0 .7-1.6l-6.9-9.9a1 1 0 0 1 1-1.5l8.3 2a1 1 0 0 0 1.2-1.1l-1.4-7.6a1 1 0 0 1 1.6-1l10.6 8.4a1 1 0 0 0 1.6-1l-5.1-18c-.3-1.1 1.1-1.8 1.8-1l8 11a1 1 0 0 0 1.8-.4l3.8-12a1 1 0 0 1 1.7-.4l5 4.9a1 1 0 0 0 1.4-.1l9.4-11.2c.6-.8 2-.2 1.7.8l-12.9 69a1 1 0 0 1-1.4.8Z'/%3E%3Cpath fill='%23fff' d='m370.1 177.8 4.4 4.4.4 8.7.9 10.8L380 215l4.4 13.2-30.4-10.4-.9-16.5 4-15.2 7.3-8.3h5.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M398.7 175.8c3.7 7.6 9.4 27.5-4.9 35.6-10.3 6-20-2.9-18.6-20.5 1.5-17.6-13.6-17-19-2.4-12 32.7 13.7 58.6 19.5 72.3 5.9 13.7 8.8 23 10.8 51.3'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M410 106.7Zm.9 3.8a24.1 24.1 0 0 1-1 2.7c-.3.8-2 2.2-3.7 2.7-.8 0 .2-.5 1-1.7l.9-1.8a22.7 22.7 0 0 0 1.5-5.4 5.4 5.4 0 0 1 .3-1l.2-.3.6-.3c.3 0 .6 0 .8.2.2.1.3.3.3.4l.1.4v.7a8.3 8.3 0 0 0 .3 1.8 1 1 0 0 0 .2 0c.4-.1 1-.5 2-1.3l.2-.3.4-.2a1 1 0 0 1 1 .2c.4.2.4.6.5.7l-.1.8a10.7 10.7 0 0 1-.4 1.1c-.3.9-.7 2-.8 2.8v1.2l.2.2 1.7-.2c.9-.3 2.1-.9 3.7-1.8.3-.2.5-.3.8-.3.3 0 .7-.1 1 .2.5.3.6.7.6 1 0 .4 0 .7-.2 1-.7 1.5-1.9 3.8-1.8 6.2.1 2.4 1.4 5 5.9 7.3.4.2.7.6 1 1v.3a1 1 0 0 1-.8 1.3 1.4 1.4 0 0 1-.5 0l-1.1-.3c-2-.6-6-.4-9.4.8-1.3.5-1.4.4-.3-.4 1.9-1.2 5-2.9 8.2-2.5a7.9 7.9 0 0 1-5-7.4c0-2.2.6-4.3 1.3-5.8-1 .6-2 1-2.8 1.3a5 5 0 0 1-2.8.2 2 2 0 0 1-1.6-1.5c-.2-.7-.2-1.4 0-2 0-.7.2-1.3.4-2a4.3 4.3 0 0 1-.5.3c-.8.3-1.6.3-2.3-.3Zm1.3-1.5Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='427.5' x2='219.7' y1='147.8' y2='310.6' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",ee="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M332.3 78.2a71 71 0 0 0-110-27.1c-35.6 37.9-27 57.2-37.5 90.3-13 41.3-45.8 28-45.8 101 0 57.5 111.8 79 162.3 27.2 31-31.7 72.1-13.8 118-27.2 66.1-19 52.2-130-19.4-130-53.9 0-61.5-17-67.6-34.2Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M80 242h440'/%3E%3Cpath fill='%231F292E' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M156.8 260.3V134h140.5l18.5 120.7-159 5.6Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m139 134.4 17.8-.4v126.3L124 241l15-106.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m150.7 134.9-2.6 115m-3.8-115.5-4.8 65.1m-3 20.7-3 25.9m23.3-96.6 142.2-.8'/%3E%3Cpath fill='%23FF6161' d='M165 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%23FFD361' d='M172.7 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%237BECB6' d='M180.5 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m301.6 241.5-107 25.4a2 2 0 0 1-1.6-.3c-39-29-36-119.7-36-119.7l142.3-.9s7 37.9 23.6 49.5c1 .6.5 3.7-.7 3.8l-5 .5a1 1 0 0 0-.9 1l.1.4 3.2 6a1 1 0 0 1-1.2 1.3l-11.7-4a1 1 0 0 0-1.2 1.4l1.7 3.7a1 1 0 0 1-1 1.4l-19-1.4a1 1 0 0 0-.6 1.8l10.7 7.9a1 1 0 0 1-.1 1.6l-3.4 2.1a1 1 0 0 0-.4.7 1 1 0 0 0 .2.8l3.8 4.7a1 1 0 0 1-.6 1.6l-7.2 1.3a1 1 0 0 0-.3 1.9l12.5 5.6a1 1 0 0 1-.2 2Z'/%3E%3Cpath fill='%23fff' d='m378.8 208.7-6.5-1.8c-6.5-3.2-19.5-8.3-19.5-3.5 0 6.1.9 24 12.6 40a121.7 121.7 0 0 1 16.9 35.1l79-28.2v-33.8s17.7-46 17.7-53.5-14-5-20.5 4.5-7 13-7 13c-5.5-9-11.5-8.2-15-6.6-3.8-5.2-13.1-8.2-17.3-9-4.2-9.8-12.2-11-15.6-10.5l-15.7 3-4.3 30.9 17.4-7.9c1.7 5.4 3.9 18-1.3 25.2-5.2 7.3-11.2 8.3-13.5 7.8l-7.4-4.7Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M400.7 181.2c-3.5 1.6-10.7 5.1-15.7 4.3-6.3-1-12.7-13.1 5.9-25.9 18.5-12.7 33.7-2.9 35.7 37.2'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M421 166.5c3.7 0 10.7-1.5 16 6.8m0 0c3.2 5.2 5.8 14 6.5 29.4m-6.5-29.4c4-1 10.3.2 14.9 7.6m0 0a49.3 49.3 0 0 1 5.3 25.7m-5.3-25.7c2.6-7.4 11.2-26 22.4-22.2 16.2 5.3-13.7 36.6-14.1 73.3a571 571 0 0 0 4.4 73.8'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m383.9 206-51.3-27.4c-.9-.5-.6-1.9.5-2l18.9-.6a1 1 0 0 0 1-1.1c0-.2-.2-.4-.3-.5l-6.9-9.9a1 1 0 0 1 1-1.5l8.3 2a1 1 0 0 0 1.2-1.1l-1.4-7.6a1 1 0 0 1 1.6-1l10.6 8.4a1 1 0 0 0 1.6-1l-5.1-18c-.3-1.1 1.1-1.8 1.8-1l8 11a1 1 0 0 0 1.8-.4l3.8-12a1 1 0 0 1 1.7-.4l5 4.9a1 1 0 0 0 1.1.1l.3-.2 9.4-11.2c.6-.8 2-.2 1.7.8l-12.9 69a1 1 0 0 1-.5.8 1 1 0 0 1-1 0Z'/%3E%3Cpath fill='%23fff' d='m370.1 177.8 4.4 4.4.4 8.7.9 10.8L380 215l4.4 13.2-30.4-10.4-.9-16.5 4-15.2 7.3-8.3h5.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M398.7 175.8c3.7 7.6 9.4 27.5-4.9 35.6-10.3 6-20-2.9-18.6-20.5 1.5-17.6-13.6-17-19-2.4-12 32.7 13.7 58.6 19.5 72.3 5.9 13.7 8.8 23 10.8 51.3'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='m410.9 110.5-1 2.7c-.3.8-2 2.2-3.7 2.7-.8 0 .2-.5 1-1.7l.9-1.8a22.7 22.7 0 0 0 1.7-6.1l.1-.3.2-.3.6-.3c.3 0 .6 0 .8.2.2.1.3.3.3.4l.1.4v.7a8.3 8.3 0 0 0 .3 1.8h.2c.4-.1 1-.5 2-1.3l.2-.3.4-.2a1 1 0 0 1 1 .2c.4.2.4.6.5.7l-.1.8a10.7 10.7 0 0 1-.4 1.1c-.3.9-.7 2-.8 2.8v1.2l.2.2 1.7-.2c.9-.3 2.1-.9 3.7-1.8.3-.2.5-.3.8-.3.3 0 .7-.1 1 .2.5.3.6.7.6 1 0 .4 0 .7-.2 1-.7 1.5-1.9 3.8-1.8 6.2.1 2.4 1.4 5 5.9 7.3.4.2.7.6 1 1v.3a1 1 0 0 1-.8 1.3h-.5l-1.1-.3c-2-.6-6-.4-9.4.8-1.3.5-1.4.4-.3-.4 1.9-1.2 5-2.9 8.2-2.5a7.9 7.9 0 0 1-5-7.4c0-2.2.6-4.3 1.3-5.8-1 .6-2 1-2.8 1.3a5 5 0 0 1-2.8.2 2 2 0 0 1-1.6-1.5c-.2-.7-.2-1.4 0-2 0-.7.2-1.3.4-2l-.5.3c-.8.3-1.6.3-2.3-.3Zm1.3-1.5Z' clip-rule='evenodd'/%3E%3Cmask id='b' fill='%23fff'%3E%3Cpath fill-rule='evenodd' d='m228.2 205.7-1.5-22.6-6.6.1 1.5 22.7 6.6-.2Zm-.8-23.4-8.1.2 1.6 24.2 8-.2-1.5-24.2Z' clip-rule='evenodd'/%3E%3C/mask%3E%3Cpath fill='%23fff' fill-rule='evenodd' d='m228.2 205.7-1.5-22.6-6.6.1 1.5 22.7 6.6-.2Zm-.8-23.4-8.1.2 1.6 24.2 8-.2-1.5-24.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%23000' d='M226.7 183h1.1v-1h-1.2v1.2Zm1.5 22.7v1.2h1.2v-1.2h-1.2Zm-8-22.5-.1-1.1h-1.2v1.2h1.2Zm1.4 22.7h-1.1v1.2h1.2v-1.2Zm5.8-23.6h1.2l-.1-1.2h-1.2v1.2Zm-8.1.2v-1.2H218l.1 1.2h1.2Zm1.6 24.2h-1.2l.1 1.2h1.2v-1.2Zm8-.2.2 1.2h1.1v-1.3H229Zm-3.4-23.4 1.5 22.7 2.3-.1-1.5-22.7-2.3.1Zm-5.3 1.3 6.5-.2-.1-2.3-6.5.2.1 2.3Zm2.6 21.5-1.5-22.7H219l1.5 22.7h2.3Zm5.3-1.3-6.5.1.1 2.4 6.5-.2-.1-2.3Zm-1.9-22.3 1.6 24.2h2.4l-1.6-24.3-2.4.1Zm-6.8 1.4 8-.3v-2.3l-8.2.2.2 2.4Zm2.7 23-1.6-24.2H218l1.6 24.2h2.4Zm6.8-1.4-8 .2v2.4l8.2-.2-.2-2.4Z' mask='url(%23b)'/%3E%3Cpath fill='%232E03A0' d='M225.2 210.6a4.2 4.2 0 0 1-4.3-4c-.1-2.1 1.5-4 3.8-4a4.3 4.3 0 0 1 4.3 3.9 4 4 0 0 1-3.8 4.1Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M221.7 206.7a3.4 3.4 0 0 0 3.5 3.1c1.8 0 3.1-1.5 3-3.3a3.4 3.4 0 0 0-3.5-3.2 3.1 3.1 0 0 0-3 3.4Zm-.8 0c.2 2.2 2 4 4.3 4a4 4 0 0 0 3.8-4.2c-.2-2.3-2-4-4.3-4-2.3.1-4 2-3.8 4.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='m226.7 180.2 13.5 20.7-6.7 4.2-13.6-20.6 6.8-4.3Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m239.1 200.6-12.6-19.3-5.5 3.4 12.7 19.3 5.4-3.4Zm-12.4-20.4-6.8 4.3 13.6 20.6 6.7-4.2-13.5-20.7Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='M223.6 186.4a4.2 4.2 0 0 1-4.3-4c-.1-2.1 1.5-4 3.8-4a4.2 4.2 0 0 1 4.3 3.9 4 4 0 0 1-3.8 4.1Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M220 182.5a3.4 3.4 0 0 0 3.6 3.2c1.8 0 3.1-1.6 3-3.4a3.4 3.4 0 0 0-3.5-3.2 3.1 3.1 0 0 0-3 3.4Zm-.7 0c.2 2.2 2 4 4.3 4a4 4 0 0 0 3.8-4.2c-.2-2.3-2-4-4.3-4-2.3.1-4 2-3.8 4.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%2313C1FF' d='m243.5 181.9 1.6 24.2 8.1-.3-1.6-24.2-8 .3Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m245.8 205.3-1.5-22.7 6.6-.2 1.5 22.7-6.6.2Zm-2.3-23.4 8.1-.3 1.6 24.2-8 .3-1.7-24.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%2306CF13' d='M249.4 210c2.3 0 4-2 3.8-4.2-.1-2.2-2-4-4.3-3.9-2.2 0-4 2-3.8 4.2.2 2.2 2 4 4.3 3.9Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M252.4 205.9a3.1 3.1 0 0 1-3 3.3 3.4 3.4 0 0 1-3.5-3.2 3.1 3.1 0 0 1 3-3.3c1.8 0 3.4 1.4 3.5 3.2Zm.8 0c.1 2.2-1.5 4-3.8 4a4.2 4.2 0 0 1-4.3-3.8 4 4 0 0 1 3.8-4.2c2.2 0 4.2 1.7 4.3 4Z' clip-rule='evenodd'/%3E%3Cpath fill='%23FA52D6' d='M244 179.8 233.2 201l7.3 3.8 10.7-21.3-7.2-3.8Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m234.3 200.8 10-20 5.9 3.1-10 20-6-3.1Zm9.7-21 7.2 3.8-10.7 21.3-7.3-3.8 10.8-21.3Z' clip-rule='evenodd'/%3E%3Cpath fill='red' d='M235 206.5c2 1.1 4.5.4 5.5-1.6s.1-4.4-1.9-5.5a4 4 0 0 0-5.4 1.7 4 4 0 0 0 1.9 5.4Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M239.8 204.5a3.2 3.2 0 0 1-4.4 1.4 3.3 3.3 0 0 1-1.5-4.5 3.2 3.2 0 0 1 4.4-1.3c1.6.9 2.3 2.9 1.5 4.4Zm.7.4a4 4 0 0 1-5.4 1.6c-2-1-2.9-3.5-1.9-5.4a4 4 0 0 1 5.4-1.7c2 1.1 2.9 3.6 1.9 5.5Z' clip-rule='evenodd'/%3E%3Cpath fill='%23FFC400' d='M247.8 185.8c2.3 0 4-2 3.8-4.2-.2-2.2-2-4-4.3-3.9-2.2 0-4 2-3.8 4.2.2 2.2 2 4 4.3 3.9Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M250.8 181.7a3.1 3.1 0 0 1-3 3.3 3.4 3.4 0 0 1-3.5-3.2 3.1 3.1 0 0 1 3-3.3c1.9 0 3.4 1.3 3.5 3.2Zm.8 0c.1 2.2-1.5 4-3.8 4a4.2 4.2 0 0 1-4.3-3.8 4 4 0 0 1 3.8-4.2c2.2 0 4.1 1.7 4.3 4Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='427.5' x2='219.7' y1='147.8' y2='310.6' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E";function J(x){const{className:N,source:O,rotate:w,width:K,height:D,onClick:ne}=x,k={msTransform:"rotate("+w+"deg)",transform:"rotate("+w+"deg)",width:K,height:D};return(0,Y.jsx)("img",{className:N,src:O,style:k,onClick:ne})}J.propTypes={className:b().string,source:b().string.isRequired,width:b().number,height:b().number,rotate:b().number,onClick:b().func};const F=J,T=403,Z=404,H=[500,501,502,503,504,505],c="link_expired";var f=n(80396);function h(x,N,O){return(N=u(N))in x?Object.defineProperty(x,N,{value:O,enumerable:!0,configurable:!0,writable:!0}):x[N]=O,x}function u(x){var N=p(x,"string");return typeof N=="symbol"?N:N+""}function p(x,N){if(typeof x!="object"||!x)return x;var O=x[Symbol.toPrimitive];if(O!==void 0){var w=O.call(x,N||"default");if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(x)}class S extends j.PureComponent{constructor(){super(...arguments),h(this,"typeText",{title_403:{"zh-CN":"\u5BF9\u4E0D\u8D77\uFF0C\u4F60\u6CA1\u6709\u8BBF\u95EE\u6743\u9650",en:"Permission denied",jp:""},des_403_0:{"zh-CN":(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsxs)("p",{className:"proposal",children:["\u5F53\u524D\u8D26\u53F7\u662F ",(0,Y.jsx)("span",{className:"count-detail",children:this.props.account}),"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650"]})}),en:(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsxs)("p",{className:"proposal",children:["Current account ",(0,Y.jsx)("span",{className:"count-detail",children:this.props.account}),", permission denied."]})}),jp:""},des_403_1:{"zh-CN":(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsxs)("p",{className:"proposal",children:["\u5F53\u524D\u8D26\u53F7\u662F ",(0,Y.jsx)("span",{className:"count-detail",children:this.props.account}),"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u4FEE\u6539\u8BBF\u95EE\u6743\u9650"]})}),en:(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsxs)("p",{className:"proposal",children:["Current account ",(0,Y.jsx)("span",{className:"count-detail",children:this.props.account}),", permission denied. Please contact administrator."]})}),jp:""},des_403_2:{"zh-CN":"\u60A8\u8FD8\u6CA1\u6709\u767B\u5F55\uFF0C\u8BF7\u767B\u5F55\u540E\u5C1D\u8BD5\u8BBF\u95EE",en:"You are not logged in. Please log in and try again.",jp:""},des_403_3:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u6587\u4EF6\u6570\u8D85\u9650\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied.",jp:""},des_403_4:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u4F01\u4E1A\u7248\u8FC7\u671F\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied. Please contact administrator. ",jp:""},title_404:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u627E\u4E0D\u5230\u6587\u4EF6",en:"Sorry, there is no visible page.",jp:""},des_404:{"zh-CN":"\u6587\u4EF6\u53EF\u80FD\u5DF2\u88AB\u5220\u9664\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u83B7\u53D6\u65B0\u7684\u5206\u4EAB\u94FE\u63A5",en:"The page may have been deleted. Please contact the sharer to inquire about the link status.",jp:""},title_link_expired:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u94FE\u63A5\u5931\u6548",en:"Sorry, the link is invalid",jp:""},des_link_expired:{"zh-CN":"\u94FE\u63A5\u53EF\u80FD\u5DF2\u88AB\u5220\u9664\u6216\u8005\u8BBE\u7F6E\u6709\u8BEF\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u83B7\u53D6\u6700\u65B0\u5206\u4EAB\u94FE\u63A5",en:"The link may have been deleted or set incorrectly. Please contact the sharer to obtain the latest link.",jp:""},title_5xx:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u65E0\u6CD5\u8FDE\u63A5\u58A8\u5200\u670D\u52A1\u5668",en:"Sorry, unable to connect to Mockitt server",jp:""},des_5xx:{"zh-CN":(0,Y.jsxs)("div",{className:"proposal text-left",children:[(0,Y.jsx)("p",{children:"\u8BF7\u5C1D\u8BD5\u4EE5\u4E0B\u65B9\u6CD5\uFF1A"}),(0,Y.jsxs)("ul",{className:"text-list",children:[(0,Y.jsx)("li",{children:"\u5982\u679C\u60A8\u5F00\u4E86\u7F51\u7EDC\u4EE3\u7406\uFF08VPN\uFF09\uFF0C\u5EFA\u8BAE\u60A8\u5B8C\u5168\u5173\u95ED\u540E\u518D\u5237\u65B0\u58A8\u5200"}),(0,Y.jsx)("li",{children:"\u5982\u679C\u4E0D\u662F\u4E0A\u8FF0\u539F\u56E0\u5BFC\u81F4\u7684\uFF0C\u8BF7\u60A8\u8FDE\u63A5\u624B\u673A\u70ED\u70B9\u6216\u5207\u6362\u53E6\u4E00\u4E2A\u7F51\u7EDC"})]}),(0,Y.jsx)("p",{children:"\u82E5\u4F9D\u65E7\u65E0\u6CD5\u6B63\u5E38\u8FDB\u5165\u58A8\u5200\uFF0C\u8BF7\u8054\u7CFB\u5BA2\u670D"})]}),en:(0,Y.jsxs)("div",{className:"proposal text-left",children:[(0,Y.jsx)("p",{children:"Please try the following methods:"}),(0,Y.jsxs)("ul",{className:"text-list",children:[(0,Y.jsx)("li",{children:"If your VPN is on, please turn it off then refresh Mockitt."}),(0,Y.jsx)("li",{children:"If not, please switch to another network."})]}),(0,Y.jsx)("p",{children:"If the problem stays, please contact support."})]}),jp:""},title_0:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u9875\u9762\u5D29\u6E83\u4E86",en:"Sorry, this page is corrupted",jp:""},des_0:{"zh-CN":"\u8BF7\u5C1D\u8BD5\u5237\u65B0\u9875\u9762\u6216\u5173\u95ED\u518D\u91CD\u65B0\u6253\u5F00\u58A8\u5200\uFF0C\u82E5\u65E0\u6CD5\u89E3\u51B3\u8BF7\u8054\u7CFB\u5BA2\u670D",en:"Please refresh this page or close this page and start Mockitt again. If the problem stays, please contact  support.",jp:""},previewFile:{"zh-CN":"\u9884\u89C8\u6587\u4EF6",en:"Preview File",jp:""},goHome:{"zh-CN":"\u8FD4\u56DE\u58A8\u5200\u9996\u9875",en:"Back to Homepage",jp:""},reloadPage:{"zh-CN":"\u5237\u65B0\u9875\u9762",en:"Refresh this page",jp:""},contactUs:{"zh-CN":"\u8054\u7CFB\u5BA2\u670D",en:"Support",jp:""}}),h(this,"clickGoHome",()=>{let N="",{locale:O}=this.props;O==="zh-CN"?N="/":O==="jp"?N="https://mockitt.wondershare.jp":N="https://mockitt.wondershare.com",window.top!==window.self?window.top.location.replace(N):location.replace(N)}),h(this,"clickReloadPage",()=>{window.location.reload()}),h(this,"clickContactUs",()=>{let N="",{locale:O}=this.props;if(O==="zh-CN"){document.getElementById("mdOnlineSupport")&&document.getElementById("mdOnlineSupport").click();return}else O==="jp"?N="https://support.wondershare.jp":N="https://support.wondershare.com/product/mockitt.html";window.open(N)}),h(this,"getErrorConfig",()=>{const{errorType:N,primaryBtnText:O,primaryBtnClick:w,secondaryBtnText:K,secondaryBtnClick:D,locale:ne}=this.props,{typeText:k,clickGoHome:V,clickContactUs:z,clickReloadPage:I}=this;let P,q,pe="",ge=null,we;const ke={text:k.goHome[ne],click:V},Me={text:k.reloadPage[ne],click:I},ze={text:k.contactUs[ne],click:z};switch(!0){case N===T:P=ke.text,q=ke.click,we=U;break;case N===Z:P=ke.text,q=ke.click,we=R;break;case N===c:P=ke.text,q=ke.click,we=R;break;case H.includes(N):P=Me.text,q=Me.click,pe=ze.text,ge=ze.click,we=te;break;default:P=Me.text,q=Me.click,pe=ze.text,ge=ze.click,we=ne==="en"?ee:Q;break}return O&&(P=O),w&&(q=w),K&&(pe=K),D&&(ge=D),{svgBg:we,primaryText:P,primaryClick:q,secondaryText:pe,secondaryClick:ge}}),h(this,"getErrorInfo",()=>{const{errorType:N,identity:O,locale:w,customTitle:K,customDes:D,account:ne}=this.props,{typeText:k}=this;let V,z;if(K)V=K;else{const I=H.includes(N)?"title_5XX":"title_"+N;V=k[I]?k[I][w]:k.title_0[w]}if(D)z=D;else{let I="des_"+N;N===T?I=ne?"des_"+N+"_"+O:"des_"+N+"_2":H.includes(N)?I="des_5xx":N===c&&(I="des_link_expired"),z=k[I]?k[I][w]:k.des_link_expired[w]}return{title:V,desc:z}}),h(this,"handleClickLogo",()=>{let{isLogoClickable:N,logoUrl:O}=this.props;N&&(window.top!==window.self?window.top.location.href=O:window.location.href=O)})}render(){const{locale:N,isShowPrimaryBtn:O,isShowSecondaryBtn:w,isLogoClickable:K,previewFileBtnClick:D}=this.props,{typeText:ne}=this,{svgBg:k,primaryText:V,primaryClick:z,secondaryText:I,secondaryClick:P}=this.getErrorConfig(),{title:q,desc:pe}=this.getErrorInfo();return(0,Y.jsxs)(re,{children:[(0,Y.jsx)("div",{className:"logo",children:(0,Y.jsx)("span",{className:K?"logo-clickable":"",onClick:this.handleClickLogo,children:(0,Y.jsx)(F,{source:k})})}),(0,Y.jsxs)("div",{className:"content",children:[(0,Y.jsx)("p",{className:"title",children:q}),typeof pe=="string"?(0,Y.jsx)("p",{className:"proposal",children:pe}):pe]}),(0,Y.jsxs)("div",{className:"btn-list",children:[w&&P&&I&&(0,Y.jsx)("a",{className:"btn regular",onClick:P,children:I}),D&&(0,Y.jsx)("a",{className:"btn regular",onClick:D,children:ne.previewFile[N]}),O&&z&&V&&(0,Y.jsx)("a",{className:"btn primary",onClick:z,children:V}),I===ne.contactUs[N]&&(0,Y.jsx)(f.A,{})]})]})}}h(S,"propTypes",{locale:b().oneOf(["zh-CN","en","jp"]),identity:b().oneOf([0,1]),customTitle:b().string,customDes:b().string,isShowPrimaryBtn:b().bool,primaryBtnText:b().string,primaryBtnClick:b().func,isShowSecondaryBtn:b().bool,secondaryBtnText:b().string,secondaryBtnClick:b().func,errorType:b().oneOf([0,403,404,500,501,502,503,504,505,c]).isRequired,account:b().string,isLogoClickable:b().bool,logoUrl:b().string}),h(S,"defaultProps",{locale:"zh-CN",isShowPrimaryBtn:!0,isShowSecondaryBtn:!0,identity:0,errorType:0,isLogoClickable:!0,logoUrl:"/"})},80396:(_e,de,n)=>{"use strict";n.d(de,{A:()=>E});var o=n(51044),b=n(66748),j=n.n(b),m=n(57464);E.propTypes={className:j().string,children:j().oneOfType([j().array,j().string]),isWonderShare:j().bool,id:j().string,onClick:j().func,disabled:j().bool,canClick:j().bool};function E(re){let{className:Y,children:U,isWonderShare:R=!1,id:te="mdOnlineSupport",onClick:Q,disabled:ee,canClick:J}=re;const F="qd300907440129217b43492df1157945f52a80582eaf",T=R?"https://support.wondershare.com/":"";(0,o.useEffect)(()=>ee?void 0:(!document.getElementById(F)&&!R&&Z(),()=>{const f=document.getElementById(F);f&&f.remove()}),[]);const Z=()=>{n.g?(n.g.wpaShowItemId=window.wpaShowItemId="123",n.g.qidian_ex1=window.qidian_ex1="12"):(window.wpaShowItemId="123",window.qidian_ex1="12");let c=document.createElement("script");c.id=F,c.src="https://wp.qiye.qq.com/qidian/3009074401/29217b43492df1157945f52a80582eaf",c.charset="utf-8",c.async=!0,c.defer=!0,document.body.appendChild(c)},H=c=>{if(ee){J&&Q&&Q();return}if(Q&&Q(),R){window.open(T);return}if(te!=="mdOnlineSupport"){c.preventDefault();const f=document.getElementById("mdOnlineSupport");f&&f.click()}};return(0,m.jsx)("div",{style:{cursor:"pointer"},id:te,className:Y,onClick:H,children:U})}},29584:(_e,de,n)=>{"use strict";n.d(de,{A:()=>x,d:()=>ee});var o=n(30108),b=n.n(o),j=n(98236),m=n.n(j),E=n(51044),re=n(60185),Y=n(66748),U=n.n(Y),R=n(480),te=n(28149);const Q=9;function ee(O){let{$opener:w,$menuBase:K,menuX:D="left",menuY:ne="bottom",menuBaseStyle:k={},inflexible:V=!1,shouldSetMaxHeight:z=!1}=O;if(!w||!K)return{};const I=K.querySelector("*"),P={styleFor$menuBase:{},styleFor$menu:{}},q=ut=>Object.assign(P.styleFor$menuBase,ut),pe=ut=>Object.assign(P.styleFor$menu,ut),{offsetHeight:ge}=I,we=k.width||w.offsetWidth,ke=k.height||w.offsetHeight,Me=w.getBoundingClientRect(),{top:ze,bottom:Ze,left:Oe}=Object.assign({top:Me.top,right:Me.right,bottom:Me.bottom,left:Me.left},k);q({top:ze+"px",left:Oe+"px",width:we+"px",height:ke+"px"});const{innerHeight:be}=window,Ue=10,Ye=be-10,et=ne==="top"?1/3:2/3,Qe=be*et,i=ze+ke/2,ct=ze+ke;return(V&&ne==="bottom"||!V&&Qe>=i)&&ct+ge+Q<be?(P.isDownward=!0,z&&Ze+ge>Ye&&pe({maxHeight:Ye-Ze+"px"})):(P.isDownward=!1,z&&ze-ge<Ue&&pe({maxHeight:ze-Ue+"px"})),Object.assign(K.style,P.styleFor$menuBase),Object.assign(I.style,P.styleFor$menu),P}var J=n(21676);const F=J.Ay.label.withConfig({displayName:"styled__StyledDropDown",componentId:"sc-665wv9-0"})(["&.is-disabled{opacity:0.5;> button{cursor:not-allowed;}}"]),T=J.Ay.div.withConfig({displayName:"styled__StyledDropDownMenu",componentId:"sc-665wv9-1"})(["position:absolute;margin:0.25em 0;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;min-width:7em;font-size:12px;filter:drop-shadow(0 2px 10px rgba(39,54,78,0.12)) drop-shadow(4px 12px 40px rgba(39,54,78,0.12));pointer-events:none;opacity:0;transition:0.2s ease-in-out;transition-property:transform,opacity;transform-origin:50% 0;transform:scale(0.9);&.is-open{pointer-events:initial;opacity:1;transform:scale(1);}&.x-left{left:0;}&.x-right{left:initial;right:0;}&.x-center{left:50%;transform:scale(0.9) translateX(-50%);&.is-open{transform:scale(1) translateX(-50%);}}&.is-downward{top:100%;bottom:initial;}&.is-upward{top:initial;bottom:100%;}&.arrowed{margin-top:0.75em;margin-bottom:0.75em;&.x-left.x-arrow-based{left:50%;margin-left:-14px;}&.x-right.x-arrow-based{left:initial;right:50%;margin-right:-14px;}}.arrow{position:absolute;top:0;left:calc(50% - 0.5em);width:1em;height:0.375em;font-size:14px;line-height:0;fill:currentColor;fill-rule:evenodd;color:#fff;svg{position:absolute;width:auto;height:5px;transform:translateY(-100%);}}&.dark .arrow{color:rgba(30,41,46,.9);}&.x-left .arrow{left:0.5em;right:initial;}&.x-right .arrow{left:initial;right:0.5em;}&.is-upward .arrow{transform:rotate(180deg);top:initial;bottom:0;}.content{padding:0.75em 0.5em;min-height:32px;background-color:#fff;border-radius:4px;}&.dark .content{background-color:rgba(30,41,46,.9);color:#fff;}ul.MenuList{margin:0;padding:0;list-style:none;text-align:center;color:#5b6b73;li{line-height:32px;border-radius:2px;cursor:pointer;&:not(.is-disabled):hover{background-color:#f6f7f8;}&.is-active{color:#298df8;}&.is-disabled{cursor:not-allowed;opacity:0.5;}}}"]),Z=J.Ay.div.withConfig({displayName:"styled__StyledDropDownBase",componentId:"sc-665wv9-2"})(["position:fixed;z-index:1100;pointer-events:none;"]);var H=n(57464);function c(O,w,K){return(w=f(w))in O?Object.defineProperty(O,w,{value:K,enumerable:!0,configurable:!0,writable:!0}):O[w]=K,O}function f(O){var w=h(O,"string");return typeof w=="symbol"?w:w+""}function h(O,w){if(typeof O!="object"||!O)return O;var K=O[Symbol.toPrimitive];if(K!==void 0){var D=K.call(O,w||"default");if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(O)}const u="IBOT_DROPDOWN_MENU_ROOT",p=document.getElementById(u)||Object.assign(document.createElement("div"),{id:u}),S=document.body;S.contains(p)||S.appendChild(p);class x extends E.PureComponent{constructor(){super(...arguments),c(this,"state",{prevProps:this.props,isOpen:this.props.isOpen,$opener:null,currentMenuListItemIdx:this.props.currentMenuListItemIdx}),c(this,"leaveTimeoutList",[]),c(this,"createMenuRef",w=>this.$menuRef=w),c(this,"toggle",w=>this.setState({isOpen:b()(w)?w:!this.state.isOpen})),c(this,"open",()=>this.toggle(!0)),c(this,"close",()=>this.toggle(!1)),c(this,"onMouseEnter",()=>{const{shouldOpenOnHover:w}=this.props;w&&(clearTimeout(this.closeTimeout),Object.assign(this,{hoverTimeout:setTimeout(this.open,this.props.hoverDelay)}))}),c(this,"onMouseLeave",()=>{const{shouldOpenOnHover:w}=this.props;w&&clearTimeout(this.hoverTimeout)}),c(this,"onMouseMove",w=>{var K;let{clientX:D,clientY:ne}=w;const{shouldOpenOnHover:k,hoverDelay:V,hoverCloseDelay:z}=this.props,{$opener:I}=this.state;if(!k)return;clearTimeout(this.hoverTimeout);const P=document.elementFromPoint(D,ne),q=!I.contains(P),pe=!((K=this.$menuRef)!=null&&(K=K.menuBaseRef)!=null&&(K=K.current)!=null&&K.contains(P));pe?q&&pe&&this.leaveTimeoutList.push(setTimeout(this.close,z!==void 0?z:Math.max(V,300))):(this.leaveTimeoutList.map(clearTimeout),Object.assign(this,{leaveTimeoutList:[]}))}),c(this,"set$opener",w=>this.setState({$opener:w})),c(this,"onSelect",w=>{let{currentTarget:K}=w;const{menuList:D,onSelect:ne,shouldCloseOnSelect:k}=this.props;if(typeof ne!="function")return;const V=K.dataset.idx,z=D[V],I=typeof z=="string"?z:z&&z.value;ne(V,I),this.setState({currentMenuListItemIdx:V}),k&&this.close()})}static getDerivedStateFromProps(w,K){let{prevProps:D,isOpen:ne}=K;return m()(w,D)?null:b()(w.isOpen)?{prevProps:w,isOpen:w.isOpen}:{prevProps:w}}componentDidUpdate(w,K){let{isOpen:D}=K;const{onOpen:ne,onClose:k,onToggle:V}=this.props,{isOpen:z}=this.state;D!==z&&(z?(ne(),V(!0)):(k(),V(!1)))}render(){const{className:w,opener:K,openerType:D,openerClassName:ne,shouldCloseOnClickOutside:k}=this.props,{isOpen:V,$opener:z,currentMenuListItemIdx:I}=this.state,P=this.props.isDisabled||this.props.disabled,q=(0,te.Hn)(["Dropdown",V&&"is-open",P&&"is-disabled",w]),pe={onClick:this.toggle,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseEnter,disabled:P,className:ne};return(0,H.jsxs)(F,{ref:this.set$opener,className:q,children:[D!=="button"&&(0,E.isValidElement)(K)?(0,E.cloneElement)(K,pe):(0,H.jsx)("button",{type:"button",...pe,children:K}),(0,H.jsx)(N,{ref:this.createMenuRef,...this.props,isOpen:V,$opener:z,onSelect:this.onSelect,onClose:this.close,shouldCloseOnClickOutside:k,currentMenuListItemIdx:I}),V&&(0,H.jsx)(R.A,{target:document,onMouseMove:this.onMouseMove})]})}}c(x,"positionMenu",ee),c(x,"propTypes",{isOpen:U().bool,mode:U().oneOf(["light","dark"]),opener:U().node,openerType:U().oneOf(["button","custom"]),className:U().string,portalClassName:U().string,menuBaseClassName:U().string,openerClassName:U().string,menuClassName:U().string,menuBaseStyle:U().shape({top:U().number,right:U().number,bottom:U().number,width:U().number,height:U().number}),menu:U().node,menuList:U().arrayOf(U().oneOfType([U().node,U().shape({label:U().node,value:U().any,isDisabled:U().bool})])),currentMenuListItemIdx:U().oneOfType([U().number,U().string]),shouldPreventScrollingPropagation:U().bool,shouldOpenOnHover:U().bool,shouldCloseOnClickOutside:U().bool,hoverDelay:U().oneOfType([U().number,U().string]),hoverCloseDelay:U().oneOfType([U().number,U().string]),arrowed:U().bool,inflexible:U().bool,menuX:U().oneOf(["left","center","right"]),menuY:U().oneOf(["top","bottom"]),menuBasedX:U().bool,isDisabled:U().bool,disabled:U().bool,onSelect:U().func,shouldCloseOnSelect:U().bool,onOpen:U().func.isRequired,onClose:U().func.isRequired,onToggle:U().func.isRequired}),c(x,"defaultProps",{arrowed:!1,openerType:"button",mode:"light",shouldPreventScrollingPropagation:!0,shouldCloseOnSelect:!0,shouldOpenOnHover:!1,shouldCloseOnClickOutside:!0,hoverDelay:200,menuX:"center",menuY:"bottom",inflexible:!1,menuBasedX:!1,onOpen:()=>null,onClose:()=>null,onToggle:()=>null});class N extends E.PureComponent{constructor(){super(...arguments),c(this,"state",{isDownward:this.props.position==="bottom"}),c(this,"portal",(0,te.ep)(p,(0,te.Hn)(["DropdownMenuPortal",this.props.portalClassName]))),c(this,"menuBaseRef",(0,E.createRef)()),c(this,"onResizeWindow",()=>this.props.isOpen&&this.position()),c(this,"onClickOutside",w=>{let{target:K}=w;const{$opener:D,onClose:ne,shouldCloseOnClickOutside:k}=this.props;if(!k)return;const V=!p.contains(K),z=K.closest("label"),I=z&&z.contains(D),P=!!(0,te.$)(".SelectMenu.is-open");V&&!I&&!P&&ne()}),c(this,"position",()=>{const{$opener:w,menuX:K,menuY:D,menuBaseStyle:ne,inflexible:k}=this.props,{menuBaseRef:{current:V}}=this,{isDownward:z}=ee({$menuBase:V,$opener:w,menuX:K,menuY:D,menuBaseStyle:ne,inflexible:k});this.setState({isDownward:z})})}componentDidMount(){const{isOpen:w,shouldPreventScrollingPropagation:K}=this.props,{menuBaseRef:{current:D}}=this;w&&setTimeout(this.position),K&&(0,te.sA)((0,te.$)(".content",D)),window.addEventListener("resize",this.onResizeWindow)}componentDidUpdate(w){let{isOpen:K}=w;const{isOpen:D}=this.props;!K&&D&&this.position()}componentWillUnmount(){this.portal&&this.portal.remove(),window.removeEventListener("resize",this.onResizeWindow)}render(){const{portal:w,menu:K}=this;return(0,re.createPortal)(K,w)}get menu(){const{isOpen:w,mode:K,menuBaseClassName:D,menuClassName:ne,menu:k,menuList:V,arrowed:z,menuX:I,menuBasedX:P,currentMenuListItemIdx:q,onSelect:pe}=this.props,{isDownward:ge}=this.state,we=(0,te.Hn)(["DropdownMenu",K,w&&"is-open",ge?"is-downward":"is-upward","x-"+I,z&&"arrowed "+(P?"x-menu-based":"x-arrow-based"),ne]);return(0,H.jsx)(Z,{ref:this.menuBaseRef,className:(0,te.Hn)(["DropdownMenuBase",D]),children:(0,H.jsxs)(T,{className:we,children:[z&&(0,H.jsx)("span",{className:"arrow",dangerouslySetInnerHTML:{__html:te.t4.mr}}),(0,H.jsx)("div",{className:"content",children:V?(0,H.jsx)("ul",{className:"MenuList",children:V.map((ke,Me)=>(0,H.jsx)("li",{role:"option","data-idx":Me,className:(0,te.Hn)([ke.isDisabled&&"is-disabled",Me===Number(q)&&"is-active"]),onClick:ke.isDisabled?void 0:pe,children:ke.label||ke},Me))}):k}),w&&(0,H.jsx)(R.A,{target:document,onClick:(0,R.t)(this.onClickOutside,{capture:!0})}),w&&(0,H.jsx)(R.A,{target:document,onScroll:(0,R.t)(this.position,{capture:!0})})]})})}}c(N,"propTypes",{...x.propTypes,isOpen:U().bool,$opener:U().instanceOf(Element),onSelect:U().func,onClose:U().func})},22379:(_e,de,n)=>{"use strict";n.d(de,{A:()=>ee});var o=n(51044),b=n(66748),j=n.n(b),m=n(23485),E=n(28149),re=n(21676);const Y=re.Ay.span.withConfig({displayName:"styled__StyledEllipsis",componentId:"sc-z4nkzm-0"})(["null"]);var U=n(57464);function R(J,F,T){return(F=te(F))in J?Object.defineProperty(J,F,{value:T,enumerable:!0,configurable:!0,writable:!0}):J[F]=T,J}function te(J){var F=Q(J,"string");return typeof F=="symbol"?F:F+""}function Q(J,F){if(typeof J!="object"||!J)return J;var T=J[Symbol.toPrimitive];if(T!==void 0){var Z=T.call(J,F||"default");if(typeof Z!="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(F==="string"?String:Number)(J)}class ee extends o.PureComponent{constructor(){var F;super(...arguments),F=this,R(this,"state",{isTruncated:!1,isDetected:!1}),R(this,"set$ellipsis",T=>Object.assign(this,{$ellipsis:T.current})),R(this,"detectTruncation",function(T){return T===void 0&&(T=F.$ellipsis),T.offsetWidth<T.scrollWidth})}componentDidMount(){return this.setState({isDetected:!0,isTruncated:this.detectTruncation()})}componentDidUpdate(F){let{children:T}=F;const{children:Z}=this.props,{isDetected:H}=this.state;if(T!==Z)return this.setState({isDetected:!1});if(!H)return this.setState({isDetected:!0,isTruncated:this.detectTruncation()})}render(){const{className:F,to:T,type:Z,max:H,display:c,lang:f,theme:h,noTooltip:u,withTooltip:p,withQuote:S,withPeriod:x,withComma:N,withQuestionMark:O,children:w,...K}=this.props,{isTruncated:D,isDetected:ne}=this.state,k={children:w},V=ne&&(D?"is-truncated":"isnt-truncated"),z={type:T?"link":"inline",theme:h,className:(0,E.Hn)(["Ellipsis",V,F,(S||x||N||O)&&"Punctuation",S&&"with-quote",x&&"with-period",N&&"with-comma",O&&"with-question-mark"]),href:T,"data-type":Z,"data-max":H,style:{display:c,maxWidth:isFinite(H)?H+"em":H},content:(p||D)&&!u&&(0,U.jsx)("div",{lang:f,className:"EllipsisTip",...k}),children:w,setRef:this.set$ellipsis,...K},I=(0,U.jsx)(m.A,{...z});return S||x||N||O?(0,U.jsx)(Y,{className:(0,E.Hn)(["Punctuation",S&&"with-quote",x&&"with-period",N&&"with-comma",O&&"with-question-mark",V]),children:I}):I}}R(ee,"propTypes",{className:j().string,theme:j().oneOf(["core","plain"]),type:j().oneOf(["user","id","email","org","team","app","widget"]),max:j().oneOfType([j().string,j().number]),display:j().oneOf(["inline-block","block"]),lang:j().string,to:j().string,children:j().node,noTooltip:j().bool,withTooltip:j().bool,withQuote:j().bool,withComma:j().bool,withPeriod:j().bool,withQuestionMark:j().bool}),R(ee,"defaultProps",{lang:"en",theme:"core"})},99739:(_e,de,n)=>{"use strict";n.d(de,{eB:()=>k,Ay:()=>ne});var o=n(51044),b=n(60185),j=n(66748),m=n.n(j),E=n(480),re=n(60260),Y=n.n(re),U=n(77017),R=n.n(U),te=n(98236),Q=n.n(te),ee=n(17956),J=n.n(ee),F=n(90503),T=n(22379),Z=n(28149),H=n(29584),c=n(21676);const f=c.Ay.label.withConfig({displayName:"styles__StyledSelectLabel",componentId:"sc-grbgid-0"})(["display:inline-flex;justify-content:space-between;align-items:center;max-width:100%;min-width:3em;height:34px;color:#5b6b73;cursor:pointer;transition:all 0.2s ease-out;button{flex:1;width:calc(100% - 2em);height:100%;text-align:start;cursor:inherit;}.caret{margin:0 0.75em 0 1em;line-height:0;color:#8d9ea7;svg{display:block;width:6px;height:4px;fill:currentColor;fill-rule:evenodd;transform:rotate(180deg);transition:all 0.3s ease-out;}}&:not(.unstyled){padding-left:.5em;background-color:#f6f7f8;border:1px solid #f2f2f3;border-radius:2px;}&.small{height:22px;font-size:12px;.caret{margin-right:0.5em;}}&:not(.is-disabled):not(.readonly):not(.unstyled):hover,&:not(.unstyled).is-open{border-color:#298df8;}&.is-open{&:not(.unstyled){background-color:#fff;box-shadow:0 0 6px 0 rgba(41,141,248,.5);}.caret svg{transform:rotate(0deg);}}&.is-disabled{cursor:not-allowed;opacity:0.6;}&.readonly{cursor:default}&.CoreSelect:not(.unstyled){background-color:#fff;border:1px solid #c8cdd1;}"]),h=c.Ay.div.withConfig({displayName:"styles__StyledSelectMenuBase",componentId:"sc-grbgid-1"})(["position:fixed;pointer-events:none;z-index:1100;"]),u=c.Ay.ul.withConfig({displayName:"styles__StyledSelectMenu",componentId:"sc-grbgid-2"})(["position:absolute;margin:2px 0;padding:0;display:block;max-width:20em;min-width:100%;min-height:30px;max-height:300px;overflow-x:hidden;overflow-y:auto;pointer-events:none;font-size:12px;list-style:none;background-color:#fff;border-radius:3px;box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),4px 12px 40px 0 rgba(39,54,78,0.1);color:#5b6b73;transition:0.2s ease-out;transition-property:transform,opacity;transform-origin:50% 0;&::-webkit-scrollbar{display:block;width:4px;height:4px;}&::-webkit-scrollbar-thumb{background-color:#ccc;border-radius:2px;}&::-webkit-scrollbar-track{background-color:rgba(255,255,255,0.5);}&.is-empty{width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;}&:not(.is-open){opacity:0;transform:scale(0.8);}&.x-center{left:50%;transform:translateX(-50%);&:not(.is-open){transform:scale(0.8) translateX(-50%);}}&.x-right{right:0;}&.is-downward{top:100%;bottom:initial;}&.is-upward{transform-origin:50% 100%;top:initial;bottom:100%;}&.is-open{opacity:1;pointer-events:initial;}&.cant-select .SelectOption{cursor:default;}.SelectGroup{> .title{padding:0 0.75em;width:100%;height:30px;line-height:30px;font-weight:bold;}> ul{margin:0;padding:0;}}.SelectOption{display:flex;align-items:center;height:30px;line-height:30px;cursor:pointer;> .Ellipsis{padding:0 0.75em;}> .svg-icon{margin-left:auto;margin-right:0.75em;&.check path{fill:#5b6b73;}}&.is-disabled{cursor:not-allowed;opacity:0.5;}&.is-active{color:#298df8;}&:not(.empty-msg):not(.is-disabled):hover,&.is-active{background-color:#f6f7f8;}&.empty-msg{padding:0 0.5em;color:#8d9ea7;cursor:not-allowed;}}&.CheckSelectMenu{&:not(.is-empty){padding:6px 0;}.SelectOption{height:32px;.Ellipsis{padding:0 16px;}.Ellipsis + .icon{margin-right:10px;}&:hover,&.is-active:hover{color:#298df8;}&.is-active{background:none;color:inherit;}}}&.CoreSelectMenu{margin:4px 0;&:not(.is-empty){padding:8px;min-height:48px;max-height:336px;}.SelectGroup > .title,.SelectOption{height:32px;line-height:32px;border-radius:2px;}}"]);var p=n(57464);function S(I,P,q){return(P=x(P))in I?Object.defineProperty(I,P,{value:q,enumerable:!0,configurable:!0,writable:!0}):I[P]=q,I}function x(I){var P=N(I,"string");return typeof P=="symbol"?P:P+""}function N(I,P){if(typeof I!="object"||!I)return I;var q=I[Symbol.toPrimitive];if(q!==void 0){var pe=q.call(I,P||"default");if(typeof pe!="object")return pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(I)}const O="IBOT_SELECT_MENU_ROOT",w={"zh-CN":{select_placeholder:"\u9009\u62E9\u4E00\u4E2A...",select_empty_msg:"\u6682\u65E0\u5185\u5BB9..."},en:{select_placeholder:"Choose one\u2026",select_empty_msg:"Nothing to display\u2026"}},K=document.getElementById(O)||Object.assign(document.createElement("div"),{id:O}),D=document.body;D.contains(K)||D.appendChild(K);class ne extends o.PureComponent{constructor(){super(...arguments),S(this,"state",{isOpen:!1,prevProps:this.props,value:this.props.value}),S(this,"set$select",P=>this.setState({$select:P})),S(this,"open",()=>this.setState({isOpen:!0})),S(this,"close",()=>this.setState({isOpen:!1})),S(this,"toggle",()=>this.setState({isOpen:!this.state.isOpen})),S(this,"onResizeWindow",()=>this.state.isOpen&&this.close()),S(this,"onChange",async P=>{const{onChange:q,beforeOnChange:pe}=this.props,ge=()=>{this.close(),q(P)};if(!pe){this.setState({value:P},ge);return}if(await pe(P)){this.setState({value:P},ge);return}ge()}),S(this,"onSelect",async P=>{let{currentTarget:q}=P;const{value:pe}=this.props,{canSelect:ge}=this;await this.onChange(ge?q.dataset.value:pe)})}static getDerivedStateFromProps(P,q){let{prevProps:pe,value:ge}=q;return Q()(pe,P)?null:{prevProps:P,value:P.value}}componentDidMount(){window.addEventListener("resize",this.onResizeWindow)}get isDisabled(){const{isDisabled:P,disabled:q}=this.props;return P||q}get readOnly(){return this.props.readOnly}get canSelect(){const{isDisabled:P,readOnly:q}=this;return!P&&!q}get displayText(){const{optionList:P,placeholder:q,optionLabelProp:pe}=this.props,{value:ge}=this.state,ke=(P.find(Me=>R()(Me)&&Me.slice(0).some(ze=>(0,Z.o3)(ze,ge)))||P).find(Me=>!R()(Me)&&(0,Z.o3)(Me,ge));return ke?(0,Z.Oi)(ke,pe):q||w[this.props.lang].select_placeholder}render(){const{size:P,theme:q,unstyled:pe,className:ge,menuX:we}=this.props,{isOpen:ke,$select:Me,value:ze}=this.state,{isDisabled:Ze,readOnly:Oe,canSelect:be}=this,Ue=(0,Z.Hn)([q==="core"?"CoreSelect":"Select",P,pe&&"unstyled",ge,ke&&"is-open",Ze&&"is-disabled",Oe&&"readonly"]);return(0,p.jsxs)(f,{className:Ue,role:"listbox",ref:this.set$select,children:[(0,p.jsx)("button",{type:"button",onClick:this.toggle,disabled:Ze,children:(0,p.jsx)(T.A,{children:this.displayText})}),typeof this.props.arrowSvg=="string"?(0,p.jsx)("span",{className:"caret",dangerouslySetInnerHTML:{__html:this.props.arrowSvg}}):(0,p.jsx)("span",{className:"caret",children:this.props.arrowSvg}),(0,p.jsx)(k,{isOpen:ke,...this.props,value:ze,$select:Me,canSelect:be,onChange:this.onSelect,onClose:this.close,menuX:we})]})}}S(ne,"propTypes",{size:m().oneOf(["regular","small"]),theme:m().oneOf(["core","plain"]),menuTheme:m().oneOf(["core","plain","check"]),unstyled:m().bool,className:m().string,menuClassName:m().string,lang:m().string,placeholder:m().string,optionList:m().arrayOf(m().oneOfType([m().node,m().shape({label:m().node,value:m().any,isDisabled:m().bool}),m().arrayOf(m().oneOfType([m().node,m().shape({label:m().node,value:m().any,isDisabled:m().bool})]))])).isRequired,value:m().oneOfType([m().number,m().string]),isDisabled:m().bool,disabled:m().bool,readOnly:m().bool,onChange:m().func,menuX:m().oneOf(["left","center","right"]),optionLabelProp:m().string,arrowSvg:m().oneOfType([m().string,m().node])}),S(ne,"defaultProps",{size:"regular",theme:"plain",menuTheme:"plain",className:"",menuClassName:"",lang:"zh-CN",optionList:[],isDisabled:!1,onChange:()=>null,menuX:"left",arrowSvg:Z.t4.rH});class k extends o.PureComponent{constructor(){super(...arguments),S(this,"state",{isDownward:!0}),S(this,"portal",(0,Z.ep)(K,"SelectMenuPortal")),S(this,"menuBaseRef",(0,o.createRef)()),S(this,"position",P=>{const{$select:q,menuX:pe}=this.props,{menuBaseRef:{current:ge}}=this;if(P){const ke=Y()(P,"target");if(ke&&J()(ke)&&ke.matches(".SelectMenu"))return}const{isDownward:we}=(0,H.d)({$menuBase:ge,$opener:q,menuX:pe,shouldSetMaxHeight:!0});this.setState({isDownward:we})}),S(this,"onChange",P=>{const{onChange:q}=this.props,{isDownward:pe}=this.state,ge=P.currentTarget,we=ge.closest(".SelectMenu, .CoreSelectMenu, .CheckSelectMenu");if(!ge||!we)return this.onlose();const{top:ke,bottom:Me}=ge.getBoundingClientRect(),{top:ze,bottom:Ze}=we.getBoundingClientRect();return pe&&ke>=ze||!pe&&Me<=Ze?ge.classList.contains("title")?void 0:q(P):this.onClose()}),S(this,"onClose",()=>{const{onClose:P}=this.props;P()}),S(this,"scrollIntoActive",()=>{const{menuBaseRef:{current:P}}=this,q=(0,Z.$)("li[role=option].is-active",P);q&&q.scrollIntoView({block:"start"})}),S(this,"onClickOutside",P=>{let{target:q}=P;const{$select:pe}=this.props,ge=!K.contains(q),we=q.closest("label"),ke=we&&we.contains(pe);ge&&!ke&&this.onClose()})}componentDidMount(){const{menuBaseRef:{current:P}}=this;(0,Z.sA)((0,Z.$)(".SelectMenu",P))}componentDidUpdate(P){let{isOpen:q}=P;const{isOpen:pe}=this.props;!q&&pe&&(this.position(),this.scrollIntoActive())}componentWillUnmount(){this.portal&&this.portal.remove()}render(){return(0,b.createPortal)(this.menu,this.portal)}get menu(){const{isOpen:P,isDisabled:q,menuTheme:pe,menuClassName:ge,menuX:we,optionList:ke,lang:Me,emptyMsg:ze,value:Ze,canSelect:Oe}=this.props,{isDownward:be}=this.state,Ue=ke.length===0,Ye=(0,Z.Hn)([pe==="core"?"CoreSelectMenu":pe==="check"?"CheckSelectMenu":"SelectMenu",ge,"x-"+we,P&&"is-open",be?"is-downward":"is-upward",q&&"is-disabled",Ue&&"is-empty",Oe?"can-select":"cant-select"]);return(0,p.jsx)(h,{ref:this.menuBaseRef,className:"SelectMenuBase",children:(0,p.jsxs)(u,{className:Ye,onTransitionEnd:this.onTransitionEnd,children:[Ue?(0,p.jsx)("li",{className:"SelectOption empty-msg",children:ze||w[Me].select_empty_msg}):ke.map((et,Qe)=>R()(et)?(0,p.jsx)(V,{menuTheme:pe,optionList:et,value:Ze,onChange:this.onChange},Qe):(0,p.jsx)(z,{menuTheme:pe,isActive:(0,Z.o3)(et,Ze),option:et,isDisabled:et.isDisabled,onChange:this.onChange},Qe)),P&&(0,p.jsx)(E.A,{target:document,onClick:(0,E.t)(this.onClickOutside,{capture:!0})}),P&&(0,p.jsx)(E.A,{target:document,onScroll:(0,E.t)(this.position,{capture:!0})})]})})}}S(k,"propTypes",{...ne.propTypes,isOpen:m().bool,canSelect:m().bool,onChange:m().func,onClose:m().func,$select:m().instanceOf(Element)}),S(k,"defaultProps",{isOpen:!1});function V(I){let{value:P,optionList:[q,...pe],menuTheme:ge,onChange:we}=I;return(0,p.jsxs)("li",{className:"SelectGroup",children:[(0,p.jsx)(T.A,{className:"title",onClick:we,children:q}),(0,p.jsx)("ul",{children:pe.map((ke,Me)=>(0,p.jsx)(z,{menuTheme:ge,option:ke,isActive:(0,Z.o3)(ke,P),isDisabled:ke.isDisabled,onChange:we},Me))})]})}V.propTypes={optionList:m().array,onChange:m().func,menuTheme:m().string,value:m().string};function z(I){let{option:P,isActive:q,isDisabled:pe,menuTheme:ge,onChange:we}=I;const ke=(0,Z.Hn)(["SelectOption",q&&"is-active",pe&&"is-disabled"]),Me=(0,Z.Oi)(P),ze=(0,Z.nE)(P);return(0,p.jsxs)("li",{role:"option","data-value":ze,className:ke,onClick:pe?void 0:we,children:[(0,p.jsx)(T.A,{children:Me}),ge==="check"&&q&&(0,p.jsx)(F.A,{name:"check"})]})}z.propTypes={option:m().oneOfType([m().node,m().object]),isActive:m().bool,isDisabled:m().bool,menuTheme:m().string,onChange:m().func}},10481:(_e,de,n)=>{"use strict";n.d(de,{eB:()=>Me,Ay:()=>ke});var o=n(51044),b=n(60185),j=n(66748),m=n.n(j),E=n(480),re=n(60260),Y=n.n(re),U=n(77017),R=n.n(U),te=n(98236),Q=n.n(te),ee=n(17956),J=n.n(ee),F=n(22379),T=n(28149),Z=n(67231),H=n.n(Z),c=n(68431),f=n.n(c);const h=9;function u(Oe){let{$opener:be,$menuBase:Ue,menuBaseStyle:Ye={},inflexible:et=!1,shouldSetMaxHeight:Qe=!1,$menuContainer:i,$fontTip:ct}=Oe;if(!be||!Ue)return;const ut=Ue.querySelector("*"),vt=((0,T.$)("li[role=option].is-active",ut)||(0,T.$)("li[role=option]",ut)||(0,T.$)("li[role=empty-msg]",ut)).getBoundingClientRect(),gt=ut.getBoundingClientRect(),at={styleFor$menuBase:{},styleFor$menu:{},styleFor$menuContainer:{},styleFor$fontTip:{}},yt=Qt=>Object.assign(at.styleFor$menuBase,Qt),$t=Qt=>Object.assign(at.styleFor$menu,Qt),Bt=Qt=>Object.assign(at.styleFor$menuContainer,Qt),Jt=Qt=>Object.assign(at.styleFor$fontTip,Qt),{offsetHeight:nn}=ut,It=Ye.width||be.offsetWidth,sn=Ye.height||be.offsetHeight,en=be.getBoundingClientRect(),{top:Ft,bottom:on,left:_n}=Object.assign({top:en.top,right:en.right,bottom:en.bottom,left:en.left},Ye);yt({top:Ft+"px",left:_n+"px",width:It+"px",height:sn+"px"});const{innerHeight:Sn}=window,Cn=10,xt=Sn-10,$n=Ft+sn;let Lt=0,Nn=0;const hn=(vt.top-gt.top)/.8;K(gt,vt)?Lt=-Math.min(hn,Ft):(Nn=vt.bottom/.8-gt.bottom/.8,Lt=-hn+Nn);let Ln=0;return ct&&(Ln=ct.getBoundingClientRect().height),$n+nn+h+Lt+Ln<Sn?(at.isDownward=!0,K(gt,vt)?(Bt({top:Lt+"px"}),ct&&Jt({top:Lt+gt.height/.8+"px",width:gt.width/.8+"px"})):(Bt({top:Lt+"px"}),i.scrollTop=Nn,ct&&Jt({top:Lt+gt.height/.8+"px",width:gt.width/.8+"px"})),Qe&&on+nn>xt&&$t({maxHeight:xt-on+"px"})):(at.isDownward=!1,Qe&&Ft-nn<Cn&&$t({maxHeight:Ft-Cn+"px"})),Object.assign(Ue.style,at.styleFor$menuBase),Object.assign(ut.style,at.styleFor$menu),Object.assign(i.style,at.styleFor$menuContainer),ct&&Object.assign(ct.style,at.styleFor$fontTip),at}function p(Oe){return f()(Oe)||H()(Oe)||(0,o.isValidElement)(Oe)?Oe:Oe.label||Oe.value?Oe.label||Oe.value:void 0}function S(Oe){return f()(Oe)||H()(Oe)?String(Oe):Oe.value||Oe.label?String(Oe.value||Oe.label):void 0}function x(Oe){return f()(Oe)||H()(Oe)?String(Oe):Oe.ItemIcon?String(Oe.ItemIcon):void 0}function N(Oe){return f()(Oe)||H()(Oe)?String(Oe):Oe.shortcutKey?String(Oe.shortcutKey):void 0}function O(Oe,be){return!!be&&S(Oe)===String(be)}const w='<svg width="10" height="10" ><path d="M5 5.255l1.87-2.043a.623.623 0 0 1 .936 0 .77.77 0 0 1 0 1.022L5.468 6.788a.623.623 0 0 1-.936 0L2.194 4.234a.77.77 0 0 1 0-1.022.623.623 0 0 1 .935 0L5 5.255z" /></svg>';function K(Oe,be){return be.top/.8>=Oe.top/.8&&be.bottom/.8<=Oe.bottom/.8}var D=n(21676);const ne=D.Ay.label.withConfig({displayName:"styles__StyledSelect",componentId:"sc-tgxfzg-0"})(["position:relative;display:inline-flex;align-items:center;max-width:100%;min-width:3em;height:28px;font-size:12px;color:#5b6b73;cursor:pointer;button{display:block;height:100%;color:#1F292E;text-align:start;cursor:inherit;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:8px;line-height:26px;}.caret{padding:0 11px;color:#7D8694;height:100%;display:inline-flex;align-items:center;svg{width:10px;height:10px;fill:currentColor;transition:transform 0.2s ease-out;}}&{padding-left:5px;border:1px solid transparent;border-radius:2px;}&.is-open{border-color:transparent;.caret{margin-left:auto;visibility:visible;svg{transform:rotate(180deg);}}}&:not(.is-disabled):not(.readonly):hover{border:1px solid transparent;.caret{padding:0 11px;}}&.is-disabled{cursor:not-allowed;opacity:0.6;}&.readonly{cursor:default;}"]),k=D.Ay.div.withConfig({displayName:"styles__StyledSelectMenu",componentId:"sc-tgxfzg-1"})(["position:fixed;pointer-events:none;z-index:1100;.WorkspaceSelectMenu{position:absolute;padding:8px 0;display:block;max-width:20em;min-width:100%;min-height:30px;max-height:300px;overflow-x:hidden;overflow-y:auto;list-style:none;box-shadow:0 2px 8px 0 rgba(0,0,0,0.1);color:#fff;border-radius:2px;background-color:#1f292e;pointer-events:all;transition-property:transform,opacity;transform-origin:50% 0;margin:0;&::-webkit-scrollbar{display:block;width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:rgba(255,255,255,0.25);border-radius:4px;&:hover{background-color:rgba(255,255,255,0.30);}}&::-webkit-scrollbar-track{background-color:rgba(#fff,0.5);}&.is-empty{width:fit-content;}&:not(.is-open){opacity:0;transform:scale(0.8);}&.is-downward{top:100%;bottom:initial;}&.is-upward{transform-origin:50% 100%;top:initial;bottom:100%;}&.is-open{opacity:1;pointer-events:initial;border-radius:4px;background-color:#333;width:160px;padding:8px 0px;}> .divider{border-bottom:1px solid rgba(255,255,255,.1);margin:5px;}.SelectOption{display:flex;align-items:center;height:24px;line-height:24px;cursor:pointer;font-size:12px;font-weight:400;& > .Ellipsis{padding:0 16px 0 32px;min-width:160px;}&.is-disabled{cursor:not-allowed;opacity:0.5;}&.is-active{color:#fff;mix-blend-mode:normal;position:relative;}.shortcutkey{color:#999;float:right;}.svg-icon3 svg{color:#f2f4f5;width:12px;height:12px;position:relative;top:2px;}&.is-active .svg-icon2 svg{width:8px;height:6px;position:absolute;left:12px;top:9px;}&:not(.empty-msg):not(.is-disabled):not(.is-active):hover{background-color:#666;color:#fff;}&.empty-msg{padding:0 0.5em;color:#8d9ea6;cursor:not-allowed;}}&.cant-select .SelectOption{cursor:default;}.SelectGroup{.divider{height:1px;margin:4px 16px;background:#7d8694;}& > .title{font-size:12px;padding:0 8px 0 16px;width:100%;height:30px;line-height:30px;color:rgba(255,255,255,0.7);span{display:block;}}& > ul{margin:0;padding:0;}}}.font-select-menu-tip{position:absolute;margin-top:-1px;padding:8px 16px;font-size:10px;box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),4px 12px 40px 0 rgba(39,54,78,0.1);color:#fff;background-color:#1f292e;border-radius:0 0 2px 2px;pointer-events:auto;transition:opacity 0.2s ease-in;.font-link{color:#fff;margin-left:10px;text-decoration:underline;}&:not(.is-show){opacity:0;}&.is-show{opacity:1;color:rgba(255,255,255,1);}}"]);var V=n(90503),z=n(57464);function I(Oe,be,Ue){return(be=P(be))in Oe?Object.defineProperty(Oe,be,{value:Ue,enumerable:!0,configurable:!0,writable:!0}):Oe[be]=Ue,Oe}function P(Oe){var be=q(Oe,"string");return typeof be=="symbol"?be:be+""}function q(Oe,be){if(typeof Oe!="object"||!Oe)return Oe;var Ue=Oe[Symbol.toPrimitive];if(Ue!==void 0){var Ye=Ue.call(Oe,be||"default");if(typeof Ye!="object")return Ye;throw new TypeError("@@toPrimitive must return a primitive value.")}return(be==="string"?String:Number)(Oe)}const pe="IBOT_SELECT_MENU_ROOT",ge=document.getElementById(pe)||Object.assign(document.createElement("div"),{id:pe}),we=document.body;we.contains(ge)||we.appendChild(ge);class ke extends o.PureComponent{constructor(){super(...arguments),I(this,"state",{isOpen:!1,prevProps:this.props,value:this.props.value}),I(this,"set$select",be=>this.setState({$select:be})),I(this,"open",()=>this.setState({isOpen:!0})),I(this,"close",()=>this.setState({isOpen:!1})),I(this,"toggle",()=>{const be=!this.state.isOpen;this.setState({isOpen:be}),be?this.props.onOpen():this.props.onClose()}),I(this,"onResizeWindow",()=>this.state.isOpen&&this.close()),I(this,"onChange",be=>this.setState({value:be},()=>{this.close(),this.props.onChange(be,this.props.attr)})),I(this,"onSelect",be=>{let{currentTarget:Ue}=be;const{value:Ye}=this.props,{canSelect:et}=this;return this.onChange(et?Ue.dataset.value:Ye)})}static getDerivedStateFromProps(be,Ue){let{prevProps:Ye,value:et}=Ue;return Q()(Ye,be)?null:{prevProps:be,value:be.value}}componentDidMount(){window.addEventListener("resize",this.onResizeWindow)}get isDisabled(){const{isDisabled:be,disabled:Ue}=this.props;return be||Ue}get readOnly(){return this.props.readOnly}get canSelect(){const{isDisabled:be,readOnly:Ue}=this;return!be&&!Ue}get displayText(){const{optionList:be,placeholder:Ue}=this.props,{value:Ye}=this.state,Qe=(be.find(i=>R()(i)&&i.slice(0).some(ct=>O(ct,Ye)))||be).find(i=>!R()(i)&&O(i,Ye));return Qe?p(Qe):Ue}render(){const{size:be,unstyled:Ue,className:Ye,onMouseEnter:et,onMouseLeave:Qe,arrowSvg:i}=this.props,{isOpen:ct,$select:ut,value:jt}=this.state,{isDisabled:vt,readOnly:gt,canSelect:at}=this,yt=(0,T.Hn)(["WorkspaceSelect",be,Ue&&"unstyled",Ye,ct&&"is-open",vt&&"is-disabled",gt&&"readonly"]);return(0,z.jsxs)(ne,{className:yt,role:"listbox",ref:this.set$select,children:[(0,z.jsx)("button",{onClick:this.toggle,disabled:vt,children:this.displayText}),typeof i=="string"?(0,z.jsx)("span",{className:"caret",dangerouslySetInnerHTML:{__html:i}}):(0,z.jsx)("span",{className:"caret",children:i}),ct&&(0,z.jsx)(Me,{isOpen:ct,...this.props,value:jt,$select:ut,canSelect:at,onChange:this.onSelect,onMouseEnter:et,onMouseLeave:Qe,onClose:this.close})]})}}I(ke,"propTypes",{size:m().oneOf(["regular","small"]),theme:m().oneOf(["core","plain"]),menuTheme:m().oneOf(["core","plain","check"]),unstyled:m().bool,className:m().string,menuClassName:m().string,placeholder:m().string,optionList:m().arrayOf(m().oneOfType([m().node,m().shape({label:m().node,shortcutKey:m().node,tooltipWrapper:m().func,ItemIcon:m().node,value:m().any,isDisabled:m().bool}),m().arrayOf(m().oneOfType([m().node,m().shape({label:m().node,ItemIcon:m().node,value:m().any,shortcutKey:m().node,tooltipWrapper:m().func,isDisabled:m().bool})]))])).isRequired,value:m().oneOfType([m().number,m().string]),isDisabled:m().bool,disabled:m().bool,readOnly:m().bool,onChange:m().func,onMouseEnter:m().func,onMouseLeave:m().func,onOpen:m().func,onClose:m().func,arrowSvg:m().oneOfType([m().string,m().node])}),I(ke,"defaultProps",{size:"regular",theme:"plain",menuTheme:"plain",className:"",menuClassName:"",placeholder:"Choose one\u2026",emptyMsg:"Nothing to display\u2026",optionList:[],isDisabled:!1,arrowSvg:w,onChange:()=>null,onMouseEnter:()=>null,onMouseLeave:()=>null,onOpen:()=>null,onClose:()=>null});class Me extends o.PureComponent{constructor(){super(...arguments),I(this,"state",{isDownward:!0}),I(this,"portal",(0,T.ep)(ge,"SelectMenuPortal")),I(this,"menuBaseRef",(0,o.createRef)()),I(this,"menuContainerRef",(0,o.createRef)()),I(this,"position",be=>{const{$select:Ue}=this.props,{menuBaseRef:{current:Ye},menuContainerRef:{current:et}}=this;if(be){const i=Y()(be,"target");if(i&&J()(i)&&i.matches(".WorkspaceSelectMenu"))return}const{isDownward:Qe}=u({$menuBase:Ye,$opener:Ue,shouldSetMaxHeight:!1,$menuContainer:et});this.setState({isDownward:Qe,isTransform:!0})}),I(this,"onChange",be=>{const{onChange:Ue}=this.props,{isDownward:Ye}=this.state,et=be.currentTarget,Qe=et.closest(".WorkspaceSelectMenu");if(!et||!Qe)return this.onlose();const{top:i,bottom:ct}=et.getBoundingClientRect(),{top:ut,bottom:jt}=Qe.getBoundingClientRect();return Ye&&i>=ut||!Ye&&ct<=jt?et.classList.contains("title")?void 0:Ue(be):this.onClose()}),I(this,"onClose",()=>{const{onClose:be}=this.props;be()}),I(this,"onClickOutside",be=>{let{target:Ue}=be;const{$select:Ye}=this.props,et=!ge.contains(Ue),Qe=Ue.closest("label"),i=Qe&&Qe.contains(Ye);et&&!i&&this.onClose()})}componentDidMount(){const{menuBaseRef:{current:be}}=this;(0,T.sA)((0,T.$)(".WorkspaceSelectMenu",be)),this.position()}componentWillUnmount(){this.portal&&this.portal.remove()}render(){return(0,b.createPortal)(this.menu,this.portal)}get menu(){const{isOpen:be,isDisabled:Ue,menuTheme:Ye,menuClassName:et,optionList:Qe,emptyMsg:i,value:ct,canSelect:ut,onMouseEnter:jt,onMouseLeave:vt}=this.props,{isDownward:gt,isTransform:at}=this.state,yt=Qe.length===0,$t=(0,T.Hn)(["WorkspaceSelectMenu",et,at&&"is-open",gt?"is-downward":"is-upward",Ue&&"is-disabled",yt&&"is-empty",ut?"can-select":"cant-select"]);return(0,z.jsxs)(k,{ref:this.menuBaseRef,children:[(0,z.jsx)("ul",{className:$t,ref:this.menuContainerRef,children:yt?(0,z.jsx)("li",{className:"SelectOption empty-msg",role:"empty-msg",children:i}):Qe.map((Bt,Jt)=>R()(Bt)?(0,z.jsx)(ze,{menuTheme:Ye,optionList:Bt,value:ct,onChange:this.onChange,onMouseEnter:jt,onMouseLeave:vt},Jt):(0,z.jsx)(Ze,{menuTheme:Ye,isActive:O(Bt,ct),option:Bt,isDisabled:Bt.isDisabled,onChange:this.onChange,onMouseEnter:jt,onMouseLeave:vt},Jt))}),be&&(0,z.jsx)(E.A,{target:document,onClick:this.onClickOutside})]})}}I(Me,"propTypes",{...ke.propTypes,isOpen:m().bool,canSelect:m().bool,onChange:m().func,onClose:m().func,$select:m().instanceOf(Element)}),I(Me,"defaultProps",{isOpen:!1,isTransform:!1});function ze(Oe){let{value:be,optionList:[Ue,...Ye],menuTheme:et,onChange:Qe,onMouseEnter:i,onMouseLeave:ct}=Oe;return(0,z.jsxs)("li",{className:"SelectGroup",children:[Ue==="HIDDELINE"?null:Ue==="DIVIDER"?(0,z.jsx)("div",{className:"divider"}):(0,z.jsx)(F.A,{className:"title",onClick:Qe,children:Ue}),(0,z.jsx)("ul",{children:Ye.map((ut,jt)=>(0,z.jsx)(Ze,{menuTheme:et,option:ut,isActive:O(ut,be),isDisabled:ut.isDisabled,onChange:Qe,onMouseEnter:i,onMouseLeave:ct},jt))})]})}ze.propTypes={value:m().oneOfType([m().string,m().number]),optionList:m().array,onChange:m().func,menuTheme:m().string,onMouseEnter:m().func,onMouseLeave:m().func};function Ze(Oe){let{option:be,isActive:Ue,isDisabled:Ye,menuTheme:et,onChange:Qe,onMouseEnter:i,onMouseLeave:ct}=Oe;const ut=(0,T.Hn)(["SelectOption",Ue&&"is-active",Ye&&"is-disabled"]),jt=p(be),vt=S(be),gt=x(be),at=N(be),{tooltipWrapper:yt}=be;if(be.type==="divider")return(0,z.jsx)("li",{className:"divider"});const $t=(0,z.jsxs)("li",{role:"option","data-value":vt,className:ut,onClick:Ye?void 0:Qe,onMouseEnter:i,onMouseLeave:ct,children:[Ue&&(0,z.jsx)("span",{className:"svg-icon2",children:(0,z.jsx)(V.A,{name:"select_right"})}),(0,z.jsxs)(F.A,{children:[(0,z.jsxs)("span",{className:"svg-icon3",children:[(0,z.jsx)(V.A,{name:gt})," "]})," ",jt,"  ",(0,z.jsxs)("span",{className:"shortcutkey",children:[at," "]})]})]});return yt?yt($t):$t}Ze.propTypes={isActive:m().bool,option:m().oneOfType([m().node,m().object]),isDisabled:m().bool,menuTheme:m().string,onChange:m().func,onMouseEnter:m().func,onMouseLeave:m().func}},11334:(_e,de,n)=>{"use strict";n.d(de,{Ay:()=>T});var o=n(51044),b=n(66748),j=n.n(b),m=n(70235),E=n.n(m),re=n(90503),Y=n(28149),U=n(21676);const R=U.Ay.button.withConfig({displayName:"styled__StyledButton",componentId:"sc-1p06iev-0"})(["&.RegularButton,&.PrimaryButton,&.PrimaryCoreButton,&.RegularCoreButton,&.SecondaryCoreButton,&.TertiaryCoreButton{padding:0 0.5em;height:2.125rem;font-size:0.875rem;border:1px solid;border-radius:2px;cursor:pointer;transition:all 0.2s ease-out;&:not(button){display:inline-flex;justify-content:center;align-items:center;}&:disabled{cursor:not-allowed;opacity:0.6;}.icon{margin-right:0.125em;}&.small{height:2em;font-size:0.75rem;}.svg-icon.loading{margin-right:0.5em;vertical-align:-.15em;animation:ibot-ani-spinning 1.5s infinite ease-out;}}&.PrimaryCoreButton,&.RegularCoreButton,&.SecondaryCoreButton,&.TertiaryCoreButton{padding:0 1em;height:2.375rem;&.small{height:2em;}&:disabled{background-color:#f6f7f8;border-color:#dedee4;color:#c8cdd1;opacity:1;}}&.PrimaryCoreButton{background-color:#eb5648;&,&:link,&:visited{border-color:transparent;color:#fff;}&:enabled:hover,a&:hover{background-color:#ef776c;color:#fff;}&:enabled:active,a&:active{background-color:#bc4439;color:#e4b4b0;}}&.RegularCoreButton,&.SecondaryCoreButton{background-color:#fff;&,&:link,&:visited{color:#eb5648;}&:enabled:hover,a&:hover{border-color:#ffa39e;color:#ef776c;}&:enabled:active,a&:active{border-color:#e84030;color:#bc4439;}}&.TertiaryCoreButton{background-color:#fff;border-color:#c8cdd1;&,&:link,&:visited{color:#415058;}&:enabled:hover,a&:hover{background-color:#8d9ea7;border-color:#7d8694;color:#fff;}&:enabled:active,a&:active{background-color:#5b6b73;border-color:#415058;}}&.RegularButton{&,&:link,&:visited{color:#8d9ea7;}&:enabled:hover,a&:hover{color:#5b6b73;}&:disabled{opacity:0.6;}}&.PrimaryButton{background-color:#8d9ea7;border-color:transparent;&,&:link,&:visited{color:#fff;}&:enabled:hover,a&:hover{background-color:#5b6b73;color:#fff;}&:enabled:active,a&:active{color:rgba(255,255,255,0.6);}}&.TextButton,&.TextCoreButton{transition:all 0.1s ease-out;&,&:link,&:visited{color:#298df8;}&:disabled{cursor:not-allowed;opacity:0.6;}&:enabled:hover,a&:hover{color:#0d7ef7;text-decoration:underline;}.svg-icon.loading{margin-right:0.25em;vertical-align:-.15em;animation:ibot-ani-spinning 1.5s infinite ease-out;}.icon{margin-right:0.125em;}&.small{height:2em;font-size:0.75rem;}}&.TextCoreButton{&,&:link,&:visited{color:#eb5648;}&:enabled:hover,a&:hover{color:#ef776c;text-decoration:none;}&:enabled:active,a&:active{color:#bc4439;}}"]);var te=n(57464);function Q(f,h,u){return(h=ee(h))in f?Object.defineProperty(f,h,{value:u,enumerable:!0,configurable:!0,writable:!0}):f[h]=u,f}function ee(f){var h=J(f,"string");return typeof h=="symbol"?h:h+""}function J(f,h){if(typeof f!="object"||!f)return f;var u=f[Symbol.toPrimitive];if(u!==void 0){var p=u.call(f,h||"default");if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(f)}const F={primary:"Primary",regular:"Regular",secondary:"Regular",tertiary:"Tertiary",text:"Text"};class T extends o.PureComponent{get className(){const{type:h,theme:u,size:p,className:S}=this.props,{isDisabled:x,isLoading:N}=this;return(0,Y.Hn)(["Button",""+F[h]+(u==="core"?"CoreButton":"Button"),p!=="regular"&&p,N&&"is-loading",x&&"is-disabled",S])}get isDisabled(){const{isDisabled:h,disabled:u}=this.props;return h||u}get isLoading(){const{isLoading:h,loading:u}=this.props;return h||u}render(){const{className:h,isLoading:u,isDisabled:p}=this,{iconType:S,icon:x,children:N,...O}=this.props;return(0,te.jsx)(R,{className:h,disabled:p,onClick:w=>p&&w.preventDefault(),type:"button",...E()(O,["className","type","theme","isDisabled","disabled","isLoading","loading"]),children:(0,te.jsxs)(te.Fragment,{children:[u&&(0,te.jsx)(re.A,{name:"loading"}),x&&S==="svg"&&(0,te.jsx)(re.A,{name:x}),N]})})}}Q(T,"propTypes",{type:j().oneOf(["primary","regular","secondary","tertiary","text"]),size:j().oneOf(["regular","small"]),theme:j().oneOf(["core","plain"]),iconType:j().oneOf(["svg","dora","mb","icon","fa","md"]),icon:j().string,className:j().string,isDisabled:j().bool,disabled:j().bool,isLoading:j().bool,loading:j().bool,children:j().any,html:j().string}),Q(T,"defaultProps",{type:"regular",size:"regular",theme:"plain",icon:"",className:"",isDisabled:!1});function Z(f){return _jsx(T,{...f,theme:"core"})}function H(f){return _jsx(Z,{...f,type:"primary"})}function c(f){return _jsx(Z,{...f,type:"tertiary"})}},35736:function(_e){(function(de,n){_e.exports=n()})(this,function(){"use strict";return function(de,n,o){n.prototype.isBetween=function(b,j,m,E){var re=o(b),Y=o(j),U=(E=E||"()")[0]==="(",R=E[1]===")";return(U?this.isAfter(re,m):!this.isBefore(re,m))&&(R?this.isBefore(Y,m):!this.isAfter(Y,m))||(U?this.isBefore(re,m):!this.isAfter(re,m))&&(R?this.isAfter(Y,m):!this.isBefore(Y,m))}}})},54466:function(_e){(function(de,n){_e.exports=n()})(this,function(){"use strict";return function(de,n){n.prototype.isSameOrBefore=function(o,b){return this.isSame(o,b)||this.isBefore(o,b)}}})},36410:_e=>{function de(n,o,b,j){var m=-1,E=n==null?0:n.length;for(j&&E&&(b=n[++m]);++m<E;)b=o(b,n[m],m,n);return b}_e.exports=de},38621:_e=>{var de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function n(o){return o.match(de)||[]}_e.exports=n},52304:_e=>{function de(n){return function(o){return n==null?void 0:n[o]}}_e.exports=de},48843:(_e,de,n)=>{var o=n(36410),b=n(76628),j=n(83453),m="['\u2019]",E=RegExp(m,"g");function re(Y){return function(U){return o(j(b(U).replace(E,"")),Y,"")}}_e.exports=re},84394:(_e,de,n)=>{var o=n(25627);function b(j){return o(j)?void 0:j}_e.exports=b},32575:(_e,de,n)=>{var o=n(52304),b={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},j=o(b);_e.exports=j},95416:(_e,de,n)=>{var o=n(66202),b=n(61965),j=n(29513);function m(E){return j(b(E,void 0,o),E+"")}_e.exports=m},49298:_e=>{var de=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function n(o){return de.test(o)}_e.exports=n},32921:_e=>{var de="\\ud800-\\udfff",n="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",b="\\u20d0-\\u20ff",j=n+o+b,m="\\u2700-\\u27bf",E="a-z\\xdf-\\xf6\\xf8-\\xff",re="\\xac\\xb1\\xd7\\xf7",Y="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",U="\\u2000-\\u206f",R=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",te="A-Z\\xc0-\\xd6\\xd8-\\xde",Q="\\ufe0e\\ufe0f",ee=re+Y+U+R,J="['\u2019]",F="["+ee+"]",T="["+j+"]",Z="\\d+",H="["+m+"]",c="["+E+"]",f="[^"+de+ee+Z+m+E+te+"]",h="\\ud83c[\\udffb-\\udfff]",u="(?:"+T+"|"+h+")",p="[^"+de+"]",S="(?:\\ud83c[\\udde6-\\uddff]){2}",x="[\\ud800-\\udbff][\\udc00-\\udfff]",N="["+te+"]",O="\\u200d",w="(?:"+c+"|"+f+")",K="(?:"+N+"|"+f+")",D="(?:"+J+"(?:d|ll|m|re|s|t|ve))?",ne="(?:"+J+"(?:D|LL|M|RE|S|T|VE))?",k=u+"?",V="["+Q+"]?",z="(?:"+O+"(?:"+[p,S,x].join("|")+")"+V+k+")*",I="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",P="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",q=V+k+z,pe="(?:"+[H,S,x].join("|")+")"+q,ge=RegExp([N+"?"+c+"+"+D+"(?="+[F,N,"$"].join("|")+")",K+"+"+ne+"(?="+[F,N+w,"$"].join("|")+")",N+"?"+w+"+"+D,N+"+"+ne,P,I,Z,pe].join("|"),"g");function we(ke){return ke.match(ge)||[]}_e.exports=we},76628:(_e,de,n)=>{var o=n(32575),b=n(67998),j=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,m="\\u0300-\\u036f",E="\\ufe20-\\ufe2f",re="\\u20d0-\\u20ff",Y=m+E+re,U="["+Y+"]",R=RegExp(U,"g");function te(Q){return Q=b(Q),Q&&Q.replace(j,o).replace(R,"")}_e.exports=te},66202:(_e,de,n)=>{var o=n(72840);function b(j){var m=j==null?0:j.length;return m?o(j,1):[]}_e.exports=b},17956:(_e,de,n)=>{var o=n(23522),b=n(25627);function j(m){return o(m)&&m.nodeType===1&&!b(m)}_e.exports=j},25627:(_e,de,n)=>{var o=n(22256),b=n(41703),j=n(23522),m="[object Object]",E=Function.prototype,re=Object.prototype,Y=E.toString,U=re.hasOwnProperty,R=Y.call(Object);function te(Q){if(!j(Q)||o(Q)!=m)return!1;var ee=b(Q);if(ee===null)return!0;var J=U.call(ee,"constructor")&&ee.constructor;return typeof J=="function"&&J instanceof J&&Y.call(J)==R}_e.exports=te},70235:(_e,de,n)=>{var o=n(79228),b=n(99159),j=n(92547),m=n(86225),E=n(80167),re=n(84394),Y=n(95416),U=n(94397),R=1,te=2,Q=4,ee=Y(function(J,F){var T={};if(J==null)return T;var Z=!1;F=o(F,function(c){return c=m(c,J),Z||(Z=c.length>1),c}),E(J,U(J),T),Z&&(T=b(T,R|te|Q,re));for(var H=F.length;H--;)j(T,F[H]);return T});_e.exports=ee},63924:(_e,de,n)=>{var o=n(48843),b=o(function(j,m,E){return j+(E?"_":"")+m.toLowerCase()});_e.exports=b},83453:(_e,de,n)=>{var o=n(38621),b=n(49298),j=n(67998),m=n(32921);function E(re,Y,U){return re=j(re),Y=U?void 0:Y,Y===void 0?b(re)?m(re):o(re):re.match(Y)||[]}_e.exports=E},26114:(_e,de,n)=>{"use strict";var o,b=n(60185);if(1)de.H=b.createRoot,o=b.hydrateRoot;else var j},43441:(_e,de,n)=>{"use strict";n.d(de,{A:()=>F});var o=n(18824),b=n(95211),j=n(7043);function m(T,Z){return T.classList?!!Z&&T.classList.contains(Z):(" "+(T.className.baseVal||T.className)+" ").indexOf(" "+Z+" ")!==-1}function E(T,Z){T.classList?T.classList.add(Z):m(T,Z)||(typeof T.className=="string"?T.className=T.className+" "+Z:T.setAttribute("class",(T.className&&T.className.baseVal||"")+" "+Z))}function re(T,Z){return T.replace(new RegExp("(^|\\s)"+Z+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Y(T,Z){T.classList?T.classList.remove(Z):typeof T.className=="string"?T.className=re(T.className,Z):T.setAttribute("class",re(T.className&&T.className.baseVal||"",Z))}var U=n(51044),R=n(93218),te=n(41083),Q=function(Z,H){return Z&&H&&H.split(" ").forEach(function(c){return E(Z,c)})},ee=function(Z,H){return Z&&H&&H.split(" ").forEach(function(c){return Y(Z,c)})},J=function(T){(0,j.A)(Z,T);function Z(){for(var c,f=arguments.length,h=new Array(f),u=0;u<f;u++)h[u]=arguments[u];return c=T.call.apply(T,[this].concat(h))||this,c.appliedClasses={appear:{},enter:{},exit:{}},c.onEnter=function(p,S){var x=c.resolveArguments(p,S),N=x[0],O=x[1];c.removeClasses(N,"exit"),c.addClass(N,O?"appear":"enter","base"),c.props.onEnter&&c.props.onEnter(p,S)},c.onEntering=function(p,S){var x=c.resolveArguments(p,S),N=x[0],O=x[1],w=O?"appear":"enter";c.addClass(N,w,"active"),c.props.onEntering&&c.props.onEntering(p,S)},c.onEntered=function(p,S){var x=c.resolveArguments(p,S),N=x[0],O=x[1],w=O?"appear":"enter";c.removeClasses(N,w),c.addClass(N,w,"done"),c.props.onEntered&&c.props.onEntered(p,S)},c.onExit=function(p){var S=c.resolveArguments(p),x=S[0];c.removeClasses(x,"appear"),c.removeClasses(x,"enter"),c.addClass(x,"exit","base"),c.props.onExit&&c.props.onExit(p)},c.onExiting=function(p){var S=c.resolveArguments(p),x=S[0];c.addClass(x,"exit","active"),c.props.onExiting&&c.props.onExiting(p)},c.onExited=function(p){var S=c.resolveArguments(p),x=S[0];c.removeClasses(x,"exit"),c.addClass(x,"exit","done"),c.props.onExited&&c.props.onExited(p)},c.resolveArguments=function(p,S){return c.props.nodeRef?[c.props.nodeRef.current,p]:[p,S]},c.getClassNames=function(p){var S=c.props.classNames,x=typeof S=="string",N=x&&S?S+"-":"",O=x?""+N+p:S[p],w=x?O+"-active":S[p+"Active"],K=x?O+"-done":S[p+"Done"];return{baseClassName:O,activeClassName:w,doneClassName:K}},c}var H=Z.prototype;return H.addClass=function(f,h,u){var p=this.getClassNames(h)[u+"ClassName"],S=this.getClassNames("enter"),x=S.doneClassName;h==="appear"&&u==="done"&&x&&(p+=" "+x),u==="active"&&f&&(0,te.F)(f),p&&(this.appliedClasses[h][u]=p,Q(f,p))},H.removeClasses=function(f,h){var u=this.appliedClasses[h],p=u.base,S=u.active,x=u.done;this.appliedClasses[h]={},p&&ee(f,p),S&&ee(f,S),x&&ee(f,x)},H.render=function(){var f=this.props,h=f.classNames,u=(0,b.A)(f,["classNames"]);return U.createElement(R.Ay,(0,o.A)({},u,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},Z}(U.Component);J.defaultProps={classNames:""},J.propTypes={};const F=J},93218:(_e,de,n)=>{"use strict";n.d(de,{Ay:()=>T});var o=n(95211),b=n(7043),j=n(51044),m=n(60185);const E={disabled:!1},re=j.createContext(null);var Y=n(41083),U="unmounted",R="exited",te="entering",Q="entered",ee="exiting",J=function(Z){(0,b.A)(H,Z);function H(f,h){var u;u=Z.call(this,f,h)||this;var p=h,S=p&&!p.isMounting?f.enter:f.appear,x;return u.appearStatus=null,f.in?S?(x=R,u.appearStatus=te):x=Q:f.unmountOnExit||f.mountOnEnter?x=U:x=R,u.state={status:x},u.nextCallback=null,u}H.getDerivedStateFromProps=function(h,u){var p=h.in;return p&&u.status===U?{status:R}:null};var c=H.prototype;return c.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},c.componentDidUpdate=function(h){var u=null;if(h!==this.props){var p=this.state.status;this.props.in?p!==te&&p!==Q&&(u=te):(p===te||p===Q)&&(u=ee)}this.updateStatus(!1,u)},c.componentWillUnmount=function(){this.cancelNextCallback()},c.getTimeouts=function(){var h=this.props.timeout,u,p,S;return u=p=S=h,h!=null&&typeof h!="number"&&(u=h.exit,p=h.enter,S=h.appear!==void 0?h.appear:p),{exit:u,enter:p,appear:S}},c.updateStatus=function(h,u){if(h===void 0&&(h=!1),u!==null)if(this.cancelNextCallback(),u===te){if(this.props.unmountOnExit||this.props.mountOnEnter){var p=this.props.nodeRef?this.props.nodeRef.current:m.findDOMNode(this);p&&(0,Y.F)(p)}this.performEnter(h)}else this.performExit();else this.props.unmountOnExit&&this.state.status===R&&this.setState({status:U})},c.performEnter=function(h){var u=this,p=this.props.enter,S=this.context?this.context.isMounting:h,x=this.props.nodeRef?[S]:[m.findDOMNode(this),S],N=x[0],O=x[1],w=this.getTimeouts(),K=S?w.appear:w.enter;if(!h&&!p||E.disabled){this.safeSetState({status:Q},function(){u.props.onEntered(N)});return}this.props.onEnter(N,O),this.safeSetState({status:te},function(){u.props.onEntering(N,O),u.onTransitionEnd(K,function(){u.safeSetState({status:Q},function(){u.props.onEntered(N,O)})})})},c.performExit=function(){var h=this,u=this.props.exit,p=this.getTimeouts(),S=this.props.nodeRef?void 0:m.findDOMNode(this);if(!u||E.disabled){this.safeSetState({status:R},function(){h.props.onExited(S)});return}this.props.onExit(S),this.safeSetState({status:ee},function(){h.props.onExiting(S),h.onTransitionEnd(p.exit,function(){h.safeSetState({status:R},function(){h.props.onExited(S)})})})},c.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},c.safeSetState=function(h,u){u=this.setNextCallback(u),this.setState(h,u)},c.setNextCallback=function(h){var u=this,p=!0;return this.nextCallback=function(S){p&&(p=!1,u.nextCallback=null,h(S))},this.nextCallback.cancel=function(){p=!1},this.nextCallback},c.onTransitionEnd=function(h,u){this.setNextCallback(u);var p=this.props.nodeRef?this.props.nodeRef.current:m.findDOMNode(this),S=h==null&&!this.props.addEndListener;if(!p||S){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var x=this.props.nodeRef?[this.nextCallback]:[p,this.nextCallback],N=x[0],O=x[1];this.props.addEndListener(N,O)}h!=null&&setTimeout(this.nextCallback,h)},c.render=function(){var h=this.state.status;if(h===U)return null;var u=this.props,p=u.children,S=u.in,x=u.mountOnEnter,N=u.unmountOnExit,O=u.appear,w=u.enter,K=u.exit,D=u.timeout,ne=u.addEndListener,k=u.onEnter,V=u.onEntering,z=u.onEntered,I=u.onExit,P=u.onExiting,q=u.onExited,pe=u.nodeRef,ge=(0,o.A)(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return j.createElement(re.Provider,{value:null},typeof p=="function"?p(h,ge):j.cloneElement(j.Children.only(p),ge))},H}(j.Component);J.contextType=re,J.propTypes={};function F(){}J.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:F,onEntering:F,onEntered:F,onExit:F,onExiting:F,onExited:F},J.UNMOUNTED=U,J.EXITED=R,J.ENTERING=te,J.ENTERED=Q,J.EXITING=ee;const T=J},41083:(_e,de,n)=>{"use strict";n.d(de,{F:()=>o});var o=function(j){return j.scrollTop}},82928:(_e,de)=>{"use strict";var n;n={value:!0};var o=Object.assign||function(re){for(var Y=1;Y<arguments.length;Y++){var U=arguments[Y];for(var R in U)Object.prototype.hasOwnProperty.call(U,R)&&(re[R]=U[R])}return re},b=function(){var Y=null,U={},R=function(F){var T=U[F.type];return T&&T(Y,F)},te=function(F){if(typeof F.getState!="function"||typeof F.dispatch!="function")throw new Error("[ReduxEntry][middleware] invalid reduxMiddlewareStore");if(Y!==null)throw new Error("[ReduxEntry][middleware] already set reduxMiddlewareStore");return Y=F,function(T){return function(Z){return R(Z)===!0||T(Z)}}},Q=function(F,T){if(typeof F!="string")throw new Error("[ReduxEntry][setEntry] non-string actionType: "+F);if(typeof T!="function")throw new Error("[ReduxEntry][setEntry] non-function entryFunction: "+F+", "+T);U[F]&&console.warn("[ReduxEntry][setEntry] possible unexpected entry overwrite: "+F),U[F]=T},ee=function(F){return Object.keys(F).forEach(function(T){return Q(T,F[T])})};return{middleware:te,setEntry:Q,setEntryMap:ee}},j=function(Y){if(Y===void 0)throw new Error("[ReduxEntry][createStateStore] initialState expected");return{getState:function(){return Y},setState:function(R){return Y=R},wrapEntry:function(R){return function(te,Q){return R(Y,te,Q)}}}},m=function(Y,U){var R=U.getState,te=U.setState;return function(Q,ee){var J=ee.type,F=ee.payload;return J===Y&&te(F),R()}},E=function(Y,U){var R=U.getState,te=U.setState;return function(Q,ee){var J=ee.type,F=ee.payload;return J===Y&&te(o({},R(),F)),R()}};de.RZ=b,de.J$=j,de.Tf=m,n=E},28055:(_e,de,n)=>{"use strict";n.d(de,{Tw:()=>S,HY:()=>f,Zz:()=>p,y$:()=>F,Yl:()=>T});var o=n(74059);function b(x,N){var O=Object.keys(x);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(x);N&&(w=w.filter(function(K){return Object.getOwnPropertyDescriptor(x,K).enumerable})),O.push.apply(O,w)}return O}function j(x){for(var N=1;N<arguments.length;N++){var O=arguments[N]!=null?arguments[N]:{};N%2?b(Object(O),!0).forEach(function(w){(0,o.A)(x,w,O[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(O)):b(Object(O)).forEach(function(w){Object.defineProperty(x,w,Object.getOwnPropertyDescriptor(O,w))})}return x}function m(x){return"Minified Redux error #"+x+"; visit https://redux.js.org/Errors?code="+x+" for the full message or use the non-minified dev environment for full errors. "}var E=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),re=function(){return Math.random().toString(36).substring(7).split("").join(".")},Y={INIT:"@@redux/INIT"+re(),REPLACE:"@@redux/REPLACE"+re(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+re()}};function U(x){if(typeof x!="object"||x===null)return!1;for(var N=x;Object.getPrototypeOf(N)!==null;)N=Object.getPrototypeOf(N);return Object.getPrototypeOf(x)===N}function R(x){if(x===void 0)return"undefined";if(x===null)return"null";var N=typeof x;switch(N){case"boolean":case"string":case"number":case"symbol":case"function":return N}if(Array.isArray(x))return"array";if(ee(x))return"date";if(Q(x))return"error";var O=te(x);switch(O){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return O}return N.slice(8,-1).toLowerCase().replace(/\s/g,"")}function te(x){return typeof x.constructor=="function"?x.constructor.name:null}function Q(x){return x instanceof Error||typeof x.message=="string"&&x.constructor&&typeof x.constructor.stackTraceLimit=="number"}function ee(x){return x instanceof Date?!0:typeof x.toDateString=="function"&&typeof x.getDate=="function"&&typeof x.setDate=="function"}function J(x){var N=typeof x;return N}function F(x,N,O){var w;if(typeof N=="function"&&typeof O=="function"||typeof O=="function"&&typeof arguments[3]=="function")throw new Error(m(0));if(typeof N=="function"&&typeof O>"u"&&(O=N,N=void 0),typeof O<"u"){if(typeof O!="function")throw new Error(m(1));return O(F)(x,N)}if(typeof x!="function")throw new Error(m(2));var K=x,D=N,ne=[],k=ne,V=!1;function z(){k===ne&&(k=ne.slice())}function I(){if(V)throw new Error(m(3));return D}function P(we){if(typeof we!="function")throw new Error(m(4));if(V)throw new Error(m(5));var ke=!0;return z(),k.push(we),function(){if(ke){if(V)throw new Error(m(6));ke=!1,z();var ze=k.indexOf(we);k.splice(ze,1),ne=null}}}function q(we){if(!U(we))throw new Error(m(7));if(typeof we.type>"u")throw new Error(m(8));if(V)throw new Error(m(9));try{V=!0,D=K(D,we)}finally{V=!1}for(var ke=ne=k,Me=0;Me<ke.length;Me++){var ze=ke[Me];ze()}return we}function pe(we){if(typeof we!="function")throw new Error(m(10));K=we,q({type:Y.REPLACE})}function ge(){var we,ke=P;return we={subscribe:function(ze){if(typeof ze!="object"||ze===null)throw new Error(m(11));function Ze(){ze.next&&ze.next(I())}Ze();var Oe=ke(Ze);return{unsubscribe:Oe}}},we[E]=function(){return this},we}return q({type:Y.INIT}),w={dispatch:q,subscribe:P,getState:I,replaceReducer:pe},w[E]=ge,w}var T=n.j!=15?F:null;function Z(x){typeof console<"u"&&typeof console.error=="function"&&console.error(x);try{throw new Error(x)}catch(N){}}function H(x,N,O,w){var K=Object.keys(N),D=O&&O.type===Y.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(K.length===0)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!U(x))return"The "+D+' has unexpected type of "'+J(x)+'". Expected argument to be an object with the following '+('keys: "'+K.join('", "')+'"');var ne=Object.keys(x).filter(function(k){return!N.hasOwnProperty(k)&&!w[k]});if(ne.forEach(function(k){w[k]=!0}),!(O&&O.type===Y.REPLACE)&&ne.length>0)return"Unexpected "+(ne.length>1?"keys":"key")+" "+('"'+ne.join('", "')+'" found in '+D+". ")+"Expected to find one of the known reducer keys instead: "+('"'+K.join('", "')+'". Unexpected keys will be ignored.')}function c(x){Object.keys(x).forEach(function(N){var O=x[N],w=O(void 0,{type:Y.INIT});if(typeof w>"u")throw new Error(m(12));if(typeof O(void 0,{type:Y.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(m(13))})}function f(x){for(var N=Object.keys(x),O={},w=0;w<N.length;w++){var K=N[w];typeof x[K]=="function"&&(O[K]=x[K])}var D=Object.keys(O),ne,k;try{c(O)}catch(V){k=V}return function(z,I){if(z===void 0&&(z={}),k)throw k;if(0)var P;for(var q=!1,pe={},ge=0;ge<D.length;ge++){var we=D[ge],ke=O[we],Me=z[we],ze=ke(Me,I);if(typeof ze>"u"){var Ze=I&&I.type;throw new Error(m(14))}pe[we]=ze,q=q||ze!==Me}return q=q||D.length!==Object.keys(z).length,q?pe:z}}function h(x,N){return function(){return N(x.apply(this,arguments))}}function u(x,N){if(typeof x=="function")return h(x,N);if(typeof x!="object"||x===null)throw new Error(m(16));var O={};for(var w in x){var K=x[w];typeof K=="function"&&(O[w]=h(K,N))}return O}function p(){for(var x=arguments.length,N=new Array(x),O=0;O<x;O++)N[O]=arguments[O];return N.length===0?function(w){return w}:N.length===1?N[0]:N.reduce(function(w,K){return function(){return w(K.apply(void 0,arguments))}})}function S(){for(var x=arguments.length,N=new Array(x),O=0;O<x;O++)N[O]=arguments[O];return function(w){return function(){var K=w.apply(void 0,arguments),D=function(){throw new Error(m(15))},ne={getState:K.getState,dispatch:function(){return D.apply(void 0,arguments)}},k=N.map(function(V){return V(ne)});return D=p.apply(void 0,k)(K.dispatch),j(j({},K),{},{dispatch:D})}}}},7043:(_e,de,n)=>{"use strict";n.d(de,{A:()=>b});function o(j,m){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,re){return E.__proto__=re,E},o(j,m)}function b(j,m){j.prototype=Object.create(m.prototype),j.prototype.constructor=j,o(j,m)}}}]);

//# sourceMappingURL=4.n9fxu-vendor-44211bdf318ace21aac5.js.map